<<<<<<< HEAD
{% extends 'includes/master.html' %}
{% load static %}
{% block head %}
<title>PENDING VERIFICATION - CIIS</title>



<style type="text/css" media="print">
  
  @page {
  size: auto;   /* auto is the initial value */
  margin: 0;  /* this affects the margin in the printer settings */
}
@media print {
      body * {
          visibility: hidden;
      }
      .print_form,
      .print_form *:not(.print_button) {
          
          visibility: visible;
          
      }
      
  }
</style>

{% endblock head %}




{% block body %}
{% if request.user.is_superuser or request.user.is_data_entry %}



<div class="pages-body-bg-color py-3">
    <section class="pending-verification   mb-3">
        <div class="row">
            <div class="col-12">
           
                <div class="white-box">
                    <div class="inner-block px-4">
                        <div class="row">
                            <div class="col-12">
                                <div class="box-title pt-4 ">
                                    <h5 class="font-18 text-uppercase font-bold text-black">All Registered Students</h5>
                                </div>
                                <div class="box-text  ">
                                    <p class="font-16 text-xlightgray">List of students who have registered</p>
                                </div>
                            </div>
                        </div>
                       
                        <div class="entries-table pt-4" >
                            
                            <table id="example" class="format-table text-center zebra-table">
                                <thead>
                                    <tr class="bottom-border-grey">
                                        <th class="font-14 font-bold text-darkgray  px-2" scope="col">Sr.No</th>
                                        <th class="font-14 font-bold text-darkgray  px-2" scope="col">Current Semester/Year</th>
                                        <th class="font-14 font-bold text-darkgray  px-2" scope="col">Enrollment ID</th>
                                        <!--th class="font-14 font-bold text-darkgray  px-2" scope="col">Registration ID</th-->
                                        <th class="font-14 font-bold text-darkgray  px-2" scope="col">Student Name</th>
                                        <th class="font-14 font-bold text-darkgray  px-2" scope="col">University Name</th>
                                        <th class="font-14 font-bold text-darkgray px-2" scope="col">Source</th>
                                        <th class="font-14 font-bold text-darkgray px-2" scope="col">Study Pattern / Mode</th>
                                        <th class="font-14 font-bold text-darkgray px-2" scope="col">Entry Mode</th>
                                        <th class="font-14 font-bold text-darkgray px-2" scope="col">Enrollment Date</th>
                                        <th>Action</th>
            
            
            
                                    </tr>
                                </thead>
                            </table>
                    
                         
                        
                    </div>
                  
                 
                </div>
            </div>
        </div>
       
  
    </section>
  
  
    
  
  </div>









{% endif %}

<div class="all_modals">
    <div class="modal fade" id="feespaidmodal" tabindex="-1" aria-labelledby="feespaidmodalLabel" aria-hidden="true">
        <div class="modal-dialog" style="max-width: 80%;">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="feespaidmodalLabel">Paid Fees <input type="text"  id="fees_add_data_id" style="visibility: hidden;"></h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container mb-1" id="fees_add_data">
                        <div class="row">
                            <div class="col-sm-8">
                                <ul class="nav nav-pills" id="myTab">
                                    <li class="nav-item">
                                        <button  class="blue-bg text-blue font-bold font-12 no-border mx-2" onclick="ShowCommonFees($('#fees_add_data_id').val())" >Common Fees</button>
                                    </li>
                                    <li class="nav-item">
                                        <button class="blue-bg text-blue font-bold font-12 no-border mx-2" onclick="ShowAdditionalFees($('#fees_add_data_id').val())">Additional Fees</button>
                                    </li>
                                </ul>
                            </div>
                            <div class="col-sm-2">
                                <button class="blue-bg text-blue font-bold font-12 no-border" onclick="CommonFees($('#fees_add_data_id').val())">+ Common Fees</button>
                            </div>
                            
                        </div>
                    </div>
                    
                    <div class="container" id="feesmodaldata">
                        <div class="fees_container" style="overflow-x: auto;">
                            <table class="table format-table table-bordered text-center" id="fees_registered_table" >
                                <thead id="fees_modal_head">
        
                                </thead>
                                <tbody id="table_body">
        
        
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blue font-bold font-12 no-border" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="reciept_modal" tabindex="-1" aria-labelledby="reciept_modalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="reciept_modalLabel">Reciept<span><button class="btn-closer" data-title="Print" onclick="print_reciept()">
                        <i class="mr-1 fa fa-print text-primary-m1 text-120 w-2"></i>
                        Print
                    </button></span></h5>
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="reciept_modal_body">
                        
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blue font-bold font-12 no-border" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="idcardmodal" tabindex="-1" aria-labelledby="idcardmodalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="idcardmodalLabel">Paid Fees</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="idcardmodaldata">
    
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="PaymentUpdatemodal" tabindex="-1" aria-labelledby="PaymentUpdatemodalLabel" aria-hidden="true">
        <div class="modal-dialog" style="max-width: 80%;">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="PaymentUpdatemodalLabel">Update Payment <input type="text"  id="payment_update_id" style="visibility: hidden;"></h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="paymentUpdatedata">
                        <table class="table format-table table-bordered text-center" id="payment_update_table">
                            <thead id="payment_update_modal_head">
    
                            </thead>
                            <tbody id="payment_update_table_body">
    
    
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <!---New-->
    <div class="modal fade" id="PersonalDocumentImagesModal" tabindex="-1" aria-labelledby="PersonalDocumentImagesModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="PersonalDocumentImagesModalLabel">Personal Images </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="PersonalDocumentImagesModaldata" >
                        <div id="carouselExampleDark" class="carousel carousel-dark slide" data-bs-ride="carousel">
                            <div class="carousel-indicators" id="add_carousel_indicators">
                                
                            </div>
                            <div class="carousel-inner" id="add_main_carousel_data">
                                
                            </div>
                            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleDark" data-bs-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Previous</span>
                            </button>
                            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleDark" data-bs-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Next</span>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    
    <div class="modal fade" id="RequestFeesModal" tabindex="-1" aria-labelledby="RequestFeesModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="RequestFeesModalLabel">Request Fees <input type="text" id="request_fees_student_id"> <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="get_request_fees($('#request_fees_student_id').val())">History</button> </h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="RequestFeesModaldata">
                        <div class="form">
                            <div class="row">
                                <div class="col-4">
                                    <div class="mb-3">
                                        <label for="emailID" class="">Email ID</label>
                                        <input type="email" disabled class="" id="emailID">
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="mb-3">
                                        <label for="request_amount" class="">Amount</label>
                                        <input type="number" class="" id="request_amount">
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="mb-3">
                                        <label for="request_payment_categories" class="">Payment Categories</label>
                                        <select class="" aria-label="Default select example" id="request_payment_categories">
                                            <option selected value="">Select from Dropdown</option>
                                            <option value="Re-Registration Fees">Re-Registration Fees</option>
                                            <option value="Examination Fees">Examination Fees</option>
                                            <option value="RE-SITTING FEE">RE-SITTING FEE</option>
                                            <option value="OTHER">OTHER</option>
                                          </select>
                                    </div>
                                </div>
                              
                                </div>
                                
                                
                            </div>
                            <div class="row">
                                <div class="col-4">
                                    <div class="mb-3">
                                        <label for="request_payment_type" class="">Payment Type</label>
                                        <select class="" aria-label="Default select example" id="request_payment_type">
                                            <option value="Full Payment">Full Payment</option>
                                            <option value="Part Payment">Part Payment</option>
                                            <option value="Dues">Dues</option>
                                          </select>
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="mb-3">
                                        <label for="subject" class="">Subject</label>
                                        <input type="text" class="" id="subject">
                                    </div>
                                </div>
                                
                                <div class="col-4">
                                    <div class="mb-3">
                                        <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " style="margin-top: 30px;" onclick="fetch_message()">Fetch Message</button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="row">
                                <div class="col-12">
                                    <div class="form-floating">
                                        <textarea class="w-100" placeholder="Message To Send..!" id="MessageArea"
                                            ></textarea>
                                           
                                       
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-2">
                                    <div class="mt-3">
                                        <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="sendEmail()" >Send</button>
                                    </div>
            
                                </div>
                                <div class="col-4" id="request_other_container" style="visibility: hidden;">
                                    <div class="mb-3">
                                        <label for="other_payment_categories" class="">Other</label>
                                        <input type="text" class="" id="other_payment_categories">
                                    </div>
                            </div>
                         
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="RequestFeesHistoryModal" tabindex="-1" aria-labelledby="RequestFeesHistoryModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="RequestFeesHistoryModalLabel">Request Fees History</h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="RequestFeesHistoryModaldata">
                        <table class="table format-table table-bordered">
                            <thead>
                                <tr>
                                    <th scope="col">Sr.No</th>
                                    <th scope="col">Amount</th>
                                    <th scope="col">Payment Categories</th>
                                    <th scope="col">Payment Type</th>
                                </tr>
                            </thead>
                            <tbody id="request_fees_history_modal_table_body">
    
    
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="UniversityExamFeesModal" tabindex="-1" aria-labelledby="UniversityExamFeesModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="UniversityExamFeesModalLabel">University Exam Fees <input type="text" id="university_examination_student_id"> </h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="UniversityExamFeesModaldata">
                        <div class="row">
                            <div class="col-sm-8">
                                
                            </div>
                            <div class="col-sm-4">
                                <button class="mb-3 blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="AddUniversityExamination($('#university_examination_student_id').val())">+ University Examination</button>
                            </div>
                        </div>
                        <div id="university_examination_remarks_output">
    
                        </div>
                        <table class="table format-table table-bordered">
                            <thead>
                              <tr>
                                <th scope="col">Sr.No</th>
                                <th scope="col">Amount</th>
                                <th scope="col">Date</th>
                                <th scope="col">Examination</th>
                                <th scope="col">Semester/Year</th>
                                <th scope="col">Payment Mode</th>
                                <th scope="col">Remark</th>
                                
                              </tr>
                            </thead>
                            <tbody id="university_exam_table_body">
                             
                              
                            </tbody>
                          </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="AddNewUniversityExamFeesModal" tabindex="-1" aria-labelledby="AddNewUniversityExamFeesModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="AddNewUniversityExamFeesModalLabel">Add University Exam Fees <input type="text" id="add_university_examination_student_id"> </h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="AddNewUniversityExamFeesModaldata">
                        <div class="row">
                            <div class="col-6">
                                <div class="mb-3">
                                    <label for="add_university_examination_amount">Amount</label>
                                    <input type="text" required class="" id="add_university_examination_amount">
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="mb-3">
                                    <label for="add_university_examination_date">Date</label>
                                    <input type="date" required class="" id="add_university_examination_date">
                                </div>
                            </div>
                        </div>
                        <div class="row">
    
                        
                            <div class="col-6">
                                <div class="mb-3">
                                    <label for="add_university_examination_examination">Examination</label>
                                    <input type="text" required class="" id="add_university_examination_examination">
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="mb-3">
                                    <label for="add_university_examination_semyear">Semester / Year</label>
                                    <input type="text" required class="" id="add_university_examination_semyear">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-6">
                                <label for="add_university_examination_paymentmode">Payment Mode</label>
                                <select class="" name="" required id="add_university_examination_paymentmode">
                                    <option value="">Select Payment Mode</option>
                                    <option value="NEFT">NEFT</option>
                                    <option value="NET BANKING">NET BANKING</option>
                                    <option value="BULK NEFT-RTGS">BULK NEFT-RTGS</option>
                                </select>
                            </div>
                            <div class="col-6">
                                <div class="mb-3">
                                    <label for="add_university_examination_remarks">Remarks</label>
                                    <input type="text" required class="" id="add_university_examination_remarks">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-4">
                                <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="add_university_examination($('#add_university_examination_student_id').val())">Save</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    
    <div class="modal fade" id="UniversityReRegistrationModal" tabindex="-1" aria-labelledby="UniversityReRegistrationModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="UniversityReRegistrationModalLabel">University Re-Registration <input type="text" id="university_re_registration_student_id"> </h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="UniversityReRegistrationModaldata">
                        <div class="row">
                            <div class="col-sm-8">
                                
                            </div>
                            <div class="col-sm-4">
                                <button class="mb-3 blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="AddUniversityRe_Registration($('#university_re_registration_student_id').val())">+ University Re-Registration</button>
                            </div>
                        </div>
                        <div id="university_re_registration_remarks_output">
    
                        </div>
                        <table class="table format-table table-bordered">
                            <thead>
                              <tr>
                                <th scope="col">Sr.No</th>
                                <th scope="col">Amount</th>
                                <th scope="col">Date</th>
                                <th scope="col">Examination</th>
                                <th scope="col">Semester/Year</th>
                                <th scope="col">Payment Mode</th>
                                <th scope="col">Remark</th>
                                
                              </tr>
                            </thead>
                            <tbody id="university_re_registration_table_body">
                             
                              
                            </tbody>
                          </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="AddNewUniversityReRegistrationModal" tabindex="-1" aria-labelledby="AddNewUniversityReRegistrationModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="AddNewUniversityReRegistrationModalLabel">Add University Re-Registration <input type="text" id="add_university_re_registration_student_id"> </h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="AddNewUniversityReRegistrationModaldata">
                        <div class="row">
                            <div class="col-6">
                                <div class="mb-3">
                                    <label for="add_university_re_registration_amount">Amount</label>
                                    <input type="text" required class="" id="add_university_re_registration_amount">
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="mb-3">
                                    <label for="add_university_re_registration_date">Date</label>
                                    <input type="date" required class="" id="add_university_re_registration_date">
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="mb-3">
                                    <label for="add_university_re_registration_examination">Examination</label>
                                    <input type="text" required class="" id="add_university_re_registration_examination">
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="mb-3">
                                    <label for="add_university_re_registration_semyear">Semester / Year</label>
                                    <input type="text" required class="" id="add_university_re_registration_semyear">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-6">
                                <label for="add_university_re_registration_paymentmode">Payment Mode</label>
                                <select class="" name="" required id="add_university_re_registration_paymentmode">
                                    <option value="">Select Payment Mode</option>
                                    <option value="NEFT">NEFT</option>
                                    <option value="NET BANKING">NET BANKING</option>
                                    <option value="BULK NEFT-RTGS">BULK NEFT-RTGS</option>
                                </select>
                            </div>
                            <div class="col-6">
                                <div class="mb-3">
                                    <label for="add_university_re_registration_remarks">Remarks</label>
                                    <input type="text" required class="" id="add_university_re_registration_remarks">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-4">
                                <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="add_university_re_registration($('#add_university_re_registration_student_id').val())">Save</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="GetResultUploadedModal" tabindex="-1" aria-labelledby="GetResultUploadedModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="GetResultUploadedModalLabel">Result Uploaded <input type="text" id="get_resultuploaded_student_id"> </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="GetResultUploadedModaldata">
                        <div class="row">
                            <div class="col-sm-8">
                                
                            </div>
                            <div class="col-sm-4">
                                <button class="mb-3 blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="AddResultUploaded($('#get_resultuploaded_student_id').val())">+ Result Uploaded</button>
                            </div>
                        </div>
                        <div id="get_resultuploaded_remarks_output">
    
                        </div>
                        <table class="table format-table table-bordered">
                            <thead>
                              <tr>
                                <th scope="col">Sr.No</th>
                                <th scope="col">Date</th>
                                <th scope="col">Examination</th>
                                <th scope="col">Semester/Year</th>
                                <th scope="col">Uploaded (Yes / No)</th>
                                <th scope="col">Remark</th>
                                <th scope="col">Edit</th>
                                
                                
                              </tr>
                            </thead>
                            <tbody id="get_resultuploaded_table_body">
                             
                              
                            </tbody>
                          </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="AddResultUploadedModal" tabindex="-1" aria-labelledby="AddResultUploadedModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="AddResultUploadedModalLabel">Add Result Uploaded <input type="text" id="add_result_uploaded_student_id"> </h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="AddResultUploadedModaldata">
                        <div class="row">
                            
                            <div class="col-4">
                                <div class="mb-3">
                                    <label for="add_result_uploaded_date">Date</label>
                                    <input type="date" required class="" id="add_result_uploaded_date">
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="mb-3">
                                    <label for="add_result_uploaded_examination">Examination</label>
                                    <input type="text" required class="" id="add_result_uploaded_examination">
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="mb-3">
                                    <label for="add_result_uploaded_semyear">Semester / Year</label>
                                    <input type="text" required class="" id="add_result_uploaded_semyear">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-4">
                                <label for="add_result_uploaded_yn">Result Uploaded(Yes / No)</label>
                                <select class="" name="" required id="add_result_uploaded_yn">
                                    <option value="">Select Uploaded</option>
                                    <option value="Yes">Yes</option>
                                    <option value="No">No</option>
                                </select>
                            </div>
                            <div class="col-8">
                                <div class="mb-3">
                                    <label for="add_result_uploaded_remarks">Remarks</label>
                                    <input type="text" required class="" id="add_result_uploaded_remarks">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-4">
                                <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="add_result_uploaded($('#add_result_uploaded_student_id').val())">Save</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="EditResultUploadedModal" tabindex="-1" aria-labelledby="EditResultUploadedModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="EditResultUploadedModalLabel">Edit Result Uploaded <input type="text" id="edit_result_uploaded"> </h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="EditResultUploadedModaldata">
                        <div class="row">
                            
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <label for="edit_result_uploaded_date">Date</label>
                                    <input type="date" required class="" id="edit_result_uploaded_date">
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <label for="edit_result_uploaded_examination">Examination</label>
                                    <input type="text" required class="" id="edit_result_uploaded_examination">
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <label for="edit_result_uploaded_semyear">Semester / Year</label>
                                    <input type="text" required class="" id="edit_result_uploaded_semyear">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-4">
                                <label for="edit_result_uploaded_yn">Result Uploaded(Yes / No)</label>
                                <select class="" name="" required id="edit_result_uploaded_yn">
                                    <option value="">Select Uploaded</option>
                                    <option value="Yes">Yes</option>
                                    <option value="No">No</option>
                                </select>
                            </div>
                            <div class="col-sm-8">
                                <div class="mb-3">
                                    <label for="edit_result_uploaded_remarks">Remarks</label>
                                    <input type="text" required class="" id="edit_result_uploaded_remarks">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-4">
                                <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="edit_result_uploaded($('#edit_result_uploaded').val())">Save</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="DocumentsModal" tabindex="-1" aria-labelledby="DocumentsModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="DocumentsModalLabel">Documents <span id="documents_upload_output"></span><input type="text" id="upload_document_student_id" style="visibility:hidden;" ></h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    
                    <div class="container" id="DocumentsModaldata">
                        <div class="uploaddocuments" id="documents_hidden">
                            <table class="table format-table">
                                <thead>
                                    <tr>
                                        <th scope="col">Exam</th>
                                        <th scope="col">Year of Passing</th>
                                        <th scope="col">Board/University</th>
                                        <th scope="col">Percentage(%)</th>
                                        <th scope="col">Upload Document</th>
                                    </tr>
                                </thead>
                                <tbody id="Documentsuploadbody">
                                    <tr>
                                        <td class="font-14 text-extralightgray px-2 text-center ">
                                            <select class="" id="upload_qualification_name" aria-label="Default select example">
                                                <option selected value="Secondary/High School">Secondary/High School</option>
                                                <option value="Sr. Secondary">Sr. Secondary</option>
                                                <option value="Under Graduation">Under Graduation</option>
                                                <option value="Post Graduation">Post Graduation</option>
                                                <option value="M.Phil">M.Phil</option>
                                                <option value="Others">Others</option>
                                                
                                            </select>
                                        </td>
                                        <td class="font-14 text-extralightgray px-2 text-center ">
                                            <select class="" id="upload_qualification_year" aria-label="Default select example">
                                                <option value="2010">2010</option>
                                                <option value="2011">2011</option>
                                                <option value="2012">2012</option>
                                                <option value="2013">2013</option>
                                                <option value="2014">2014</option>
                                                <option value="2015">2015</option>
                                                <option value="2016">2016</option>
                                                <option value="2017">2017</option>
                                                <option value="2018">2018</option>
                                                <option value="2019">2019</option>
                                                <option value="2020">2020</option>
                                                <option value="2021">2021</option>
                                                <option value="2022">2022</option>
                                            </select>
                                        </td>
                                        <td class="font-14 text-extralightgray px-2 text-center ">
                                            <input type="text" class="" id="upload_qualification_board">
                                        </td>
                                        <td class="font-14 text-extralightgray px-2 text-center ">
                                            <input type="text" class="" id="upload_qualification_percentage">
                                        </td >
                                        <td class="font-14 text-extralightgray px-2 text-center ">
                                            <input type="file" class="" id="upload_qualification_document">
                                        </td>
                                       
                                        
    
                                    </tr>
                                  
                                    
                                </tbody>
                                
                            </table>
                            <div class="detail-block pb-4 px-5">
                                <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border "onclick="addDocuments()">Add</button>
                            </div>
                        </div>
                        <div class="documents" id="documents_present">
                            <table class="table format-table">
                                <thead>
                                    <tr>
                                        <th scope="col">Exam</th>
                                        <th scope="col">Year of Passing</th>
                                        <th scope="col">Board/University</th>
                                        <th scope="col">Percentage(%)</th>
                                        <th scope="col">Uploaded Document</th>
                                        <th scope="col">Download</th>
                                        
                                    </tr>
                                </thead>
                                <tbody id="DocumentsModalTableBody">
        
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="documentUploaded" tabindex="-1" aria-labelledby="documentUploadedLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="documentUploadedLabel">Document Uploaded</h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="document_body">
                    <embed id="document_data" frameborder="0" type="application/pdf" width="100%" height="400px">
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="SyllabusModal" tabindex="-1" aria-labelledby="SyllabusModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="SyllabusModalLabel">Syllabus</h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="StudentSyllabusdata">
                        <input type="text" id="studentsyllabus_student_id" style="visibility:hidden;">
                        <table class="table format-table">
                            <thead>
                                <tr>
                                    <th scope="col">Semester</th>
                                    <th scope="col">Syllabus</th>
                                    <th scope="col"></th>
                                </tr>
                            </thead>
                            <tbody id="uploadResult">
                                <tr>
                                    <td class="font-14 text-extralightgray px-2 text-center "><input type="text" id="studentsyllabus_semester" class=""></td>
                                    <td class="font-14 text-extralightgray px-2 text-center "><input type="file" id="studentsyllabus_file" class=""></td>
                                    <td class="font-14 text-extralightgray px-2 text-center "><button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="savestudentsyllabus()">Add</button></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="container" id="SyllabusModalMaindata">
                        <div class="syllabusmainhidden" id="syllabusmainhidden" style="visibility:hidden;">
                            <h1  class="font-20 font-bold text-darkblue"></h1>>ALL Stream Syllabus</h1>
                            <div id="SyllabusModaldata">
    
                            </div>
                        </div>
                        <div class="studentsyllabushidden" id="studentsyllabushidden" style="visibility:hidden;">
                            <h1 class="font-20 font-bold text-darkblue">Student Syllabus</h1>
                            <div>
                                <table class="table format-table">
                                    <thead>
                                    <tr>
                                        <th scope="col">Semester</th>
                                        <th scope="col">Syllabus</th>
                                    </tr>
                                    </thead>
                                    <tbody id="StudentSyllabusModaldata">
                                    
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="ResultUploadedModal" tabindex="-1" aria-labelledby="ResultUploadedModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="ResultUploadedModalLabel">Personal Documents<input type="text" id="upload_result_student_id" style="visibility:visible;"><input type="text" id="upload_result_student_enroll_id" style="visibility:visible;width:150px;"></h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="ResultUploadedModaldata">
                        <div class="row">
                            <div class="col-sm-12">
                                <ul class="nav nav-pills" id="myTab">
                                    <li class="nav-item">
                                        <button  class="blue-bg text-blue font-bold font-12 no-border m-2" onclick="ShowBasicDocuments($('#upload_result_student_id').val())" >Basic Documents</button>
                                    </li>
                                    <li class="nav-item">
                                        <button class="blue-bg text-blue font-bold font-12 no-border m-2 " onclick="ShowPersonalDocuments($('#upload_result_student_enroll_id').val())">Personal Documents</button>
                                    </li>
                                </ul>
                            </div>
                            
                            
                        </div>
                        <div id="basic_documents_container">
    
                        </div>
                        
                       
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="resultUploaded" tabindex="-1" aria-labelledby="resultUploadedLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="resultUploadedLabel">Result Uploaded</h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="result_body">
                    <embed id="result_data" frameborder="0" type="application/pdf" width="100%" height="400px">
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    
    
    
    
    <div class="modal fade" id="NewUniversityEnrollmentIDModal" tabindex="-1" aria-labelledby="NewUniversityEnrollmentIDModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="NewUniversityEnrollmentIDModalLabel">New University Enrollment ID <input type="text" id="new_university_enrollment_student_id"> </h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="NewUniversityEnrollmentIDModaldata">
                        <div class="row">
                            <div class="col-sm-8">
                                
                            </div>
                            <div class="col-sm-4">
                                <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="AddNewUniversityEnrollment($('#new_university_enrollment_student_id').val())">+ New University Enrollment ID</button>
                            </div>
                        </div>
                        <table class="table table-bordered format-table mt-3">
                            <thead>
                              <tr>
                                <th scope="col">Sr.No</th>
                                <th scope="col">Course    </th>
                                <th scope="col">NEW UNIVERSITY ENROLLMENT NUMBER</th>
                                
                              </tr>
                            </thead>
                            <tbody id="new_university_enrollment_no_table_body">
                             
                              
                            </tbody>
                          </table>
                        
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="AddNewUniversityEnrollmentIDModal" tabindex="-1" aria-labelledby="AddNewUniversityEnrollmentIDModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="AddNewUniversityEnrollmentIDModalLabel">Add New University Enrollment ID <input type="text" id="add_new_university_enrollment_student_id"> </h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="AddNewUniversityEnrollmentIDModaldata">
                        <div class="row">
                            <div class="col-6">
                                <div class="mb-3">
                                    <label for="select_new_university_enrollment_university">University</label>
                                    <select name="" class="" id="select_new_university_enrollment_university">
                                        <option value="">Select University</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="mb-3">
                                    <label for="select_new_university_enrollment_course">Course</label>
                                    <select name="" class="" id="select_new_university_enrollment_course">
                                        <option value="">Select Course</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="mb-3">
                                    <label for="select_new_university_enrollment_id">New University Enrollment ID</label>
                                    <input type="text" class="" id="select_new_university_enrollment_id">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="save_new_enrollment_id($('#add_new_university_enrollment_student_id').val())" >Save</button>
                                </div>
                            </div>
                        </div>
                        
                        
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class=" blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    
    <!--                     -->
    
    <div class="modal fade" id="OldUniversityEnrollmentIDModal" tabindex="-1" aria-labelledby="OldUniversityEnrollmentIDModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="OldUniversityEnrollmentIDModalLabel">Old University Enrollment ID <input type="text" id="old_university_enrollment_student_id"> </h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="OldUniversityEnrollmentIDModaldata">
                        <div class="row">
                            <div class="col-sm-8">
                                
                            </div>
                            <div class="col-sm-4">
                                <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="AddOldUniversityEnrollment($('#old_university_enrollment_student_id').val())">+ Old University Enrollment ID</button>
                            </div>
                        </div>
                        <table class="table format-table table-bordered mt-3">
                            <thead>
                              <tr>
                                <th scope="col">Sr.No</th>
                                <th scope="col">Course    </th>
                                <th scope="col">Old UNIVERSITY ENROLLMENT NUMBER</th>
                                
                              </tr>
                            </thead>
                            <tbody id="old_university_enrollment_no_table_body">
                             
                              
                            </tbody>
                          </table>
                        
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="AddOldUniversityEnrollmentIDModal" tabindex="-1" aria-labelledby="AddOldUniversityEnrollmentIDModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="AddOldUniversityEnrollmentIDModalLabel">Add Old University Enrollment ID <input type="text" id="add_old_university_enrollment_student_id"> </h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="AddOldUniversityEnrollmentIDModaldata">
                        <div class="row">
                            <div class="col-6">
                                <div class="mb-3">
                                    <label for="select_old_university_enrollment_university">University</label>
                                    <select name="" class="" id="select_old_university_enrollment_university">
                                        <option value="">Select University</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="mb-3">
                                    <label for="select_old_university_enrollment_course">Course</label>
                                    <select name="" class="" id="select_old_university_enrollment_course">
                                        <option value="">Select Course</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="mb-3">
                                    <label for="select_old_university_enrollment_id">old University Enrollment ID</label>
                                    <input type="text" class="" id="select_old_university_enrollment_id">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-3">
                                <div class="mb-3">
                                    <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="save_old_enrollment_id($('#add_old_university_enrollment_student_id').val())" >Save</button>
                                </div>
                            </div>
                        </div>
                        
                        
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="PaymentGatewayModal" tabindex="-1" aria-labelledby="PaymentGatewayModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="PaymentGatewayModalLabel">Payment Gateway</h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="PaymentGatewayModaldata">
    
                        <div class="form">
                            <form action='https://test.payu.in/_payment' method='post'>
                                <input type="hidden" name="key" id="key" value="" />
                                <input type="hidden" name="txnid" id="txnid" value="" />
                                <input type="hidden" name="productinfo" id="productinfo" value="" />
                                <input type="hidden" name="amount" id="amount" value="" />
                                <input type="hidden" name="email" id="email" value="" />
                                <input type="hidden" name="firstname" id="firstname" value="" />
                                <input type="hidden" name="lastname" id="lastname" value="" />
                                <input type="hidden" name="surl" id="surl" value="" />
                                <input type="hidden" name="furl" id="furl" value="" />
                                <input type="hidden" name="phone" id="phone" value="">
    
                                <input type="hidden" name="hash" id="hash" value="" />
                                <input type="submit" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " value="Pay">
                            </form>
                        </div>
    
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="PendingPaymentGatewayModal" tabindex="-1" aria-labelledby="PendingPaymentGatewayModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="PendingPaymentGatewayModalLabel">Payment Gateway</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="PendingPaymentGatewayModaldata">
                        <h1 class="pending font-26 font-bold text-blue" id="pending_amount_label"></h1>
                        <div class="form" id="hiddenform">
                            <form action='https://test.payu.in/_payment' method='post'>
                                <input type="hidden" name="key" id="pending_key" value="" />
                                <input type="hidden" name="txnid" id="pending_txnid" value="" />
                                <input type="hidden" name="productinfo" id="pending_productinfo" value="" />
                                <input type="hidden" name="amount" id="pending_amount" value="" />
                                <input type="hidden" name="email" id="pending_email" value="" />
                                <input type="hidden" name="firstname" id="pending_firstname" value="" />
                                <input type="hidden" name="lastname" id="pending_lastname" value="" />
                                <input type="hidden" name="surl" id="pending_surl" value="" />
                                <input type="hidden" name="furl" id="pending_furl" value="" />
                                <input type="hidden" name="phone" id="pending_phone" value="">
    
                                <input type="hidden" name="hash" id="pending_hash" value="" />
                                <input type="submit" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " value="Pay">
                            </form>
                        </div>
    
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    
    <div class="modal fade" id="CourierModal" tabindex="-1" aria-labelledby="CourierModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="CourierModalLabel">Courier Data <input type="text" id="new_courier_student_id"> </h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="CourierModaldata">
                        <div class="row">
                            <div class="col-sm-8">
                                
                            </div>
                            <div class="col-sm-4">
                                <button class="mb-3 blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="AddNewCourier($('#new_courier_student_id').val())">+ New Courier</button>
                            </div>
                        </div>
                            <table class="table format-table table-bordered">
                                <thead>
                                    <tr>
                                        <th scope="col">Sr.No</th>
                                        <th scope="col">Article Name</th>
                                        <th scope="col">From</th>
                                        <th scope="col">To Whom</th>
                                        <th scope="col">Booking Date</th>
                                        <th scope="col">Courier Company</th>
                                        <th scope="col">Tracking ID</th>
                                        <th scope="col">Remarks</th>
                                    </tr>
                                </thead>
                                <tbody id="courier_modal_table_body">
    
    
                                </tbody>
                            </table>
                    </div>
                        
                        
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    
    <div class="modal fade" id="AddCourierModal" tabindex="-1" aria-labelledby="AddCourierModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="AddCourierModalLabel">Add Courier Data <input type="text" id="add_new_courier_student_id"> </h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="AddCourierModaldata">
                        <div class="row">
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <label for="courier_article_name">Article Name</label>
                                    <input type="text" class="" id="courier_article_name">
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <label for="courier_from">From</label>
                                    <input type="text" class="" id="courier_from">
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <label for="courier_to_whom">To Whom</label>
                                    <input type="text" class="" id="courier_to_whom">
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <label for="courier_booking_date">Booking Date</label>
                                    <input type="date" class="" id="courier_booking_date">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <label for="courier_company_name">Courier Company Name</label>
                                    <input type="text" class="" id="courier_company_name">
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <label for="courier_tracking_id">Tracking ID</label>
                                    <input type="text" class="" id="courier_tracking_id">
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="mb-3">
                                    <label for="courier_remarks">Remarks</label>
                                    <input type="text" class="" id="courier_remarks">
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-3">
                                    <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="SaveCourier($('#add_new_courier_student_id').val())">Save</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    
    <div class="modal fade" id="CourierPrintModal" tabindex="-1" aria-labelledby="CourierPrintModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="CourierPrintModalLabel">Courier Print</h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="CourierPrintModalBody">
                        
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="RemarksModal" tabindex="-1" aria-labelledby="RemarksModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="RemarksModalLabel">Remarks</h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="remarks_modal_body">
                    <div class="container" id="remarksmodaldata">
                        <div id="remarks_popover"></div>
                        <table class="table format-table table-bordered text-center">
                            <thead id="remarks_modal_head">
    
                            </thead>
                            <tbody id="remarks_table_body">
    
                              
                                
                                
                                
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="sendremainderModal" tabindex="-1" aria-labelledby="sendremainderModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="sendremainderModalLabel">Send Reminder</h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="sendremainder_modal_body">
                    <div class="container" id="sendremaindermodaldata">
                        <div id="sendremainder_popover"></div>
                        <h1 class="pending font-26 font-bold text-blue" id="sendremainder_amount_label"></h1>
                        
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="CommonFeesModal" tabindex="-1" aria-labelledby="CommonFeesModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="CommonFeesModalLabel">Add Fees <input type="text" id="commonfees_student_id" style="visibility: hidden;"></h5>
                    <button type="button" class="btn-close"  data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container">
                        <div class="row">
                            <div class="col-3">
                                <div class="mb-3">
                                    <label for="commonfees_payment_for" class="">Payment Categories</label>
                                    <select class="" aria-label="Default select example" id="commonfees_payment_for">
                                        <option selected value="">Select from Dropdown</option>
                                        <option value="New Fees">New Fees</option>
                                        <option value="Re-Registration Fees">Re-Registration Fees</option>
                                        <option value="Examination Fees">Examination Fees</option>
                                        <option value="Re-Sitting Fees">Re-Sitting Fees</option>
                                        <option value="Other Fees">Other Fees</option>
                                      </select>
                                </div>
                            </div>
                          
                            <div class="col-3">
                                <div class="mb-3">
                                    <label for="commonfees_totalfees" class="">Total Fees</label>
                                    <input type="number" class="" readonly id="commonfees_totalfees"> 
                                  </div>
                            </div>
                            
                            <div class="col-3">
                                <div class="mb-3">
                                    <label for="commonfees_previous_pending" class="">Advance Payment (With CIIS)</label>
                                    <input type="number" class="" readonly id="commonfees_previous_pending"> 
                                  </div>
                            </div>
                            
                            <div class="col-3">
                                <div class="mb-3">
                                    <label for="commonfees_pending" class="">Total Pending</label>
                                    <input type="number" class="" readonly id="commonfees_pending"> 
                                  </div>
                            </div>
                            
                            
                        </div>
                        <div class="row">
                            <div class="col-3">
                                <div class="mb-3">
                                    <label for="commonfees_amount" class="">Amount</label>
                                    <input type="number" class="" id="commonfees_amount">
                                  </div>
                            </div>
                            <div class="col-3">
                                <div class="mb-3">
                                    <label for="commonfees_payment_type" class="">Payment Type</label>
                                    <select class="" aria-label="Default select example" id="commonfees_payment_type">
                                        <option value="Full Payment">Full Payment</option>
                                        <option value="Part Payment">Part Payment</option>
                                        <option value="Dues">Dues</option>
                                      </select>
                                </div>
                            </div>
                            <div class="col-3">
                                <div class="mb-3">
                                    <label for="commonfees_semyear" class="">Current Sem/Year</label>
                                    <input type="number" class="" readonly id="commonfees_semyear">
                                  </div>
                            </div>
                            <div class="col-3">
                                <div class="mb-3">
                                    <label for="commonfees_transactiondate" class="">Transaction Date</label>
                                    <input type="date" class="" id="commonfees_transactiondate">
                                  </div>
                            </div>
                                                  
                        </div>
                        <div class="row">
                            <div class="col-3">
                                <div class="mb-3">
                                    <label for="commonfees_payment_mode" class="">Payment Mode</label>
                                    <select class="" name="commonfees_payment_mode" id="commonfees_payment_mode" aria-label="Default select example">
                                    <option selected>Select</option>
                                    <option value="Cash Deposited in the Bank">Cash Deposited in the Bank</option>
                                    <option value="Cheque">Cheque</option>
                                    <option value="CASH">CASH</option>
                                    <option value="NEFT">NEFT</option>
                                    <option value="RTGS">RTGS</option>
                                    <option value="IMPS">IMPS</option>
                                    <option value="UPI">UPI</option>
                                    <option value="GPAY">GPAY</option>
                                    <option value="EaseBuzz">EaseBuzz</option>
                                    <option value="PL/PG">PL/PG</option>
                                    </select>
                                  </div>
                            </div> 
                            <div class="col-3">
                                <div class="mb-3">
                                    <label for="commonfees_chequeno" class="">Cheque/DD/CC Number</label>
                                    <input type="text" class="" id="commonfees_chequeno">
                                  </div>
                            </div>
                            <div class="col-3">
                                <div class="mb-3">
                                    <label for="commonfees_bank_name" class="">Bank Name</label>
                                    <select class="" name="commonfees_bank_name" id="commonfees_bank_name" aria-label="Default select example">
                                      <option selected value=" ">--Select --</option>
                                      <option value="ALLAHABAD BANK">ALLAHABAD BANK</option>
                                      <option value="ANDHRA BANK">ANDHRA BANK</option>
                                      <option value="AXIS BANK">AXIS BANK</option>
                                      <option value="STATE BANK OF INDIA">STATE BANK OF INDIA</option>
                                      <option value="BANK OF BARODA">BANK OF BARODA</option>
                                      <option value="UCO BANK">UCO BANK</option>
                                      <option value="UNION BANK OF INDIA">UNION BANK OF INDIA</option>
                                      <option value="BANK OF INDIA">BANK OF INDIA</option>
                                      <option value="BANDHAN BANK LIMITED">BANDHAN BANK LIMITED</option>
                                      <option value="CANARA BANK">CANARA BANK</option>
                                      <option value="GRAMIN VIKASH BANK">GRAMIN VIKASH BANK</option>
                                      <option value="CORPORATION BANK">CORPORATION BANK</option>
                                      <option value="INDIAN BANK">INDIAN BANK</option>
                                      <option value="INDIAN OVERSEAS BANK">INDIAN OVERSEAS BANK</option>
                                      <option value="ORIENTAL BANK OF COMMERCE">ORIENTAL BANK OF COMMERCE</option>
                                      <option value="PUNJAB AND SIND BANK">PUNJAB AND SIND BANK</option>
                                      <option value="PUNJAB NATIONAL BANK">PUNJAB NATIONAL BANK</option>
                                      <option value="RESERVE BANK OF INDIA">RESERVE BANK OF INDIA</option>
                                      <option value="SOUTH INDIAN BANK">SOUTH INDIAN BANK</option>
                                      <option value="UNITED BANK OF INDIA">UNITED BANK OF INDIA</option>
                                      <option value="CENTRAL BANK OF INDIA">CENTRAL BANK OF INDIA</option>
                                      <option value="VIJAYA BANK">VIJAYA BANK</option>
                                      <option value="DENA BANK">DENA BANK</option>
                                      <option value="BHARATIYA MAHILA BANK LIMITED">BHARATIYA MAHILA BANK LIMITED</option>
                                      <option value="FEDERAL BANK LTD">FEDERAL BANK LTD</option>
                                      <option value="HDFC BANK LTD">HDFC BANK LTD</option>
                                      <option value="ICICI BANK LTD">ICICI BANK LTD</option>
                                      <option value="IDBI BANK LTD">IDBI BANK LTD</option>
                                      <option value="PAYTM BANK">PAYTM BANK</option>
                                      <option value="FINO PAYMENT BANK">FINO PAYMENT BANK</option>
                                      <option value="INDUSIND BANK LTD">INDUSIND BANK LTD</option>
                                      <option value="KARNATAKA BANK LTD">KARNATAKA BANK LTD</option>
                                      <option value="KOTAK MAHINDRA BANK">KOTAK MAHINDRA BANK</option>
                                      <option value="YES BANK LTD">YES BANK LTD</option>
                                      <option value="SYNDICATE BANK">SYNDICATE BANK</option>
                                      <option value="BANK OF INDIA">BANK OF INDIA</option>
                                      <option value="BANK OF MAHARASHTRA">BANK OF MAHARASHTRA</option>
                                      <option value="Others">Others</option>
                                    </select>
                                  </div>
                            </div>
                            <div class="col-3">
                                <div id="other_bank_name">
    
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-6">
                                <div class="mb-3">
                                    <label for="commonfees_remark" class="">Remarks</label>
                                    <input type="text" class="" id="commonfees_remark">
                                  </div>
    
                            </div>
                            <div class="col-3" id="payment_for_other_column" style="visibility: hidden;">
                                <div class="mb-3">
                                    <label for="commonfees_payment_for_other" class="">Other Categories</label>
                                    <input type="text" class=""  id="commonfees_payment_for_other"> 
                                  </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " id="save_commonfees_btn" onclick="savecommonfees($('#commonfees_student_id').val())">Save</button>
                                </div>
                            </div>
                           
                        </div>
                    </div>
                    
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="ExtraFeesModal" tabindex="-1" aria-labelledby="ExtraFeesModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="ExtraFeesModalLabel">Add Fees <input type="text" id="extrafees_student_id" style="visibility: hidden;"></h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="extrafees_output">
    
                    </div>
                    <div class="container">
                        <div class="row">
                            <div class="col-3">
                                <div class="mb-3">
                                    <label for="extrafees_payment_for" class="">Payment For</label>
                                    <select class="" aria-label="Default select example" id="extrafees_payment_for">
                                        <option value="Degree Fee">Degree Fee</option>
                                        <option value="Migration Fee">Migration Fee</option>
                                        <option value="Leaving Certificate">Leaving Certificate</option>
                                        <option value="Transfer Certificate">Transfer Certificate</option>
                                        <option value="Provisional Degree/Certificate Fee">Provisional Degree/Certificate Fee</option>
                                        <option value="Late Fee">Late Fee</option>
                                        <option value="Tuition Fee">Tuition Fee</option>
                                        <option value="Entrance Fee">Entrance Fee</option>
                                        <option value="LOR">LOR</option>
                                        <option value="Transcript Fee">Transcript Fee</option>
                                        <option value="Bonafide Certificate">Bonafide Certificate</option>
                                        <option value="Verification Fee">Verification Fee</option>
                                        <option value="WES Verification Fee">WES Verification Fee</option>
                                        <option value="Other Fee (Type Manually Option)">Other Fee (Type Manually Option)</option>                                     
                                      </select>
                                </div>
                            </div>
                            <div class="col-3">
                                <div id="extrafees_others_payment_for">
    
                                </div>
                            </div>
                            <div class="col-3">
                                <div class="mb-3">
                                    <label for="extrafees_amount" class="">Amount</label>
                                    <input type="number" class="" id="extrafees_amount">
                                  </div>
                            </div>
                            <div class="col-3">
                                <div class="mb-3">
                                    <label for="extrafees_payment_type" class="">Payment Type</label>
                                    <select class="" aria-label="Default select example" id="extrafees_payment_type">
                                        <option value="Full Payment">Full Payment</option>
                                        <option value="Part Payment">Part Payment</option>
                                        <option value="Dues">Dues</option>
                                      </select>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-3">
                                <div class="mb-3">
                                    <label for="extrafees_semyear" class="">Year / Semester</label>
                                    <select class="" aria-label="Default select example" id="extrafees_semyear">
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                        <option value="5">5</option>
                                        <option value="6">6</option>
                                        <option value="7">7</option>
                                        <option value="8">8</option>
                                      </select>
                                </div>
                            </div>
                            <div class="col-3">
                                <div class="mb-3">
                                    <label for="extrafees_transactiondate" class="">Transaction Date</label>
                                    <input type="date" class="" id="extrafees_transactiondate">
                                  </div>
                            </div>
                            <div class="col-3">
                                <div class="mb-3">
                                    <label for="extrafees_payment_mode" class="">Payment Mode</label>
                                    <select class="" name="extrafees_payment_mode" id="extrafees_payment_mode" aria-label="Default select example">
                                    <option selected>Select</option>
                                    <option value="Cash Deposited in the Bank">Cash Deposited in the Bank</option>
                                    <option value="Cheque">Cheque</option>
                                    <option value="CASH">CASH</option>
                                    <option value="NEFT">NEFT</option>
                                    <option value="RTGS">RTGS</option>
                                    <option value="IMPS">IMPS</option>
                                    <option value="UPI">UPI</option>
                                    <option value="GPAY">GPAY</option>
                                    <option value="EaseBuzz">EaseBuzz</option>
                                    <option value="PL/PG">PL/PG</option>
                                    </select>
                                  </div>
                            </div>                        
                        </div>
                        <div class="row">
                            <div class="col-3">
                                <div class="mb-3">
                                    <label for="extrafees_chequeno" class="">Cheque/DD/CC Number</label>
                                    <input type="text" class="" id="extrafees_chequeno">
                                  </div>
                            </div>
                            <div class="col-3">
                                <div class="mb-3">
                                    <label for="extrafees_bank_name" class="">Bank Name</label>
                                    <select class="" name="extrafees_bank_name" id="extrafees_bank_name" aria-label="Default select example">
                                      <option selected value=" ">--Select --</option>
                                      <option value="ALLAHABAD BANK">ALLAHABAD BANK</option>
                                      <option value="ANDHRA BANK">ANDHRA BANK</option>
                                      <option value="AXIS BANK">AXIS BANK</option>
                                      <option value="STATE BANK OF INDIA">STATE BANK OF INDIA</option>
                                      <option value="BANK OF BARODA">BANK OF BARODA</option>
                                      <option value="UCO BANK">UCO BANK</option>
                                      <option value="UNION BANK OF INDIA">UNION BANK OF INDIA</option>
                                      <option value="BANK OF INDIA">BANK OF INDIA</option>
                                      <option value="BANDHAN BANK LIMITED">BANDHAN BANK LIMITED</option>
                                      <option value="CANARA BANK">CANARA BANK</option>
                                      <option value="GRAMIN VIKASH BANK">GRAMIN VIKASH BANK</option>
                                      <option value="CORPORATION BANK">CORPORATION BANK</option>
                                      <option value="INDIAN BANK">INDIAN BANK</option>
                                      <option value="INDIAN OVERSEAS BANK">INDIAN OVERSEAS BANK</option>
                                      <option value="ORIENTAL BANK OF COMMERCE">ORIENTAL BANK OF COMMERCE</option>
                                      <option value="PUNJAB AND SIND BANK">PUNJAB AND SIND BANK</option>
                                      <option value="PUNJAB NATIONAL BANK">PUNJAB NATIONAL BANK</option>
                                      <option value="RESERVE BANK OF INDIA">RESERVE BANK OF INDIA</option>
                                      <option value="SOUTH INDIAN BANK">SOUTH INDIAN BANK</option>
                                      <option value="UNITED BANK OF INDIA">UNITED BANK OF INDIA</option>
                                      <option value="CENTRAL BANK OF INDIA">CENTRAL BANK OF INDIA</option>
                                      <option value="VIJAYA BANK">VIJAYA BANK</option>
                                      <option value="DENA BANK">DENA BANK</option>
                                      <option value="BHARATIYA MAHILA BANK LIMITED">BHARATIYA MAHILA BANK LIMITED</option>
                                      <option value="FEDERAL BANK LTD">FEDERAL BANK LTD</option>
                                      <option value="HDFC BANK LTD">HDFC BANK LTD</option>
                                      <option value="ICICI BANK LTD">ICICI BANK LTD</option>
                                      <option value="IDBI BANK LTD">IDBI BANK LTD</option>
                                      <option value="PAYTM BANK">PAYTM BANK</option>
                                      <option value="FINO PAYMENT BANK">FINO PAYMENT BANK</option>
                                      <option value="INDUSIND BANK LTD">INDUSIND BANK LTD</option>
                                      <option value="KARNATAKA BANK LTD">KARNATAKA BANK LTD</option>
                                      <option value="KOTAK MAHINDRA BANK">KOTAK MAHINDRA BANK</option>
                                      <option value="YES BANK LTD">YES BANK LTD</option>
                                      <option value="SYNDICATE BANK">SYNDICATE BANK</option>
                                      <option value="BANK OF INDIA">BANK OF INDIA</option>
                                      <option value="BANK OF MAHARASHTRA">BANK OF MAHARASHTRA</option>
                                      <option value="Others">Others</option>
                                    </select>
                                  </div>
                            </div>
                            <div class="col-sm-3">
                                <div id="extrafees_other_bank_name">
    
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12">
                                <div class="mb-3">
                                    <label for="extrafees_remark" class="">Remarks</label>
                                    <input type="text" class="" id="extrafees_remark">
                                  </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-3">
                                <div class="mb-3">
                                    <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="saveextrafees($('#extrafees_student_id').val())">Save</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="RefundFeesModal" tabindex="-1" aria-labelledby="RefundFeesModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="RefundFeesLabel">Refund Fees <input type="text" id="refund_fees_student_id" style="visibility: visible;"></h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="refund_fees_body">
                    <div class="container" id="refund_fees_output">
    
                    </div>
                    <div class="container">
                        <div class="row">
                            <div class="col-3">
                                <div class="mb-3">
                                    <label for="refund_fees_amount" class="">Amount</label>
                                    <input type="number" class="" id="refund_fees_amount">
                                  </div>
                            </div>
                            <div class="col-3">
                                <div class="mb-3">
                                    <label for="refund_fees_payment_type" class="">Payment Type</label>
                                    <select class="" aria-label="Default select example" id="refund_fees_payment_type">
                                        <option value="Full Payment">Full Payment</option>
                                        <option value="Part Payment">Part Payment</option>
                                        <option value="Dues">Dues</option>
                                      </select>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-4">
                                <div class="mb-3">
                                    <label for="refund_fees_semyear" class="">Year / Semester</label>
                                    <select class="" aria-label="Default select example" id="refund_fees_semyear">
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                        <option value="5">5</option>
                                        <option value="6">6</option>
                                        <option value="7">7</option>
                                        <option value="8">8</option>
                                      </select>
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="mb-3">
                                    <label for="refund_fees_transactiondate" class="">Transaction Date</label>
                                    <input type="date" class="" id="refund_fees_transactiondate">
                                  </div>
                            </div>
                            <div class="col-4">
                                <div class="mb-3">
                                    <label for="refund_fees_payment_mode" class="">Payment Mode</label>
                                    <select class="" name="refund_fees_payment_mode" id="refund_fees_payment_mode" aria-label="Default select example">
                                    <option selected>Select</option>
                                    <option value="Cash Deposited in the Bank">Cash Deposited in the Bank</option>
                                    <option value="Cheque">Cheque</option>
                                    <option value="CASH">CASH</option>
                                    <option value="NEFT">NEFT</option>
                                    <option value="RTGS">RTGS</option>
                                    <option value="IMPS">IMPS</option>
                                    <option value="UPI">UPI</option>
                                    <option value="GPAY">GPAY</option>
                                    <option value="EaseBuzz">EaseBuzz</option>
                                    <option value="PL/PG">PL/PG</option>
                                    </select>
                                  </div>
                            </div>                        
                        </div>
                        <div class="row">
                            <div class="col-4">
                                <div class="mb-3">
                                    <label for="refund_fees_chequeno" class="">Cheque/DD/CC Number</label>
                                    <input type="text" class="" id="refund_fees_chequeno">
                                  </div>
                            </div>
                            <div class="col-4">
                                <div class="mb-3">
                                    <label for="refund_fees_bank_name" class="">Bank Name</label>
                                    <select class="" name="refund_fees_bank_name" id="refund_fees_bank_name" aria-label="Default select example">
                                      <option selected value=" ">--Select --</option>
                                      <option value="ALLAHABAD BANK">ALLAHABAD BANK</option>
                                      <option value="ANDHRA BANK">ANDHRA BANK</option>
                                      <option value="AXIS BANK">AXIS BANK</option>
                                      <option value="STATE BANK OF INDIA">STATE BANK OF INDIA</option>
                                      <option value="BANK OF BARODA">BANK OF BARODA</option>
                                      <option value="UCO BANK">UCO BANK</option>
                                      <option value="UNION BANK OF INDIA">UNION BANK OF INDIA</option>
                                      <option value="BANK OF INDIA">BANK OF INDIA</option>
                                      <option value="BANDHAN BANK LIMITED">BANDHAN BANK LIMITED</option>
                                      <option value="CANARA BANK">CANARA BANK</option>
                                      <option value="GRAMIN VIKASH BANK">GRAMIN VIKASH BANK</option>
                                      <option value="CORPORATION BANK">CORPORATION BANK</option>
                                      <option value="INDIAN BANK">INDIAN BANK</option>
                                      <option value="INDIAN OVERSEAS BANK">INDIAN OVERSEAS BANK</option>
                                      <option value="ORIENTAL BANK OF COMMERCE">ORIENTAL BANK OF COMMERCE</option>
                                      <option value="PUNJAB AND SIND BANK">PUNJAB AND SIND BANK</option>
                                      <option value="PUNJAB NATIONAL BANK">PUNJAB NATIONAL BANK</option>
                                      <option value="RESERVE BANK OF INDIA">RESERVE BANK OF INDIA</option>
                                      <option value="SOUTH INDIAN BANK">SOUTH INDIAN BANK</option>
                                      <option value="UNITED BANK OF INDIA">UNITED BANK OF INDIA</option>
                                      <option value="CENTRAL BANK OF INDIA">CENTRAL BANK OF INDIA</option>
                                      <option value="VIJAYA BANK">VIJAYA BANK</option>
                                      <option value="DENA BANK">DENA BANK</option>
                                      <option value="BHARATIYA MAHILA BANK LIMITED">BHARATIYA MAHILA BANK LIMITED</option>
                                      <option value="FEDERAL BANK LTD">FEDERAL BANK LTD</option>
                                      <option value="HDFC BANK LTD">HDFC BANK LTD</option>
                                      <option value="ICICI BANK LTD">ICICI BANK LTD</option>
                                      <option value="IDBI BANK LTD">IDBI BANK LTD</option>
                                      <option value="PAYTM BANK">PAYTM BANK</option>
                                      <option value="FINO PAYMENT BANK">FINO PAYMENT BANK</option>
                                      <option value="INDUSIND BANK LTD">INDUSIND BANK LTD</option>
                                      <option value="KARNATAKA BANK LTD">KARNATAKA BANK LTD</option>
                                      <option value="KOTAK MAHINDRA BANK">KOTAK MAHINDRA BANK</option>
                                      <option value="YES BANK LTD">YES BANK LTD</option>
                                      <option value="SYNDICATE BANK">SYNDICATE BANK</option>
                                      <option value="BANK OF INDIA">BANK OF INDIA</option>
                                      <option value="BANK OF MAHARASHTRA">BANK OF MAHARASHTRA</option>
                                      <option value="Others">Others</option>
                                    </select>
                                  </div>
                            </div>
                            <div class="col-4">
                                <div id="refund_fees_other_bank_name">
    
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="mb-3">
                                    <label for="refund_fees_remark" class="">Remarks</label>
                                    <input type="text" class="" id="refund_fees_remark">
                                  </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="save_refund_fees($('#refund_fees_student_id').val())">Save</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="EditFeesmodal" tabindex="-1" aria-labelledby="EditFeesmodalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="EditFeesmodalLabel">Edit Fees <input type="text" id="editpaymentreciept_paymentrecieptID"> </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="container" id="edit_fees_body">
                        <div class="row">
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <label for="editpaymentreciept_semyear" class="">Year / Semester</label>
                                    <input type="text" name="editpaymentreciept_semyear" class="" id="editpaymentreciept_semyear">
                                  </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <label for="editpaymentreciept_session" class="">Session</label>
                                    <select class="" name="editpaymentreciept_session" id="editpaymentreciept_session" aria-label="Default select example">
                                      <option selected>Select Session</option>
                                      <option value="Summer 2017">Summer 2017</option>
                                      <option value="winter 2017">winter 2017</option>
                                      <option value="Summer 2018">Summer 2018</option>
                                      <option value="winter 2018">winter 2018</option>
                                      <option value="Summer 2019">Summer 2019</option>
                                      <option value="winter 2019">winter 2019</option>
                                      <option value="Summer 2020">Summer 2020</option>
                                      <option value="winter 2020">winter 2020</option>
                                      <option value="Summer 2021">Summer 2021</option>
                                      <option value="winter 2021">winter 2021</option>
                                      <option value="Summer 2022">Summer 2022</option>
                                      <option value="winter 2022">winter 2022</option>
                            
                            
                                    </select>
                                  </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <label for="editpaymentreciept_feesreciept_type" class="">Fees Reciept Type</label>
                                    <select class="" name="editpaymentreciept_feesreciept_type" id="editpaymentreciept_feesreciept_type" aria-label="Default select example">
                                      <option selected>Select</option>
                                      <option value="New">New</option>
                                      <option value="Dues">Dues</option>
                                      <option value="RR">RR</option>
                                      <option value="RS">RS</option>
                                      <option value="EF">EF</option>
                                      <option value="Others">Others</option>
                                    </select>
                                  </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <label for="editpaymentreciept_date_of_transaction" class="">Transaction Date</label>
                                    <input type="date" name="editpaymentreciept_date_of_transaction" class="" id="editpaymentreciept_date_of_transaction">
                                  </div>
                            </div>
                            
                        </div>
                        <div class="row">
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <label for="editpaymentreciept__payment_for" class="">Payment For</label>
                                    <select class="" aria-label="Default select example" id="editpaymentreciept__payment_for">
                                        <option value="Course Fees">Course Fees</option>
                                        <option value="Tution Fees">Tution Fees</option>
                                        <option value="Re-Registration Fees">Re-Registration Fees</option>
                                        <option value="Examination Fees">Examination Fees</option>
                                        <option value="Degree Fee">Degree Fee</option>
                                        <option value="Migration Fee">Migration Fee</option>
                                        <option value="Leaving Certificate">Leaving Certificate</option>
                                        <option value="Transfer Certificate">Transfer Certificate</option>
                                        <option value="Provisional Degree/Certificate Fee">Provisional Degree/Certificate Fee</option>
                                        <option value="Late Fee">Late Fee</option>
                                        <option value="Tuition Fee">Tuition Fee</option>
                                        <option value="Entrance Fee">Entrance Fee</option>
                                        <option value="LOR">LOR</option>
                                        <option value="Transcript Fee">Transcript Fee</option>
                                        <option value="Bonafide Certificate">Bonafide Certificate</option>
                                        <option value="Verification Fee">Verification Fee</option>
                                        <option value="WES Verification Fee">WES Verification Fee</option>
                                        <option value="Other Fee (Type Manually Option)">Other Fee (Type Manually Option)</option>
                                      </select>
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <label for="editpaymentreciept__payment_type" class="">Payment Type</label>
                                    <select class="" aria-label="Default select example" id="editpaymentreciept__payment_type">
                                        <option value="Full Payment">Full Payment</option>
                                        <option value="Part Payment">Part Payment</option>
                                        <option value="Dues">Dues</option>
                                      </select>
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <label for="editpaymentreciept_total_fees" class="">Total Fees</label>
                                    <input type="text" class="" readonly id="editpaymentreciept_total_fees" >
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <label for="editpaymentreciept_paid_fees" class="">Paid Fees</label>
                                    <input type="text" class="" id="editpaymentreciept_paid_fees" >
                                </div>
                            </div>
                            
                        </div>
                        <div class="row">
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <label for="editpaymentreciept_advance_fees" class="">Advance Fees</label>
                                    <input type="text" class="" id="editpaymentreciept_advance_fees" >
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <label for="editpaymentreciept_pending_fees" class="">Pending Fees</label>
                                    <input type="text" class="" id="editpaymentreciept_pending_fees" >
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <label for="editpaymentreciept_payment_mode" class="">Payment Mode</label>
                                    <select class="" name="editpaymentreciept_payment_mode" id="editpaymentreciept_payment_mode" aria-label="Default select example">
                                      <option selected>Select</option>
                                      <option value="Cash Deposited in the Bank">Cash Deposited in the Bank</option>
                                      <option value="Cheque">Cheque</option>
                                      <option value="CASH">CASH</option>
                                      <option value="NEFT">NEFT</option>
                                      <option value="RTGS">RTGS</option>
                                      <option value="IMPS">IMPS</option>
                                      <option value="UPI">UPI</option>
                                      <option value="GPAY">GPAY</option>
                                      <option value="EaseBuzz">EaseBuzz</option>
                                      <option value="PL/PG">PL/PG</option>
                                    </select>
                                  </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <label for="editpaymentreciept_cheque_no" class="">Cheque/DD/CC Number (Optional)</label>
                                    <input type="text" name="editpaymentreciept_cheque_no" class="" id="editpaymentreciept_cheque_no">
                                  </div>
                            </div>
                            
                            
                        </div>
                        <div class="row">
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <label for="editpaymentreciept_bank_name" class="">Bank Name</label>
                                    <select class="" name="editpaymentreciept_bank_name" id="editpaymentreciept_bank_name" aria-label="Default select example">
                                      <option selected value=" ">--Select --</option>
                                      <option value="ALLAHABAD BANK">ALLAHABAD BANK</option>
                                      <option value="ANDHRA BANK">ANDHRA BANK</option>
                                      <option value="AXIS BANK">AXIS BANK</option>
                                      <option value="STATE BANK OF INDIA">STATE BANK OF INDIA</option>
                                      <option value="BANK OF BARODA">BANK OF BARODA</option>
                                      <option value="UCO BANK">UCO BANK</option>
                                      <option value="UNION BANK OF INDIA">UNION BANK OF INDIA</option>
                                      <option value="BANK OF INDIA">BANK OF INDIA</option>
                                      <option value="BANDHAN BANK LIMITED">BANDHAN BANK LIMITED</option>
                                      <option value="CANARA BANK">CANARA BANK</option>
                                      <option value="GRAMIN VIKASH BANK">GRAMIN VIKASH BANK</option>
                                      <option value="CORPORATION BANK">CORPORATION BANK</option>
                                      <option value="INDIAN BANK">INDIAN BANK</option>
                                      <option value="INDIAN OVERSEAS BANK">INDIAN OVERSEAS BANK</option>
                                      <option value="ORIENTAL BANK OF COMMERCE">ORIENTAL BANK OF COMMERCE</option>
                                      <option value="PUNJAB AND SIND BANK">PUNJAB AND SIND BANK</option>
                                      <option value="PUNJAB NATIONAL BANK">PUNJAB NATIONAL BANK</option>
                                      <option value="RESERVE BANK OF INDIA">RESERVE BANK OF INDIA</option>
                                      <option value="SOUTH INDIAN BANK">SOUTH INDIAN BANK</option>
                                      <option value="UNITED BANK OF INDIA">UNITED BANK OF INDIA</option>
                                      <option value="CENTRAL BANK OF INDIA">CENTRAL BANK OF INDIA</option>
                                      <option value="VIJAYA BANK">VIJAYA BANK</option>
                                      <option value="DENA BANK">DENA BANK</option>
                                      <option value="BHARATIYA MAHILA BANK LIMITED">BHARATIYA MAHILA BANK LIMITED</option>
                                      <option value="FEDERAL BANK LTD">FEDERAL BANK LTD</option>
                                      <option value="HDFC BANK LTD">HDFC BANK LTD</option>
                                      <option value="ICICI BANK LTD">ICICI BANK LTD</option>
                                      <option value="IDBI BANK LTD">IDBI BANK LTD</option>
                                      <option value="PAYTM BANK">PAYTM BANK</option>
                                      <option value="FINO PAYMENT BANK">FINO PAYMENT BANK</option>
                                      <option value="INDUSIND BANK LTD">INDUSIND BANK LTD</option>
                                      <option value="KARNATAKA BANK LTD">KARNATAKA BANK LTD</option>
                                      <option value="KOTAK MAHINDRA BANK">KOTAK MAHINDRA BANK</option>
                                      <option value="YES BANK LTD">YES BANK LTD</option>
                                      <option value="SYNDICATE BANK">SYNDICATE BANK</option>
                                      <option value="BANK OF INDIA">BANK OF INDIA</option>
                                      <option value="BANK OF MAHARASHTRA">BANK OF MAHARASHTRA</option>
                                      <option value="Others">Others</option>
                                    </select>
                                  </div>
                            </div>
                            <div class="col-sm-3">
                                <div id="editpaymentreciept_other_bank"  class="mb-3">
    
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="mb-3">
                                    <label for="editpaymentreciept_remarks" class="">Remarks</label>
                                    <input type="text" name="remarks" class="" id="editpaymentreciept_remarks">
                                  </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12">
                                <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="Save_PaymentReciept()">Save</button>
                            </div>
                        </div>
                    </div>
                    
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="NextSemYearmodal" tabindex="-1" aria-labelledby="NextSemYearmodalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="NextSemYearmodalLabel">Enroll Next Semester <input type="text" id="enroll_next_semester_student_id" style="visibility:hidden;"> </h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="container" id="nextsemyear_body">
                        
                    </div>
                    
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>


    <div class="modal fade" id="ShowBasicDocumentsModal" tabindex="-1" aria-labelledby="ShowBasicDocumentsModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="ShowBasicDocumentsModalLabel">Basic Documents <input type="text" id="enroll_next_semester_student_id" style="visibility:hidden;"> </h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="container" id="show_basic_documents_modal">
                        
                    </div>
                    
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="ShowPersonalDocumentModal" tabindex="-1" aria-labelledby="ShowPersonalDocumentModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="ShowPersonalDocumentModalLabel">Personal Documents </h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="container" id="show_personal_document_images">
                        
                    </div>
                    
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="EnrolledSuccessmodal" tabindex="-1" aria-labelledby="EnrolledSuccessmodalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="EnrolledSuccessmodalLabel">Enroll Success <input type="text" id="enroll_next_semester_student_id"> </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="container" id="EnrolledSuccess_body">
                        
                    </div>
                    
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="CancelStudentEnrollmentModal" tabindex="-1" aria-labelledby="CancelStudentEnrollmentModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="CancelStudentEnrollmentModalLabel">Cancel Student Enrollment</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="CancelStudentEnrollment_modal_body">
                    <div class="container" id="CancelStudentEnrollment_modal_data">
                        <table class="table format-table table-bordered">
                            <thead>
                              <tr>
                                <th scope="col">Name</th>
                                <th scope="col">Mobile</th>
                                <th scope="col">Email</th>
                                <th scope="col">Enrolled</th>                           
                                <th scope="col">Active</th>
                              </tr>
                            </thead>
                            <tbody id="CancelStudentEnrollment_table_body">
                            </tbody>
                          </table>
                        <div class="row">
                            <div class="col-3">
                                <h2 class="font-18 font-normal">Student Status</h2>
                            </div>
                            <div class="col-3">
                                <select class="" id="cancel_student_status" aria-label="Default select example">
                                    <option selected>Select</option>
                                    <option value="In-Active">In-Active</option>
                                </select>
                            </div>
                            <div class="col-2">
                                <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="save_cancel_student($('#cancel_student_id').val())">Update</button>
                            </div>
                            <div class="col-4">
                                <input type="text" class="" id="cancel_student_id">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="SendRecieptModal" tabindex="-1" aria-labelledby="SendRecieptModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="SendRecieptModalLabel">Send Reciept <input type="text" id="send_reciept_student_id"> </h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="SendReciept_modal_body">
                    <div class="" id="main_content">
                        
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    
    <div class="modal fade" id="show_profile_pic" tabindex="-1" aria-labelledby="show_profile_picLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="show_profile_picLabel">Profile Picture</h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="profile_pic_body">
                    <embed id="profile_pic_data" frameborder="0" type="application/pdf" width="100%" height="400px">
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div id="download_payment_reciept">
        
    </div>
</div>



  {% endblock body %}


  {% block script %}
<script>
    function format(d) {
        console.log(d)
        // `d` is the original data object for the row
        return '<table class="nozebra-table">' +
            '<tr>' +
            '<td class="font-14 text-extralightgray px-2 text-right width-15 ">Account:</td>' +
            '<td class="font-14 text-extralightgray px-2 text-left "> <button class="blue-bg text-blue font-bold font-12 no-border mt-2" name="feebutton" onclick="FeesBtn(' + d.enrollment_id + ')" value=' + d.enrollment_id + ' type="submit">Fees</button> <button class="blue-bg text-blue font-bold font-12 no-border mt-2" name="feebutton" onclick="ExtraFees(' + d.enrollment_id + ')" value=' + d.enrollment_id + ' type="submit">Additional Fees</button> <button class="blue-bg text-blue font-bold font-12 no-border mt-2" name="RefundFees" onclick="RefundFees(' + d.enrollment_id + ')" value=' + d.enrollment_id + ' type="submit">Refund</button> <button class="blue-bg text-blue font-bold font-12 no-border mt-2" name="idcard" onclick="IDCard(' + d.enrollment_id + ')" value=' + d.enrollment_id + ' type="submit">ID Card</button> <button class="blue-bg text-blue font-bold font-12 no-border mt-2" name="feebutton" onclick="RequestFees(' + d.enrollment_id + ')"  value=' + d.enrollment_id + ' type="submit">Request Fees</button>  <button class="blue-bg text-blue font-bold font-12 no-border mt-2" name="feebutton" onclick="ResultUploaded(' + d.enrollment_id + ')"  value=' + d.enrollment_id + ' type="submit">Result Uploaded</button>  <button class="blue-bg text-blue font-bold font-12 no-border mt-2" name="feebutton" onclick="UniversityExamFees(' + d.enrollment_id + ')" value=' + d.enrollment_id + ' type="submit">University Exam Fee</button>  <button class="blue-bg text-blue font-bold font-12 no-border mt-2" name="feebutton" onclick="UniversityReRegistration(' + d.enrollment_id + ')" value=' + d.enrollment_id + ' type="submit">University Re-Registration</button>  <button class="blue-bg text-blue font-bold font-12 no-border mt-2" name="feebutton" onclick="PersonalDocuments(' + d.enrollment_id + ')" value=' + d.enrollment_id + ' type="submit">Personal Documents</button> <button class="blue-bg text-blue font-bold font-12 no-border mt-2" name="feebutton" onclick="Syllabus(' + d.enrollment_id + ')" value=' + d.enrollment_id + ' type="submit">Syllabus</button>  <button class="blue-bg text-blue font-bold font-12 no-border mt-2" name="feebutton" onclick="Documents(' + d.enrollment_id + ')" value=' + d.enrollment_id + ' type="submit">Qualification Documents</button>   <button class="blue-bg text-blue font-bold font-12 no-border mt-2" name="remarks" onclick="GetRemarks(' + d.enrollment_id + ')" value=' + d.enrollment_id + ' type="submit">Remarks</button>  <button class="blue-bg text-blue font-bold font-12 no-border mt-2" name="remarks" onclick="SendReciept(' + d.enrollment_id + ')" value=' + d.enrollment_id + ' type="submit">Send Reciept</button>    </td>' +
            '</tr>' +
            '<tr>' +
            '<td class="font-14 text-extralightgray px-2 text-right width-15 ">Extra:</td>' +
            '<td class="font-14 text-extralightgray px-2 text-left "> <button class="blue-bg text-blue font-bold font-12 no-border mt-2" name="feebutton" onclick="NewUniversityEnrollmentNumber(' + d.enrollment_id + ')" value=' + d.enrollment_id + ' type="submit">New University Enrollment NO</button>   <button class="blue-bg text-blue font-bold font-12 no-border mt-2" name="feebutton" onclick="OldUniversityEnrollmentNumber(' + d.enrollment_id + ')" value=' + d.enrollment_id + ' type="submit">Old University Enrollment No</button> <button class="blue-bg text-blue font-bold font-12 no-border mt-2" name="feebutton" onclick="CourierData(' + d.enrollment_id + ')" value=' + d.enrollment_id + ' type="submit">Courier Data</button> <button class="blue-bg text-blue font-bold font-12 no-border mt-2" name="feebutton" onclick="PaymentGateway(' + d.enrollment_id + ')" value=' + d.enrollment_id + ' type="submit">Payment Gateway</button> <button class="blue-bg text-blue font-bold font-12 no-border mt-2" name="sendremainder" onclick="SendRemainder(' + d.enrollment_id + ')" value=' + d.enrollment_id + ' type="submit">Send Reminder</button> <button class="blue-bg text-blue font-bold font-12 no-border mt-2" name="UpdatePayment" onclick="UpdatePayment(' + d.enrollment_id + ')" value=' + d.enrollment_id + ' type="submit">Update Payment</button>  <button class="blue-bg text-blue font-bold font-12 no-border mt-2" name="UpdatePayment" onclick="ShowProfilePic(' + d.enrollment_id + ')" value=' + d.enrollment_id + ' type="submit">Profile Image</button> </td>' +
            '</tr>' +
            '<tr>' +
                '<td class="font-14 text-extralightgray px-2 text-right ">Action:</td>' +
                '<td class="font-14 text-extralightgray px-2 text-left "> <button class="blue-bg text-blue font-bold font-12 no-border mt-2 mt-2"  onclick="EnrollNextSemester(' + d.enrollment_id + ')" value=' + d.enrollment_id + ' type="submit">Enroll To Next Semester / Year</button>  <button class="blue-bg text-blue font-bold font-12 no-border mt-2"  onclick="CancelEnrollment(' + d.enrollment_id + ')" value=' + d.enrollment_id + ' type="submit">Cancel Student Enrollment</button> </td>'+
            '</tr>' +
            '</table>';
    }
 
$(document).ready(function() {
  $('#dashboard-collapse').addClass("show");
  $("#pending_verification_link").removeClass("link-dark");
  $('#pending_verification_link').addClass("link-primary");
    var received_data = "{{allstudents|safe}}";
    console.log(received_data);

    var table = $('#example').DataTable( {
        "ordering": false,
        "ajax": "/registered_api/",
        "columns": [
            {
                "className":      'dt-control text-wrap',
                "orderable":      false,
                "data":           null,
                "defaultContent": ''
            },
            { "data": "current_semester" },
            { "data": "enrollment_id" },
            /*{ "data": "registration_id" },*/
            { "data": "name" },
            { "data": "university" },
            { "data": "is_quick_register" },
            { "data": "course_pattern" },
            { "data": "entry_mode" },
            { "data": "enrollment_date" },
            {
                "data": null,
                "render": function(data, type, row, meta) {
                    return `
                        <div class="d-flex">
                        <a href="/showstudentform/${row.enrollment_id}" target="blank" class="px-2" title="Print Candidate Details"><img src="{% static 'dict/images/print-receipt.png' %}" class="resizeimg" alt="View Details"></a>
                        <a href="/documentmanagement/${row.enrollment_id}" class="px-2" title="Document Management"><img src="{% static 'dict/images/attachments.png' %}" class="resizeimg" alt="View Attachments"></a>
                        <a href="#" class="px-2" title="Fee Summary"><img src="{% static 'dict/images/rupee.png' %}" class="resizeimg" alt="View Details"></a>
                        </div>
                    `;
                }
            },
            
        ],
        "order": [[1, 'asc']]
    } );
     
    // Add event listener for opening and closing details
    $('#example tbody').on('click', 'td.dt-control', function () {
        var tr = $(this).closest('tr');
        var row = table.row( tr );
        // var dataSet = JSON.parse( '{{dataSet | escapejs }}');
        
        if ( row.child.isShown() ) {
            // This row is already open - close it
            row.child.hide();
            tr.removeClass('shown');
        }
        else {
            // Open this row
            row.child( format(row.data()) ).show();
            tr.addClass('shown');
        }
    } );
} );






function print_reciept(){
  window.print();
}


</script> 

<script>
     $(function() {
    $("#commonfees_bank_name").change(function() {
        var selected_option = $('option:selected', this).text()
        if(selected_option == "Others"){
          console.log("yes other")  
          $('#other_bank_name').css('visibility','visible');
          $('#other_bank_name').append(`
            <div class="mb-3">
              <label for="commonfees_other_bank" class="">Enter Bank Name</label>
              <input type="text" name="commonfees_other_bank" class="" id="commonfees_other_bank">
            </div>
          `);
        }
        else{
          console.log("no other")  
          $('#other_bank_name').empty();
          $('#other_bank_name').css('visibility','hidden');
        }
        });
    });


    $(function() {
    $("#extrafees_bank_name").change(function() {
        var selected_option = $('option:selected', this).text()
        if(selected_option == "Others"){
          console.log("yes other")  
          $('#extrafees_other_bank_name').css('visibility','visible');
          $('#extrafees_other_bank_name').append(`
            <div class="mb-3">
              <label for="extrafees_other_bank" class="">Enter Bank Name</label>
              <input type="text" name="extrafees_other_bank" class="" id="extrafees_other_bank">
            </div>
          `);
        }
        else{
          console.log("no other")  
          $('#extrafees_other_bank_name').empty();
          $('#extrafees_other_bank_name').css('visibility','hidden');
        }
        });
    });

    $(function() {
    $("#refund_fees_bank_name").change(function() {
        var selected_option = $('option:selected', this).text()
        if(selected_option == "Others"){
          console.log("yes other")  
          $('#refund_fees_other_bank_name').css('visibility','visible');
          $('#refund_fees_other_bank_name').append(`
            <div class="mb-3">
              <label for="refund_fees_other_bank" class="">Enter Bank Name</label>
              <input type="text" name="refund_fees_other_bank" class="" id="refund_fees_other_bank">
            </div>
          `);
        }
        else{
          console.log("no other")  
          $('#refund_fees_other_bank_name').empty();
          $('#refund_fees_other_bank_name').css('visibility','hidden');
        }
        });
    });
    
    
    $(function() {
    $("#extrafees_payment_for").change(function() {
        var selected_option = $('option:selected', this).text()
        if(selected_option == "Other Fee (Type Manually Option)"){
          console.log("yes other")  
          $('#extrafees_others_payment_for').css('visibility','visible');
          $('#extrafees_others_payment_for').append(`
            <div class="mb-3">
              <label for="extrafees_others_payment" class="">Other Payment For</label>
              <input type="text" name="extrafees_others_payment" class="" id="extrafees_others_payment">
            </div>
          `);
        }
        else{
          console.log("no other")  
          $('#extrafees_others_payment_for').empty();
          $('#extrafees_others_payment_for').css('visibility','hidden');
        }
        });
    });
</script>

<script language="JavaScript">
    function FeesBtn(id) {
        if (id) {
            $.ajax({ // create an AJAX call...
                data: {
                    'get_fees': id
                }, // get the form data
                type: 'POST', // GET or POST
                headers: { 'X-CSRFToken': '{{ csrf_token }}' },
                url: "{% url 'registered_get_fees' %}", // the file to call
                success: function (response) {  
                    console.log(response)
                    $('#fees_add_data_id').val('');
                    $('#fees_add_data_id').val(response.student_id);
                    var fees = response.fees

                    if (fees) {
                        $('#fees_modal_head').empty();
                        $('#fees_modal_head').append(`
                        
                            <tr>
                                <th scope="col">Sr.No</th>
                                <th scope="col">Year/Sem</th>
                                <th scope="col">Payment Categories</th>
                                <th scope="col">Payment Type</th>
                                <th scope="col">Session</th>
                                <th scope="col">Transaction Date</th>
                                <th scope="col">Mode</th>
                                <th scope="col">No</th>
                                <th scope="col">Total Fees</th>
                                <th scope="col">Paid Amount</th>
                                <th scope="col">Advance Amount</th>
                                <th scope="col">Pending Amount</th>
                                <th scope="col">Payment Status</th>
                                <th scopt="col">View Reciept</th>
                                <th scopt="col">Edit Reciept</th>
                                
                            </tr>

                        `);

                        $('#table_body').empty();
                        fees.forEach(myFunction);
                        var count = 0;
                        function myFunction(item, count) {
                            console.log(item)
                            count = count + 1;
                            var transaction_date = item.transaction_date;
                            console.log("transaction date : ",transaction_date)
                            var datePart = transaction_date.match(/\d+/g),
                            year = datePart[0].substring(0), // get only two digits
                            month = datePart[1], day = datePart[2];
                            console.log("datePart : ",datePart)
                            console.log("year : ",year)
                            console.log("month : ",month)
                            
                            var changedate =  day+'/'+month+'/'+year;
                            console.log("changedate : ",changedate)
                            if (item.paymentmode == "Cheque") {
                                
                                $('#table_body').append(`
                                <tr>
                                    <th scope="row">${count}</th>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.semyear}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.payment_categories}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.payment_type}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center "> ${item.session} </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${changedate}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.paymentmode}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.cheque_no}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.semyearfees}  </td>
                                    <tdclass="font-14 text-extralightgray px-2 text-center " >  ${item.paidamount}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.advanceamount}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.pendingamount}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.status}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  <button class="blue-bg text-blue font-bold font-12 no-border" onclick="viewPaymentReciept(${item.id})" >View</button>  </td> 
                                    <td class="font-14 text-extralightgray px-2 text-center ">  <button class="blue-bg text-blue font-bold font-12 no-border" onclick="editPaymentReciept(${item.id})" >Edit</button>  </td>                                  
                                </tr>`)
                            }
                            else {
                                $('#table_body').append(`
                                <tr>
                                    <th scope="row">${count}</th>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.semyear}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.payment_categories}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.payment_type}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center "> ${item.session} </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${changedate}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.paymentmode}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  NA </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.semyearfees}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.paidamount}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.advanceamount}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.pendingamount}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.status}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="viewPaymentReciept(${item.id})" >View</button>  </td> 
                                    <td class="font-14 text-extralightgray px-2 text-center ">  <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="editPaymentReciept(${item.id})" >Edit</button>  </td>  
                                </tr>`)
                            }

                        }
                        $('#feespaidmodal').modal('show');

                    }


                }
            });
        }

    }
    function viewPaymentReciept(id){
        $.ajax({ // create an AJAX call...
                data: {
                    'getpayment_reciept': id
                }, // get the form data
                type: 'POST', // GET or POST
                headers: { 'X-CSRFToken': '{{ csrf_token }}' },
                url: "{% url 'registered_view_fees' %}", // the file to call
                success: function (response) {  
                    console.log(response)
                    var transaction_date = response.view_reciept.transaction_date;
                    var datePart = transaction_date.match(/\d+/g),
                    year = datePart[0].substring(0), // get only two digits
                    month = datePart[1], day = datePart[2];

                    var changedate =  day+'/'+month+'/'+year;
                    // console.log("View Payment Reciept :",id)
                    $('#reciept_modal_body').empty();
                    
                    $('#reciept_modal_body').html(`
                    <div class="page-content container print_form">
                        <div class="page-header text-blue-d2">
                            <h1 class="page-title text-secondary-d1">
                                Reciept
                                <small class="page-info">
                                    <i class="fa fa-angle-double-right text-80"></i>
                                    ID: `+response.view_reciept.transactionID+`
                                </small>
                            </h1>

                            <div class="page-tools">
                                <div class="action-buttons">
                                    <a class="btn bg-white btn-light mx-1px text-95 print_button" href="#" data-title="Print" id="print_button" onclick="print_screen()">
                                        <i class="mr-1 fa fa-print text-primary-m1 text-120 w-2 print_button"></i>
                                        Print
                                    </a>
                                </div>
                            </div>
                        </div>

                        <div class="container px-0">
                            <div class="row mt-4">
                                <div class="col-12 col-lg-12">

                                    <div class="row">
                                        <div class="col-sm-6">
                                            <div>
                                                <span class="text-sm text-grey-m2 align-middle">To:</span>
                                                <span class="text-600 text-110 text-blue align-middle">`+response.personal.name+ `</span>
                                            </div>
                                            <div class="text-grey-m2">
                                                <div class="my-1">
                                                    `+response.personal.address + ', ' + response.personal.city +`
                                                </div>
                                                <div class="my-1">
                                                    `+response.personal.state + ', ' + response.personal.country +`
                                                </div>
                                                <div class="my-1"><i class="fa fa-phone fa-flip-horizontal text-secondary"></i> <b class="text-600">`+response.personal.mobile+`</b></div>
                                                <div class="my-1"><i class="fas fa-envelope  text-secondary"></i> <b class="text-600">`+response.personal.email+`</b></div>
                                            </div>
                                        </div>
                                        <!-- /.col -->

                                        <div class="text-95 col-sm-6 align-self-start d-sm-flex justify-content-end">
                                            <hr class="d-sm-none" />
                                            <div class="text-grey-m2">
                                                <div class="mt-1 mb-2 text-secondary-m1 text-600 text-125">
                                                    Invoice
                                                </div>

                                                <div class="my-2"><i class="fa fa-circle text-blue-m2 text-xs mr-1"></i> <span class="text-600 text-90">ID:</span> #`+response.view_reciept.transactionID+`</div>

                                                <div class="my-2"><i class="fa fa-circle text-blue-m2 text-xs mr-1"></i> <span class="text-600 text-90">Issue Date:</span> `+changedate+`</div>

                                                <div class="my-2"><i class="fa fa-circle text-blue-m2 text-xs mr-1"></i> <span class="text-600 text-90">Status:</span> Paid </div>
                                            </div>
                                        </div>
                                        <!-- /.col -->
                                    </div>

                                    <div class="mt-4">
                                        <div class="row text-600 text-white bgc-default-tp1 py-25">
                                            <div class="d-none d-sm-block col-2">Semester</div>
                                            <div class="col-9 col-sm-3">Paid Amount</div>
                                            <div class="col-9 col-sm-3">Pending Amount</div>
                                            <div class="d-none d-sm-block col-3 col-sm-2">Transaction Date</div>
                                            <div class="d-none d-sm-block col-sm-2">Mode</div>
                                        </div>

                                        <div class="text-95 text-secondary-d3">
                                            <div class="row mb-2 mb-sm-0 py-25">
                                                <div class="d-none d-sm-block col-2">`+response.view_reciept.semyear+`</div>
                                                <div class="col-9 col-sm-3">`+response.view_reciept.paidamount+`</div>
                                                <div class="col-9 col-sm-3">`+response.view_reciept.pendingamount+`</div>
                                                <div class="d-none d-sm-block col-2">`+changedate+`</div>
                                                <div class="d-none d-sm-block col-2 text-95">`+response.view_reciept.paymentmode+`</div>
                                            </div>

                                            
                                        </div>

                                        <div class="row border-b-2 brc-default-l2"></div>

                                  

                                        <hr />

                                        <div>
                                            <span class="text-secondary-d1 text-105">Thank you for your Payment</span>  
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    `);
                    $('#reciept_modal').modal('show');
                }
            });
    }
    function print_reciept(){
        window.print();
    }
    
    function ShowCommonFees(id){
        $.ajax({ // create an AJAX call...
                data: {
                    'show_common_fees': id
                }, // get the form data
                type: 'POST', // GET or POST
                headers: { 'X-CSRFToken': '{{ csrf_token }}' },
                url: "{% url 'registered_show_common_fees' %}", // the file to call
                success: function (response) { 
                    $('#fees_add_data_id').val('');
                    $('#fees_add_data_id').val(response.student_id);
                    var fees = response.fees

                    if (fees) {
                        $('#fees_modal_head').empty();
                        $('#fees_modal_head').append(`
                        
                            <tr>
                                <th scope="col">Sr.No</th>
                                <th scope="col">Year/Sem</th>
                                <th scope="col">Payment For</th>
                                <th scope="col">Payment Type</th>
                                <th scope="col">Session</th>
                                <th scope="col">Transaction Date</th>
                                <th scope="col">Mode</th>
                                <th scope="col">No</th>
                                <th scope="col">Paid Amount</th>
                                <th scope="col">Advance Amount</th>
                                <th scope="col">Pending Amount</th>
                                <th scope="col">Payment Status</th>
                                <th scopt="col">View Reciept</th>
                                <th scopt="col">Edit Reciept</th>
                                
                            </tr>

                        `);

                        $('#table_body').empty();
                        fees.forEach(myFunction);
                        var count = 0;
                        function myFunction(item, count) {
                            console.log(item)
                            count = count + 1;
                            var transaction_date = item.transaction_date;
                            var datePart = transaction_date.match(/\d+/g),
                            year = datePart[0].substring(0), // get only two digits
                            month = datePart[1], day = datePart[2];
                            var changedate =  day+'/'+month+'/'+year;
                            if (item.paymentmode == "Cheque") {
                                
                                $('#table_body').append(`
                                <tr>
                                    <th scope="row">${count}</th>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.semyear}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.payment_for}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.payment_type}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center "> ${item.session} </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${changedate}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.paymentmode}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.cheque_no}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.paidamount}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.advanceamount}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.pendingamount}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.status}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="viewPaymentReciept(${item.id})" >View</button>  </td> 
                                    <td class="font-14 text-extralightgray px-2 text-center ">  <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="editPaymentReciept(${item.id})" >Edit</button>  </td>                                  
                                </tr>`)
                            }
                            else {
                                $('#table_body').append(`
                                <tr>
                                    <th scope="row">${count}</th>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.semyear}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.payment_for}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.payment_type}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center "> ${item.session} </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${changedate}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.paymentmode}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  NA </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.paidamount}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.advanceamount}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.pendingamount}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.status}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="viewPaymentReciept(${item.id})" >View</button>  </td> 
                                    <td class="font-14 text-extralightgray px-2 text-center ">  <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="editPaymentReciept(${item.id})" >Edit</button>  </td>  
                                </tr>`)
                            }

                        }
                        

                    }

                }
            });
    }
    $(function() {
    $("#commonfees_payment_for").change(function() {
        var selected_option = $('option:selected', this).text()
        if(selected_option == "Other Fees"){
            $('#payment_for_other_column').css('visibility','visible');
        }
        else{
            $('#payment_for_other_column').css('visibility','hidden');
        }
        });
    });
    function ShowAdditionalFees(id){
        $.ajax({ // create an AJAX call...
                data: {
                    'show_additional_fees': id
                }, // get the form data
                type: 'POST', // GET or POST
                headers: { 'X-CSRFToken': '{{ csrf_token }}' },
                url: "{% url 'registered_show_additional_fees' %}", // the file to call
                success: function (response) { 
                    $('#fees_add_data_id').val('');
                    $('#fees_add_data_id').val(response.student_id);
                    var fees = response.fees

                    if (fees) {
                        $('#fees_modal_head').empty();
                        $('#fees_modal_head').append(`
                        
                            <tr>
                                <th scope="col">Sr.No</th>
                                <th scope="col">Year/Sem</th>
                                <th scope="col">Payment For</th>
                                <th scope="col">Payment Type</th>
                                <th scope="col">Session</th>
                                <th scope="col">Transaction Date</th>
                                <th scope="col">Mode</th>
                                <th scope="col">No</th>
                                <th scope="col">Paid Amount</th>
                                <th scope="col">Pending Amount</th>
                                <th scopt="col">View Reciept</th>
                                <th scopt="col">Edit Reciept</th>
                                
                            </tr>

                        `);

                        $('#table_body').empty();
                        fees.forEach(myFunction);
                        var count = 0;
                        function myFunction(item, count) {
                            console.log(item)
                            count = count + 1;
                            var transaction_date = item.transaction_date;
                            var datePart = transaction_date.match(/\d+/g),
                            year = datePart[0].substring(0), // get only two digits
                            month = datePart[1], day = datePart[2];
                            var changedate =  day+'/'+month+'/'+year;
                            if (item.paymentmode == "Cheque") {
                                
                                $('#table_body').append(`
                                <tr>
                                    <th scope="row">${count}</th>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.semyear}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.payment_for}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.payment_type}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center "> ${item.session} </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${changedate}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.paymentmode}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.cheque_no}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.paidamount}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.pendingamount}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="viewPaymentReciept(${item.id})" >View</button>  </td> 
                                    <td class="font-14 text-extralightgray px-2 text-center ">  <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="editPaymentReciept(${item.id})" >Edit</button>  </td>                                  
                                </tr>`)
                            }
                            else {
                                $('#table_body').append(`
                                <tr>
                                    <th scope="row">${count}</th>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.semyear}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.payment_for}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.payment_type}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center "> ${item.session} </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${changedate}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.paymentmode}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  NA </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.paidamount}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.pendingamount}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="viewPaymentReciept(${item.id})" >View</button>  </td> 
                                    <td class="font-14 text-extralightgray px-2 text-center ">  <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="editPaymentReciept(${item.id})" >Edit</button>  </td>  
                                </tr>`)
                            }

                        }
                        

                    }

                }
            });
    }



    function editPaymentReciept(id){
        console.log("id is : ",id)
        $.ajax({ // create an AJAX call...
                data: {
                    'editpayment_reciept': id
                }, // get the form data
                type: 'POST', // GET or POST
                headers: { 'X-CSRFToken': '{{ csrf_token }}' },
                url: "{% url 'registered_edit_payment_reciept' %}", // the file to call
                success: function (response) {  
                    console.log(response)
                    if(response.edit == "yes"){
                        $('#editpaymentreciept_paymentrecieptID').val(response.data.id);
                        $('#editpaymentreciept_semyear').val(response.data.semyear);
                        $('#editpaymentreciept_session').val(response.data.session);
                        $('#editpaymentreciept_feesreciept_type').val(response.data.fee_reciept_type);
                        $('#editpaymentreciept_date_of_transaction').val(response.data.transaction_date);
                        $('#editpaymentreciept__payment_for').val(response.data.payment_for);
                        $('#editpaymentreciept__payment_type').val(response.data.payment_type);
                        $('#editpaymentreciept_total_fees').val(response.data.semyearfees);
                        $('#editpaymentreciept_paid_fees').val(response.data.paidamount);
                        $('#editpaymentreciept_advance_fees').val(response.data.advanceamount);
                        $('#editpaymentreciept_pending_fees').val(response.data.pendingamount);
                        $('#editpaymentreciept_payment_mode').val(response.data.paymentmode);
                        $('#editpaymentreciept_cheque_no').val(response.data.cheque_no);
                        $('#editpaymentreciept_bank_name').append(`
                        <option value="${response.data.bank_name}">${response.data.bank_name}</option>
                        `);
                        $('#editpaymentreciept_bank_name').val(response.data.bank_name);
                        $('#editpaymentreciept_remarks').val(response.data.remarks);

                        $('#EditFeesmodal').modal('show');
                    }
                }
            });
    }
    function Save_PaymentReciept(){
        console.log("data saved");
        var payment_reciept_id = $('#editpaymentreciept_paymentrecieptID').val();
        var semyear = $('#editpaymentreciept_semyear').val();
        var session = $('#editpaymentreciept_session').val();
        var fees_reciept_type = $('#editpaymentreciept_feesreciept_type').val();
        var date_of_transaction = $('#editpaymentreciept_date_of_transaction').val();
        var payment_for = $('#editpaymentreciept__payment_for').val();
        var payment_type = $('#editpaymentreciept__payment_type').val();
        var total_fees = $('#editpaymentreciept_total_fees').val();
        var paid_fees = $('#editpaymentreciept_paid_fees').val();
        var advance_fees = $('#editpaymentreciept_advance_fees').val();
        var pending_fees = $('#editpaymentreciept_pending_fees').val();
        var payment_mode = $('#editpaymentreciept_payment_mode').val();
        var cheque_no = $('#editpaymentreciept_cheque_no').val();
        var bank_name = $('#editpaymentreciept_bank_name').val();
        var other_bank = $('#editpaymentreciept_other_bank_name').val();
        var remarks = $('#editpaymentreciept_remarks').val();
        var b_name =''
        if(bank_name == "Others"){
            b_name = other_bank
        }
        else{
            b_name = bank_name
        }
        $.ajax({ // create an AJAX call...
            data: {
                'editpayment_payment_reciept_id': payment_reciept_id,
                'editpayment_semyear': semyear,
                'editpayment_session': session,
                'editpayment_fees_reciept_type': fees_reciept_type,
                'editpayment_date_of_transaction': date_of_transaction,
                'editpayment_payment_for': payment_for,
                'editpayment_payment_type': payment_type,
                'editpayment_total_fees': total_fees,
                'editpayment_paid_fees': paid_fees,
                'editpayment_advance_fees':advance_fees,
                'editpayment_pending_fees': pending_fees,
                'editpayment_payment_mode': payment_mode,
                'editpayment_cheque_no': cheque_no,
                'editpayment_b_name': b_name,
                'editpayment_remarks': remarks
                
            }, // get the form data
            type: 'POST', // GET or POST
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            url: "{% url 'register_edit_payment_reciept_save' %}", // the file to call
        success: function (response) 
            { 
                console.log(response)
                if(response.saved == "yes"){
                    $('#editpaymentreciept_other_bank_name').val('')
                    $('#editpaymentreciept_other_bank').css('visibility','hidden');
                    $('#EditFeesmodal').modal('hide');
                    $('#feespaidmodal').modal('hide');
                }
            }
        });



        
        
        

    }

    function CommonFees(id){
        $('#save_commonfees_btn').removeAttr('disabled');
        console.log("common clicked")
        $('#commonfees_student_id').val('');
        console.log(id)
        if(id){
            $('#commonfees_student_id').val(id)
        }
        $.ajax({ // create an AJAX call...
                data: {
                    'commonfees_pendingfees_studentid': id
                }, // get the form data
                type: 'POST', // GET or POST
                headers: { 'X-CSRFToken': '{{ csrf_token }}' },
                url: "{% url 'registered_get_common_fees_details' %}", // the file to call
                success: function (response) { 
                    $('#commonfees_pending').val('')
                    console.log(response)
                    if(response.pattern == "fullcourse"){
                        if(response.paymentpending == "yes"){
                        $('#commonfees_pending').val(response.pendingamount);
                        $('#commonfees_totalfees').val(response.total_fees);
                        $('#commonfees_previous_pending').val(response.previous_pending);
                        $('#commonfees_semyear').val(response.current_semyear);
                        $('#commonfees_totalfees').prop('readonly',false)
                        $('#commonfees_previous_pending').prop('readonly',true)
                        $('#commonfees_totalfees').on('keyup',function() {
                            if(parseInt($('#commonfees_totalfees').val()) < parseInt($('#commonfees_previous_pending').val())){
                                console.log("advance greater than total fees hence pending is 0");
                                $('#commonfees_pending').val("0")
                            }
                            else{
                                $('#commonfees_pending').val($(this).val() - $('#commonfees_previous_pending').val());
                                console.log("yupp")
                            }
                            
                        });
                    }
                    else{

                    }
                    }
                    else{
                        if(response.paymentpending == "yes"){
                            
                            $('#commonfees_pending').val(response.pendingamount);
                            $('#commonfees_totalfees').val(response.total_fees);
                            $('#commonfees_previous_pending').val(response.previous_pending);
                            $('#commonfees_semyear').val(response.current_semyear);
                            $('#commonfees_totalfees').prop('readonly',true)
                            $('#commonfees_previous_pending').prop('readonly',true)
                            var total_fees = parseInt(response.total_fees)
                            var previous_pending = parseInt(response.previous_pending)
                            var paying_fees = total_fees + previous_pending;
                            // if (paying_fees < 0){
                            //     $('#commonfees_amount').val(response.total_fees)
                            // }
                            // else{
                            //     $('#commonfees_amount').val(response.pendingamount)
                            // }
                        }
                        else if(response.paymentpending == "no"){
                            console.log("paid")
                            $('#commonfees_pending').val('')
                        }
                    }
                    // else if(response.paymentpending == "fullcourse"){
                    //     console.log("fullcourse given");
                    //     $('#commonfees_totalfees').val("");
                    //     $('#commonfees_previous_pending').val("");
                    //     $('#commonfees_pending').val("");
                    //     $('#commonfees_totalfees').prop('readonly',false)
                    //     $('#commonfees_previous_pending').prop('readonly',false)
                    //     $('#commonfees_pending').prop('readonly',false)
                        
                        
                        
                        
                    // }
                    $('#CommonFeesModal').modal('show');
                }
            });
        

    }
    function savecommonfees(id){
        
        var feesfor = $('#commonfees_payment_for').val();
        var amount = $('#commonfees_amount').val();
        var feestype = $('#commonfees_payment_type').val();
        var semyear = $('#commonfees_semyear').val();
        var transactiondate = $('#commonfees_transactiondate').val();
        var paymentmode = $('#commonfees_payment_mode').val();
        var chequeno = $('#commonfees_chequeno').val();
        var bankname = $('#commonfees_bank_name').val();
        var remarks = $('#commonfees_remark').val();
        var commonfees_previous_pending = $('#commonfees_previous_pending').val();
        if(bankname == "Others"){
            var otherbankname = $('#commonfees_other_bank').val();
        }
        else{
            var otherbankname = bankname;
        }
        if (feesfor == "Other Fees"){
            var real_feesfor = $('#commonfees_payment_for_other').val();
        }
        else{
            var real_feesfor = feesfor
        }
        console.log(real_feesfor,amount,feestype,semyear,transactiondate,paymentmode,chequeno,otherbankname,remarks)
        if(real_feesfor && amount && feestype && semyear && transactiondate && paymentmode && remarks){
            $('#save_commonfees_btn').attr('disabled','disabled');
            $.ajax
            ({
                data: {
                    'commonfees_student_id':id,
                    'commonfees_feesfor': real_feesfor,
                    'commonfees_totalfees':$('#commonfees_pending').val(),
                    'commonfees_amount':amount,
                    'commonfees_feestype':feestype,
                    'commonfees_semyear':semyear,
                    'commonfees_transactiondate':transactiondate,
                    'commonfees_paymentmode':paymentmode,
                    'commonfees_chequeno':chequeno,
                    'commonfees_bankname':otherbankname,
                    'commonfees_remarks':remarks,
                    'commonfees_previous_pending':commonfees_previous_pending,
                    "commonfees_semyear_totalfees":$('#commonfees_totalfees').val()
                },
                type: 'POST',
                headers: { 'X-CSRFToken': '{{ csrf_token }}' },
                url: "{% url 'registered_save_common_fees_details' %}",
            success: function (response) {  
                console.log(response)
                if(response.success == "yes"){
                    console.log("yup");
                    $('#CommonFeesModal').modal('hide');
                    var fees = response.fees
                    $('#table_body').empty();
                    fees.forEach(myFunction);
                    var count = 0;
                    function myFunction(item, count) {
                        console.log(item)
                        count = count + 1;
                        var transaction_date = item.transaction_date;
                        var datePart = transaction_date.match(/\d+/g),
                        year = datePart[0].substring(0), // get only two digits
                        month = datePart[1], day = datePart[2];
                        var changedate =  day+'/'+month+'/'+year;
                        if (item.paymentmode == "Cheque") {
                            
                            $('#table_body').append(`
                            <tr>
                                <th scope="row">${count}</th>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.semyear}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.payment_categories}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.payment_type}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center "> ${item.session} </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${changedate}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.paymentmode}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.cheque_no}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.semyearfees}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.paidamount}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.advanceamount}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.pendingamount}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.status}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="viewPaymentReciept(${item.id})" >View</button>  </td> 
                                <td class="font-14 text-extralightgray px-2 text-center ">  <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="editPaymentReciept(${item.id})" >Edit</button>  </td>                                   
                            </tr>`)
                        }
                        else {
                            $('#table_body').append(`
                            <tr>
                                <th scope="row">${count}</th>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.semyear}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.payment_categories}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.payment_type}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center "> ${item.session} </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${changedate}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.paymentmode}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  NA </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.semyearfees}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.paidamount}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.advanceamount}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.pendingamount}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.status}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="viewPaymentReciept(${item.id})" >View</button>  </td> 
                                <td class="font-14 text-extralightgray px-2 text-center ">  <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="editPaymentReciept(${item.id})" >Edit</button>  </td> 
                            </tr>`)
                        }

                            }
                            $('#commonfees_amount').val("");
                            $('#commonfees_transactiondate').val("");
                            $('#commonfees_chequeno').val("");
                            $('#commonfees_remark').val("");
                            $('#commonfees_payment_for').val("")
                            $('#commonfees_payment_type').val("")
                            $('#commonfees_semyear').val("")
                            $('#commonfees_payment_mode').val("")
                            $('#commonfees_bank_name').val("")
                            $('#commonfees_other_bank').val("")
                            $('#commonfees_totalfees').val("")
                            $('#commonfees_previous_pending').val("")
                }
                else{
                    console.log("nope")
                }
            }
            });
        }
        else{
            alert("All Fields Are Mandatory")
            console.log("none")
        }
        
        
    }

    function ExtraFees(id){
        console.log("extra fees",id);
        if(id){
            $('#extrafees_student_id').val(id)
        }
        $('#ExtraFeesModal').modal('show');
    }
    function saveextrafees(id){
        var feesfor = $('#extrafees_payment_for').val();
        var amount = $('#extrafees_amount').val();
        var feestype = $('#extrafees_payment_type').val();
        var semyear = $('#extrafees_semyear').val();
        var transactiondate = $('#extrafees_transactiondate').val();
        var paymentmode = $('#extrafees_payment_mode').val();
        var chequeno = $('#extrafees_chequeno').val();
        var bankname = $('#extrafees_bank_name').val();
        var remarks = $('#extrafees_remark').val();
        if(feesfor == "Other Fee (Type Manually Option)"){
            var otherfeesfor = $('#extrafees_others_payment').val();
        }
        else{
            var otherfeesfor = feesfor;
        }
        if(bankname == "Others"){
            var otherbankname = $('#extrafees_other_bank').val();
        }
        else{
            var otherbankname = bankname;
        }
        console.log(otherfeesfor,amount,feestype,semyear,transactiondate,paymentmode,chequeno,otherbankname,remarks)
        $.ajax
        ({
            data: {
                'extrafees_student_id':id,
                'extrafees_feesfor': otherfeesfor,
                'extrafees_amount':amount,
                'extrafees_feestype':feestype,
                'extrafees_semyear':semyear,
                'extrafees_transactiondate':transactiondate,
                'extrafees_paymentmode':paymentmode,
                'extrafees_chequeno':chequeno,
                'extrafees_bankname':otherbankname,
                'extrafees_remarks':remarks
            },
            type: 'POST',
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            url: "{% url 'registered_save_extra_fees' %}",
        success: function (response) {  
            console.log("sent data");
            if(response.success == "yes"){
                console.log("yup");
                $('#ExtraFeesModal').modal('hide');
                var fees = response.fees
                $('#table_body').empty();
                fees.forEach(myFunction);
                var count = 0;
                function myFunction(item, count) {
                    console.log(item)
                    count = count + 1;
                    var transaction_date = item.transaction_date;
                    var datePart = transaction_date.match(/\d+/g),
                    year = datePart[0].substring(0), // get only two digits
                    month = datePart[1], day = datePart[2];
                    var changedate =  day+'/'+month+'/'+year;
                    if (item.paymentmode == "Cheque") {
                        
                        $('#table_body').append(`
                        <tr>
                            <th scope="row">${count}</th>
                            <td class="font-14 text-extralightgray px-2 text-center ">  ${item.semyear}  </td>
                            <td class="font-14 text-extralightgray px-2 text-center ">  ${item.payment_for}  </td>
                            <td class="font-14 text-extralightgray px-2 text-center ">  ${item.payment_type}  </td>
                            <td class="font-14 text-extralightgray px-2 text-center "> ${item.session} </td>
                            <td class="font-14 text-extralightgray px-2 text-center ">  ${changedate}  </td>
                            <td class="font-14 text-extralightgray px-2 text-center ">  ${item.paymentmode}  </td>
                            <td class="font-14 text-extralightgray px-2 text-center ">  ${item.cheque_no}  </td>
                            <td class="font-14 text-extralightgray px-2 text-center ">  ${item.paidamount}  </td>
                            <td class="font-14 text-extralightgray px-2 text-center ">  ${item.pendingamount}  </td>
                            <td class="font-14 text-extralightgray px-2 text-center ">  <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="viewPaymentReciept(${item.id})" >View</button>  </td> 
                            <td class="font-14 text-extralightgray px-2 text-center ">  <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="editPaymentReciept(${item.id})" >Edit</button>  </td>                                 
                        </tr>`)
                    }
                    else {
                        $('#table_body').append(`
                        <tr>
                            <th scope="row">${count}</th>
                            <td class="font-14 text-extralightgray px-2 text-center ">  ${item.semyear}  </td>
                            <td class="font-14 text-extralightgray px-2 text-center ">  ${item.payment_for}  </td>
                            <td class="font-14 text-extralightgray px-2 text-center ">  ${item.payment_type}  </td>
                            <td class="font-14 text-extralightgray px-2 text-center "> ${item.session} </td>
                            <td class="font-14 text-extralightgray px-2 text-center ">  ${changedate}  </td>
                            <td class="font-14 text-extralightgray px-2 text-center ">  ${item.paymentmode}  </td>
                            <td class="font-14 text-extralightgray px-2 text-center ">  NA </td>
                            <td class="font-14 text-extralightgray px-2 text-center ">  ${item.paidamount}  </td>
                            <td class="font-14 text-extralightgray px-2 text-center ">  ${item.pendingamount}  </td>
                            <td class="font-14 text-extralightgray px-2 text-center ">  <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="viewPaymentReciept(${item.id})" >View</button>  </td> 
                            <td class="font-14 text-extralightgray px-2 text-center ">  <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="editPaymentReciept(${item.id})" >Edit</button>  </td> 
                        </tr>`)
                    }

                        }
                        $('#extrafees_amount').val("");
                        $('#extrafees_transactiondate').val("");
                        $('#extrafees_chequeno').val("");
                        $('#extrafees_remark').val("");
                        $('#extrafees_payment_for').val("")
                        $('#extrafees_payment_type').val("")
                        $('#extrafees_semyear').val("")
                        $('#extrafees_payment_mode').val("")
                        $('#extrafees_bank_name').val("")
                        $('#extrafees_others_payment').val("")
                        $('#extrafees_other_bank').val("")
                        
                        
                        
                        
                        
                        
            }
        }
        });
    }

    function IDCard(id) {
        if (id) {
            $.ajax({ // create an AJAX call...
                data: {
                    'idcard': id
                }, // get the form data
                type: 'POST', // GET or POST
                headers: { 'X-CSRFToken': '{{ csrf_token }}' },
                url: "{% url 'registered_get_idcard' %}", // the file to call
                success: function (response) {
                    var idcard = response.idcard
                    if (idcard){
                        $('#idcardmodaldata').html(`
                        <div class="id-card-tag"></div>
                        <div class="id-card-tag-strip"></div>
                        <div class="id-card-hook"></div>
                        <div class="id-card-holder">
                            <div class="id-card">
                                <div class="header">
                                    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAABL1BMVEX///9jsLoVFRVYrLbS5+jFJxzd4BUAAADo6Orj4+Xg4OLq6uzs7O7f3+HDFQDFKBrAAADNUkbEIRXkoJz66OT/+/n4+Pj09PSTzyLT09PY2NoODg6Wlpbd4ADNzc329avw7n7286D1+Lv5+Mavr6/y8o6bm5u8vLzt7W4fHx+NjY38+dWlpaVNTU2Dg4P7++Do6lv6/exvb29bW1s1NTU/Pz8qKiqy19lmZmZ2dnazs7NFRUVfX1+OzAAlJSWr2VvG45bh8cae1EDj40DS7Kzf4jDo89Kt22Db7re13HPN55y84Ino7tvn51/u7ubt6vS+2pTj4e3d6NjO2sOt126l10qz0YjD2aa54YOnzG7D1LLv8rCy03/w8cbl46vk45n01tbVZ17vyMTbhX/77OjI+jqfAAAOsklEQVR4nO2dDVvayBbHZ2llEpJ0vbdLYkCiVgTBgAXRovhStVKtVla73fbWtdvbu9//M9wzk/eAGMIQiE/+z9MXwmQyv5wz58xLjOiXpy407QZMXAlh/JUQxl8W4bOnJy/hszfPn5rePPMSPkdPTc8TwtgrIYy/EsL4KyGMvxLC+CshjL8SwvgrIYy/EsL4KyGMvxLC+CshjL8SwvgrIYy/EsL4KyGMvxLC+CshjL+iJ1RzCOVU2f7MqaKvhKBy9I9bsuuM0RQ9IcYi/BHsz7u46CtRwlX6xy0e50JeL3rC9q6Cmm3F/lxsa74SJbyIyu09zzFZm6oNOdJGjUdI0Yy/oTWSavxNvjFwpKJOPhEvVYnPqbpOzuPBS3lN4fQ9Ukwu65wOhNRLlbJelBxCTcmVyiODMiHUsIJE3Ia7X9vtgFUwtPxwMQ9W6GAZHIwnhUoYVHe8tEk+bxleWsXk046IlG34twaExEuFHVLE8GEeSwhv7TRxZ1RENl6Ky6iMWzLa1jVAagOIiMVmG4kprCK9Q4qouKJmDoEdV0SUx6JE7sh+S0J1SphXxRbegw81UctTwkU4uoj2cI1egQPCVI2Q+n06GsJmEzVLOCODtaAFqdI2Km4DM9I6zUXAJkXquIRQBnzOJOQw3tc5+gUhhLhShRIVElCqJiH4ZmYRd2xCDBXJcDOnQVg+RIfSVrG8g9BWVUrJWNkqIQVL9cXilmw4aRObocMgFFApRRxSNAmh8YtAiEnhkkkogOtuu2xIHHZahHBdjBZ3m2CJvU5pF7WK0CDUKXU0DhcrtAi1oVrmbUIISNUW2M5DWCHnWTbcx7qSmRFCtNVpolyKuJiCK2VUTR3CwWKlIqOdQ3A3mUSjQ15pQfsMQqVMokzJT1iH3imlTMJt0okJoTwDhDpcXUlh8t8OBFaN5msB75NQKUHzdPIfUNuJpTWMK7jCmbG0ZJhOIeFzy8z4VYxTO7iiINx0Ee490pQJEYo6DL3KNMyp0ARZp32vCPkvR5pFs1q5Wif3v7gno2JRpp91SIGaLkFqJEmS/KWU6poAeTNHcudeXYf8KKKiBjUqiNZS5KdDOMNKCOOvhDD+mhZhIxvRhaZGuL4c0YWmRbhZKNxHc6VpES4XCqcR+el0CBuFdLqwFsmlpkS4AoTpwmYk15oOIQFMF15Hcq2pEK5SwnRhNYqLRUboXuBdNwjTp4MKZt+xvXBkhJqzaN1ImxpkxO7JZ7YXjopQ1jTNWgU2nXRgT7w8ODhie+UoCTVzg8JyUkD0pf3G0cHCQkwJFU0FUcTGWdomXPcU6i4A4MJ7tleOllAlGzIbtgkBseEqc074Fg4ukEy6rPJATaMqKkJRNSSa6d4idA1sPhiAlzKRoEqMrhwpYQ4koo8uwnTaLnFJAReOCR+nqho3pLZRFAkhtYkBmMspbr50YcMsQwEPTq5kRRFydp9loMkTNkzCnCnpu9uGlpu+pYBHCkjKEcLQ+4V+TZ6wmyV+J5p4IN7dEdNntNA7CnghKiJn3giV1fUjIGzYhJIhzt0T6QzjmAJeiqKYkSTzXrC6fgRe2pWhb4k2H+i64CAWXkERGkTf9kTO+J4QCo/XHEwRRJp3MuldFDAjZYhuVh3CM5jqnxDA33sCD19biKy6YRSEHyghBbTUW7aHphBLvx5QQI43vqSIHifNNhoPVf64IiA87gIg6WA2YEa6tgCXjU4IgLzzLemr9NTs5v3K8sfXp2Y8CqUICLOXPYWEEJuA5/kbK55mURZ89OCvGzjoZlRQdnXl9VmBKl24C3/5KDL+12sIkryLDyTS4XdhiQ7WDi5ueFMmYeb+lKJ5Uko4RUF4fgyEnJsPjPiqYIQZiKMH7+3DFqHw2jMsGMOEkRA2LnomIe+IGLGwQkdrJzn3F5Sw6xm7jmNCxoSrq3d3SysrK0t3d6sbTvy7uBUEzgvI80sA0UBZ8NFP3i9IOln2mHCsFSu2hKcFj86WV+4JZ/drj+N4nyDtL5Px6MGXG993EGo9gOOtOrIl3PQ4FzQO9HEtiz5f9xP21gv3KAudMMdxvm9v1jyE460cM+6HSz5ESrmCjv/o+fgAarVAc+En8n8PY+bac/7KeE1iHWk+9iOS7vb5kw8PiK7WyHDmzxuB47yMPbcJCwMXVadImD3rBwQrdI/4jIcPJG6SEWmOc2QW2GTooxPIFhsDjFhooIsvJqILCKErMCHH+Rh7nsnV0rgNYp8P7wZ0xXVI7DD19QJyMkx8VUHwIXKv3IAfx27PBDL+2gDEVXT++UZy8wGZgr7+B/4lciFeezrh+NuokxjTLA9w1AZ6/+dNxsUHUtDRN1GwZH7T84zXGGwxTmTU1h9QibctfMvxLj5BENHnWxixehBFTxzdePxaj2oy49IBiCtoc+GTJLgABTH7Hgasog1JLOjuxWz2Fyc08l7vR7xD3QWVFyxAApb9S7RkIPbu3YM+Nhuok5pbLHtHqAVqkeMF1Q0oNr6IXsT79Pra0sbGJtEGCxdFE5w9rZyu/f339/v7++/f/15bPyND1FcEsWfzgQ2/iR7E7CSelJoIoaxwdFnm5oZm+RsQJ17dL22i7skn0eITe9lbDyE5Nds9//D14v3R0fuLt++OWRAzJ5QVPqcai6PuOS8HYbSnyKjx/osZXa5WX63eXzuECmqcfyXriidECweGPl+ej7HONgFCUTJ3YKy1Q99gVJTRh7/AiL3rtfW1laVXqxsWo3z89vLtt1vJWKbJXN9++nJ5ZFK+7c4IoSJpmuoQSn2EtAvKm5e3vavX68sG4SZFVBTxWhB7PSvx0zN6vevjtycHB2DPk3ehLcmSEAAtQskk9JqQEkKi73Y/OoQNxRNP3bMMYuze1e+fKeRFSEMy9VLFQ9jvpFYYlZfOXIRZTzz1ThU5Yt9e95Js8B/8EYqRbT+UJW0IoZ0Ie2enbkLlQUJSAXiwIl+/OyF2/DB1QoRuPwUgvC4EJgRxQCjL6Pxk4TxMi9gSNr4u/M4/Ttj1EsrDCSWJo4goXHJkSvjh6FyBbJdxskUgGz5CSDZNufCbbQwJjy+OyTYaaSn/SD9Mj+KlxrZw6MdrGBJmZdkiFAU+MziWUn5l5TRYLLV323I5NRPSjOwIyW69Qwgt5QcQiiInqdeoEdBLeceGOVUNZ8ZJEvI2o7Uyw+c04ANtnDqEkEcfyPjmNo1FqIZ6iIihl5qEJqJJaD+dQNqoaXZ32lg3x6XGaEwRPCYc0A/pMzZhEJnGUrcRORvRekBGzfHurnS/tHS3umlnAAWGc4MJzdujhnw8g3HGpw+WeNxUshD5x7qRLIInP9QNJWGG3oshK7YNzfbBsCRQ++BMcprbhDTtBDx9sCa1ikEdVqRjytFaRyhtE0KMUsZ9znRWfzpPlke8Mw9qVgnZiS2hYid3ey5IPdWQ7JLrJPdh2S7sZEgn+oQKpmwJRWsQ44xhvJSDEPvplMEDgMy0M/6MKiGMvxLC+GtChEJZr7f395vVsv957ewP0D+eQ//Akd8GLMLw5Wp7q1bbr++N81j7JAi5RfoKK1P5uqt9P+bmX4Dm537Yh16+oJr/r7cSpWRUks/Tf5qjvh7KFnvCXBualXIELazZzXs5Pzf369zc3IuX1pHsv/5NDsz9Ov+buxbdW0kK407IV9IxJySvzfEL2y/Qe/lijspDONdHqNQGVTLtVQwqYbu/abR55psDgxHKrUG1jPz+pEkQSvnBgCnyUqjghAMsSOoY9f1JEyAU8p6+k3c+5jsjEOo2YN6MVjND6HJR0rbWNgmHlDK/HZxQrlg3BrdKWkbS9H1aywwQ1h1AnDLehYUyeou0bhTCPasa5wWfin6I89Pvh6oL0P3y0TKYdhQvbZr14F137cUdHO5nLhkSbtmE/rtdoi9qIwpCaPVe7B0OKZlwzWJH6Jiw76WyKLdrtjYIoVlPvsLmp0jZEbbt7tN+uFAAQtm+UzNGqDgmHNJfRiHEbH6MlBlh2W7Y7pBSI3hpynzr5bhiRtgMdOuDEKbsdDjE3YOLGWHLbFe+NWwld5RsQTJ+6DmTI1aEfLAbH4Sw7B4Z7Y/dGVkR2rkC68OKBRqXtlyjW5hchhvK2GJF6ASaoY4ViLDsmVrAdEUfZwuDFWEpWIwPNnva9c6e8jg/BiMrwqpNOHRwFXCOv+WbIObHiDmsCO15xfDxcUBCiKd5P+NiyJbNKCEqV/zzfNwM1zL2hEPfZByYEMlV/4qI7/dBBBV7wqGLfsEJERKq/hXFUH2RFeEiw2xhS9YrbsZwA1VWhEWbcGiCHo0Q0QWC/HhGZEWo2YT1YcVGJkRId1bshtf9gFgRShZhfqgrhSBE/GE+UN0PiBWhsmM3Y1i6CEOIBPvuVUIMbZjNnux16v5VGpdCEboGTNMktAem1tLoQIUjLM8EYc6Ztw5Zmw5HaIWx6Xqpa1Y3YOCWMw8FWtXvO9vayJhqpHFlxFS+5UMUd61kHYCwnKr6Nwo71hrxNLOFe0MlhQ/daV8upXB+x2h1AMItjHe8wUoPNpp4QAxX9ffc6ys165draXWYwNoL2AEIt6E0PizZbiDbkTS/E2YezHLvad81GciDJWr7Wy1r8y8VmJD2Zzh9u6qXy2V919k1H74EFAWheOjbIMX2gGsEG9rLku7dUQo4LA1FQ4h4/8zcoTVXUQMQdh6oIz985hkNIcocPrSPby71ByCsD64Ch5sdMn8WQ2kPMiMEHiUwobIz8EGM1sz8hsdyy/9ADcaHdojoJ5T7M75/bk+6ZDX0cuIEnvrS2sbTWkT0dxy6stjPeVM/7UP/Ix9fzM/POU+2KfqOp4rU4hhbiZN5ck/Tm7VtUK2p+3pP9sdP0A/3c3r//KSHvOW4cn1ru7XTatV2i2H909BsP33J4gcSZpuQhRLC+CshjL8SwvgrIYy/EsL4KyGMvxLC+CshjL8SwvgrIYy/EsL4KyGMvxLC+CshjL8SwvgrIYy/EsL4KyGMv/yEb54/Nb3xEv7y7OnpFy/h01VCGH8lhPHX0yf8P9aqMQF7zOJ5AAAAAElFTkSuQmCC">
                                </div>
                                
                                <h2 class="text-uppercase">`+idcard.name+`</h2>        
                                <h3>Enrollment ID   : `+idcard.enrollment_id+`</h3>
                        
                                <hr>
                                <p class="text-start">University Name    : `+idcard.university_name+`</p>
                                <p class="text-start">University Address : `+idcard.university_address+ ', ' + idcard.city + ', ' + idcard.state + ', ' + idcard.pincode + ', ' + idcard.country + `</p>
                                
                                
                                <hr>
                                <p><strong>Address :</strong>`+idcard.address+`<p>
                                <p>`+ idcard.city + ', ' + idcard.state + ', ' + idcard.country  +`, <strong>`+ idcard.pincode +`</strong></p>
                                <p>Ph: `+idcard.mobile+` | Email: `+idcard.email+`</p>

                            </div>
                        </div>
                        `);
                        $('#idcardmodal').modal('show');
                    }

                }
            });
        }

    }

    // remaining to performance optimization

    function RefundFees(id){
        console.log("Refund fees",id);
        if(id){
            $('#refund_fees_student_id').val(id)
        }
        $('#RefundFeesModal').modal('show');
    }
    function save_refund_fees(id){
        var amount = $('#refund_fees_amount').val();
        var feestype = $('#refund_fees_payment_type').val();
        var semyear = $('#refund_fees_semyear').val();
        var transactiondate = $('#refund_fees_transactiondate').val();
        var paymentmode = $('#refund_fees_payment_mode').val();
        var chequeno = $('#refund_fees_chequeno').val();
        var bankname = $('#refund_fees_bank_name').val();
        var remarks = $('#refund_fees_remark').val();
        if(bankname == "Others"){
            var otherbankname = $('#refund_fees_other_bank').val();
        }
        else{
            var otherbankname = bankname;
        }
        console.log(id,amount,feestype,semyear,transactiondate,paymentmode,chequeno,otherbankname,remarks);
        if(amount && feestype && semyear && transactiondate && paymentmode && remarks){
            console.log("all given")
            $.ajax
                ({
                    data: {
                        'refund_fees_student_id':id,
                        'refund_fees_amount':amount,
                        'refund_fees_feestype':feestype,
                        'refund_fees_semyear':semyear,
                        'refund_fees_transactiondate':transactiondate,
                        'refund_fees_paymentmode':paymentmode,
                        'refund_fees_chequeno':chequeno,
                        'refund_fees_bankname':otherbankname,
                        'refund_fees_remarks':remarks
                    },
                    type: 'POST',
                    headers: { 'X-CSRFToken': '{{ csrf_token }}' },
                    url: "{% url 'registered' %}",
                success: function (response) {  
                }
            });
        }
        else{
            console.log("not given")
            alert("All Fields are mandatory")
        }
    }


    function UpdatePayment(id){
        $.ajax({ // create an AJAX call...
            data: {
                'update_payment': id
            }, // get the form data
            type: 'POST', // GET or POST
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            url: "{% url 'registered_update_payment_status' %}", // the file to call
        success: function (response) { 
            console.log(response)
            if(response.data){
                $('#payment_update_modal_head').empty();
                $('#payment_update_table_body').empty();
                $('#payment_update_modal_head').append(`
                
                    <tr>
                        <th scope="col">Sr.No</th>
                        <th scope="col">Year/Sem</th>
                        <th scope="col">Transaction Date</th>
                        <th scope="col">Mode</th>
                        <th scope="col">No</th>
                        <th scope="col">Total Fees</th>
                        <th scope="col">Paid Amount</th>
                        <th scope="col">Advance Amount</th>
                        <th scope="col">Pending Amount</th>
                        <th scope="col">Payment Status</th>
                        <th scopt="col">Change Payment Status</th>
                        <th scopt="col"></th>
                        <th scopt="col">Action</th>
                        
                    </tr>

                `);
                var data = response.data;
                var count = 0;
                data.forEach(myfunction3);
                function myfunction3(item,count){
                    count = count + 1;
                    if(item.status == "Not Realised"){
                        var bg_color = "style='background-color: red;color:white;'"
                    }
                    else if (item.status == "Realised"){
                        var bg_color = "style='background-color: green;color:white;'"
                    }
                    $('#payment_update_table_body').append(`
                    <tr>
                        <th scope="row">${count}</th>
                        <td class="font-14 text-extralightgray px-2 text-center ">  ${item.semyear}  </td>
                        <td class="font-14 text-extralightgray px-2 text-center ">  ${item.transaction_date}  </td>
                        <td class="font-14 text-extralightgray px-2 text-center ">  ${item.paymentmode}  </td>
                        <td class="font-14 text-extralightgray px-2 text-center ">  ${item.cheque_no}  </td>
                        <td class="font-14 text-extralightgray px-2 text-center ">  ${item.semyearfees}  </td>
                        <td class="font-14 text-extralightgray px-2 text-center ">  ${item.paidamount}  </td>
                        <td class="font-14 text-extralightgray px-2 text-center ">  ${item.advanceamount}  </td>
                        <td class="font-14 text-extralightgray px-2 text-center ">  ${item.pendingamount}  </td>
                        <td class="font-14 text-extralightgray px-2 text-center " ${bg_color}>  ${item.status}  </td>
                        <td class="font-14 text-extralightgray px-2 text-center ">  
                            <select class="" id="payment_update_select${item.id}" aria-label="Default select example">
                                <option selected>Select</option>
                                <option value="Realised">Realised</option>
                                <option value="Not Realised">Not Realised</option>
                            </select>  
                        </td> 
                        <td class="font-14 text-extralightgray px-2 text-center ">   
                            <input id="payment_update_student_id" value="${item.id}" style="width:50px;display:none;">
                        </td>
                        <td class="font-14 text-extralightgray px-2 text-center ">  <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="Update_Payment(${item.id})" >Update</button>  </td>                                  
                    </tr>`)
                }
            }
            $('#PaymentUpdatemodal').modal('show')
        }
        });
    }

    function Update_Payment(id){
        var payment_reciept_id = id;
        var payment_reciept_status = $('#payment_update_select'+id).val();
        console.log(payment_reciept_id , payment_reciept_status);
        if (payment_reciept_status != "Select"){
            $.ajax({ // create an AJAX call...
                data: {
                    'update_reciept_id': payment_reciept_id,
                    'update_reciept_status':payment_reciept_status
                }, // get the form data
                type: 'POST', // GET or POST
                headers: { 'X-CSRFToken': '{{ csrf_token }}' },
                url: "{% url 'registered_update_payment_status' %}", // the file to call
                success: function (response) {
                    if(response.data){
                        $('#payment_update_table_body').empty();
                        
                        var data = response.data;
                        var count = 0;
                        data.forEach(myfunction3);
                        function myfunction3(item,count){
                            count = count + 1;
                            if(item.status == "Not Realised"){
                                var bg_color = "style='background-color: red;color:white;'"
                            }
                            else if (item.status == "Realised"){
                                var bg_color = "style='background-color: green;color:white;'"
                            }
                            $('#payment_update_table_body').append(`
                            <tr>
                                <th scope="row">${count}</th>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.semyear}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.transaction_date}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.paymentmode}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.cheque_no}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.semyearfees}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.paidamount}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.advanceamount}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.pendingamount}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center " ${bg_color}>  ${item.status}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  
                                    <select class="" id="payment_update_select${item.id}" aria-label="Default select example">
                                        <option selected>Select</option>
                                        <option value="Realised">Realised</option>
                                        <option value="Not Realised">Not Realised</option>
                                    </select>  
                                </td> 
                                <td class="font-14 text-extralightgray px-2 text-center ">   
                                    <input id="payment_update_student_id" value="${item.id}" style="width:50px;display:none;">
                                </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="Update_Payment(${item.id})" >Update</button>  </td>                                  
                            </tr>`)
                        }
                    }
                }
            });
        }
    }

    
    // remaining to performance optimization
    function RequestFees(id){
        $.ajax({ // create an AJAX call...
                data: {
                    'requestFees': id
                }, // get the form data
                type: 'POST', // GET or POST
                headers: { 'X-CSRFToken': '{{ csrf_token }}' },
                url: "{% url 'registered_request_fees' %}", // the file to call
                success: function (response) {
                    console.log(response)
                    if (response.email){
                        $('#emailID').val(response.email);
                        $('#request_fees_student_id').val(response.data.student_id);
                        $('#request_amount').val(response.data.pendingamount);
                    }
                }
            });
            $('#RequestFeesModal').modal('show');
    }

    function fetch_message(){
        $.ajax({ // create an AJAX call...
                data: {
                    'fetch_message': "yes",
                    'request_amount' : $('#request_amount').val()
                }, // get the form data
                type: 'POST', // GET or POST
                headers: { 'X-CSRFToken': '{{ csrf_token }}' },
                url: "{% url 'registered_fetch_message_request_fees' %}", // the file to call
                success: function (response) {
                    console.log(response);
                    if(response.message){
                        $('#MessageArea').val(response.message);
                    }
                }
            });
    }
    function sendEmail(){
        var email = $('#emailID').val();
        var amount = $('#request_amount').val();
        var payment_categories = $('#request_payment_categories').val();
        var payment_type = $('#request_payment_type').val();
        var subject = $('#subject').val();
        var message = $('#MessageArea').val();
        if (payment_categories == "OTHER"){
            var real_payment_categories = $('#other_payment_categories').val();
        }
        else{
            var real_payment_categories = payment_categories;
        }
        if(subject.length != 0 & email.length !=0 & message.length !=0){
            $.ajax({ // create an AJAX call...
                data: {
                    'subject':subject,
                    'email_ID': email,
                    'request_amount': amount,
                    'request_payment_categories': real_payment_categories,
                    'request_payment_type': payment_type,
                    'email_message': message
                    
                }, // get the form data
                type: 'POST', // GET or POST
                headers: { 'X-CSRFToken': '{{ csrf_token }}' },
                url: "{% url 'registered' %}", // the file to call
                success: function (response) {
                    console.log(response);
                    console.log("email dta sent")
                    $('#RequestFeesModal').modal('hide');
                    $('#request_amount').val("");
                    $('#request_payment_categories').val("");
                    $('#request_payment_type').val("");
                    $('#subject').val("");
                    $('#MessageArea').val("");             
                }
            });
        }
        
    }
    function get_request_fees(id){
        $.ajax({ // create an AJAX call...
                data: {
                    'get_request_fees_history': id
                }, // get the form data
                type: 'POST', // GET or POST
                headers: { 'X-CSRFToken': '{{ csrf_token }}' },
                url: "{% url 'registered' %}", // the file to call
                success: function (response) {
                    $('#request_fees_history_modal_table_body').empty();
                    console.log(response)
                    if(response.data){
                        $('#RequestFeesHistoryModal').modal('show');
                        var data = response.data;
                        data.forEach(myfunction);
                        var count = 0;
                        function myfunction(item,count){
                            count = count + 1;
                            console.log(item);
                            $('#request_fees_history_modal_table_body').append(`
                            <tr>
                                <th scope="row">${count}</th>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.amount}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.payment_categories}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.payment_type}</td>                               
                            </tr>
                            `);
                        }
                    }
                }
            });
    }

    $(function() {
    $("#request_payment_categories").change(function() {
        var selected_option = $('option:selected', this).text()
        if(selected_option == "OTHER"){
            $('#request_other_container').css('visibility','visible');
        }
        else{
            $('#request_other_container').css('visibility','hidden');
        }
        });
    });

    function UniversityExamFees(id){
        $.ajax({ // create an AJAX call...
                data: {
                    'universityExamFees': id
                }, // get the form data
                type: 'POST', // GET or POST
                headers: { 'X-CSRFToken': '{{ csrf_token }}' },
                url: "{% url 'registered_university_exam_fee' %}", // the file to call
                success: function (response) {
                    console.log(response)
                    if(response.student_id){
                        $('#university_examination_student_id').val(response.student_id)
                    }
                    if(response.data){
                        $('#university_exam_table_body').empty()
                        var data = response.data;
                        data.forEach(myfunction);
                        var count = 0
                        function myfunction(item,count){
                            console.log(item);
                            count = count +1;
                            var transaction_date = item.date;
                            console.log("transaction date : ",transaction_date)
                            var datePart = transaction_date.match(/\d+/g),
                            year = datePart[0].substring(0), // get only two digits
                            month = datePart[1], day = datePart[2];
                            console.log("datePart : ",datePart)
                            console.log("year : ",year)
                            console.log("month : ",month)
                            var changedate =  day+'/'+month+'/'+year;
                            
                            $('#university_exam_table_body').append(`
                            <tr>
                                <th scope="row">${count}</th>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.amount}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${changedate}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.examination}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.semyear}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.paymentmode}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.remarks}</td>
                                
                            </tr>
                            `);
                        }
                    }
                }
            });
        $('#UniversityExamFeesModal').modal('show');
    }
    function AddUniversityExamination(id){
        console.log(id);
        $('#add_university_examination_student_id').val(id)
        $('#AddNewUniversityExamFeesModal').modal('show');
    }
    function add_university_examination(id){
        console.log("saved")
        var add_university_examination_amount = $('#add_university_examination_amount').val()
        var add_university_examination_date = $('#add_university_examination_date').val()
        var add_university_examination_examination = $('#add_university_examination_examination').val()
        var add_university_examination_semyear = $('#add_university_examination_semyear').val()
        var add_university_examination_paymentmode = $('#add_university_examination_paymentmode').val()
        var add_university_examination_remarks = $('#add_university_examination_remarks').val()
        console.log(add_university_examination_amount,add_university_examination_date,add_university_examination_examination,add_university_examination_semyear,add_university_examination_paymentmode)
        if(add_university_examination_amount != "" && add_university_examination_date != "" && add_university_examination_examination != "" && add_university_examination_semyear != "" && add_university_examination_paymentmode != "" && add_university_examination_remarks != ""){
            
            $.ajax({ // create an AJAX call...
            data: {
                "adduniversity_studentid":id,
                "adduniversity_amount":add_university_examination_amount,
                "adduniversity_date":add_university_examination_date,
                "adduniversity_examination":add_university_examination_examination,
                "adduniversity_semyear":add_university_examination_semyear,
                "adduniversity_paymentmode":add_university_examination_paymentmode,
                "adduniversity_remarks":add_university_examination_remarks,
                "adduniversity_type":"University_Exam"
            }, // get the form data
            type: 'POST', // GET or POST
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            url: "{% url 'registered_university_exam_fee' %}", // the file to call
            success: function (response) {
                console.log(response)
                
                console.log("sent")
                if(response.data){
                    $('#university_exam_table_body').empty();

                    $('#AddNewUniversityExamFeesModal').modal('hide');
                    $('#add_university_examination_amount').val('')
                    $('#add_university_examination_date').val('')
                    $('#add_university_examination_examination').val('')
                    $('#add_university_examination_semyear').val('')
                    $('#add_university_examination_paymentmode').val('')
                    $('#add_university_examination_remarks').val('')
                        var data = response.data;
                        data.forEach(myfunction);
                        var count = 0
                        
                        function myfunction(item,count){
                            console.log(item);
                            count = count +1;
                            $('#university_exam_table_body').append(`
                            <tr>
                                <th scope="row">${count}</th>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.amount}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.date}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.examination}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.semyear}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.paymentmode}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.remarks}</td>
                                
                            </tr>
                            `);
                        }
                    }
            }
        });
        }
        else{
            console.log("something is missing")
        }
        
    }
    
    function ResultUploaded(id){
        $.ajax({ // create an AJAX call...
            data: {
                'is_result_uploaded': id
            }, // get the form data
            type: 'POST', // GET or POST
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            url: "{% url 'registered_result_uploaded' %}", // the file to call
            success: function (response) {
                console.log(response)
                console.log("sent")
                if(response.student_id){
                    $('#get_resultuploaded_student_id').val(response.student_id)
                }
                if(response.data){
                    $('#get_resultuploaded_table_body').empty()
                    var data = response.data;
                        data.forEach(myfunction);
                        var count = 0
                        function myfunction(item,count){
                            console.log(item);
                            count = count +1;
                            var transaction_date = item.date;
                            console.log("transaction date : ",transaction_date)
                            var datePart = transaction_date.match(/\d+/g),
                            year = datePart[0].substring(0), // get only two digits
                            month = datePart[1], day = datePart[2];
                            console.log("datePart : ",datePart)
                            console.log("year : ",year)
                            console.log("month : ",month)
                            var changedate =  day+'/'+month+'/'+year;

                            $('#get_resultuploaded_table_body').append(`
                            <tr>
                                <th scope="row">${count}</th>
                                <td class="font-14 text-extralightgray px-2 text-center ">${changedate}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.examination}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.semyear}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.uploaded}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.remarks}</td>
                                <td class="font-14 text-extralightgray px-2 text-center "> <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="EditResultUploaded(${item.id})">Edit</button> </td>
                                
                                
                            </tr>
                            `);
                        }
                    $('#GetResultUploadedModal').modal('show')
                }
            }
        });
    }
    function AddResultUploaded(id){
        console.log(id);
        $('#add_result_uploaded_student_id').val(id)
        $('#AddResultUploadedModal').modal('show');
    }
    function add_result_uploaded(id){
        var add_result_uploaded_date = $('#add_result_uploaded_date').val()
        var add_result_uploaded_examination = $('#add_result_uploaded_examination').val()
        var add_result_uploaded_semyear = $('#add_result_uploaded_semyear').val()
        var add_result_uploaded_yn = $('#add_result_uploaded_yn').val()
        var add_result_uploaded_remarks = $('#add_result_uploaded_remarks').val()
        console.log(id,add_result_uploaded_date,add_result_uploaded_examination,add_result_uploaded_semyear,add_result_uploaded_yn,add_result_uploaded_remarks)
        if (add_result_uploaded_date != "" && add_result_uploaded_examination != "" && add_result_uploaded_semyear != "" && add_result_uploaded_yn != "" && add_result_uploaded_remarks != "")
        {
            $.ajax({ // create an AJAX call...
            data: {
                "addresultuploaded_studentid":id,
                "addresultuploaded_date":add_result_uploaded_date,
                "addresultuploaded_examination":add_result_uploaded_examination,
                "addresultuploaded_semyear":add_result_uploaded_semyear,
                "addresultuploaded_yn":add_result_uploaded_yn,
                "addresultuploaded_remarks":add_result_uploaded_remarks
            }, // get the form data
            type: 'POST', // GET or POST
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            url: "{% url 'registered_result_uploaded' %}", // the file to call
            success: function (response) {
                console.log(response)
                
                console.log("sent")
                if(response.data){
                    $('#get_resultuploaded_table_body').empty();
                    $('#AddResultUploadedModal').modal('hide');

                    $('#add_result_uploaded_date').val('')
                    $('#add_result_uploaded_examination').val('')
                    $('#add_result_uploaded_semyear').val('')
                    $('#add_result_uploaded_yn').val('')
                    $('#add_result_uploaded_remarks').val('')
                        var data = response.data;
                        data.forEach(myfunction);
                        var count = 0
                        
                        function myfunction(item,count){
                            console.log(item);
                            count = count +1;
                            $('#get_resultuploaded_table_body').append(`
                            <tr>
                                <th scope="row">${count}</th>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.date}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.examination}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.semyear}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.uploaded}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.remarks}</td>
                                <td class="font-14 text-extralightgray px-2 text-center "> <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="EditResultUploaded(${item.id})">Edit</button> </td>
                            </tr>
                            `);
                        }
                    }
            }
        });
        }
        else{
            console.log("something missing")
        }
    }
    function EditResultUploaded(id){
        console.log(id)
        $('#edit_result_uploaded').val(id)
        // $('#EditResultUploadedModal').modal('show');
        $.ajax({ // create an AJAX call...
                data: {
                    'edit_result_uploaded': id
                }, // get the form data
                type: 'POST', // GET or POST
                headers: { 'X-CSRFToken': '{{ csrf_token }}' },
                url: "{% url 'registered_result_uploaded' %}", // the file to call
                success: function (response) {
                    $('#EditResultUploadedModal').modal('show');
                    console.log(response);
                    $('#edit_result_uploaded_date').val(response.data.date)
                    $('#edit_result_uploaded_examination').val(response.data.examination)
                    $('#edit_result_uploaded_semyear').val(response.data.semyear)
                    $('#edit_result_uploaded_yn').val(response.data.uploaded)
                    $('#edit_result_uploaded_remarks').val(response.data.remarks)
                }
            });
    }
    function edit_result_uploaded(id){
        var edit_result_uploaded_date = $('#edit_result_uploaded_date').val()
        var edit_result_uploaded_examination = $('#edit_result_uploaded_examination').val()
        var edit_result_uploaded_semyear = $('#edit_result_uploaded_semyear').val()
        var edit_result_uploaded_yn = $('#edit_result_uploaded_yn').val()
        var edit_result_uploaded_remarks = $('#edit_result_uploaded_remarks').val()
        console.log(id,edit_result_uploaded_date,edit_result_uploaded_examination,edit_result_uploaded_semyear,edit_result_uploaded_yn,edit_result_uploaded_remarks)
        if (edit_result_uploaded_date != "" && edit_result_uploaded_examination != "" && edit_result_uploaded_semyear != "" && edit_result_uploaded_yn != "" && edit_result_uploaded_remarks != "")
        {
            $.ajax({ // create an AJAX call...
            data: {
                "editresultuploaded_studentid":id,
                "editresultuploaded_date":edit_result_uploaded_date,
                "editresultuploaded_examination":edit_result_uploaded_examination,
                "editresultuploaded_semyear":edit_result_uploaded_semyear,
                "editresultuploaded_yn":edit_result_uploaded_yn,
                "editresultuploaded_remarks":edit_result_uploaded_remarks
            }, // get the form data
            type: 'POST', // GET or POST
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            url: "{% url 'registered_result_uploaded' %}", // the file to call
            success: function (response) {
                console.log(response)
                
                console.log("sent")
                if(response.data){
                    $('#get_resultuploaded_table_body').empty();
                    $('#EditResultUploadedModal').modal('hide');

                    $('#edit_result_uploaded_date').val('')
                    $('#edit_result_uploaded_examination').val('')
                    $('#edit_result_uploaded_semyear').val('')
                    $('#edit_result_uploaded_yn').val('')
                    $('#edit_result_uploaded_remarks').val('')
                        var data = response.data;
                        data.forEach(myfunction);
                        var count = 0
                        
                        function myfunction(item,count){
                            console.log(item);
                            count = count +1;
                            $('#get_resultuploaded_table_body').append(`
                            <tr>
                                <th scope="row">${count}</th>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.date}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.examination}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.semyear}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.uploaded}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.remarks}</td>
                                <td class="font-14 text-extralightgray px-2 text-center "> <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="EditResultUploaded(${item.id})">Edit</button> </td>
                            </tr>
                            `);
                        }
                    }
            }
        });
        }
    }




    function UniversityReRegistration(id){
        $.ajax({ // create an AJAX call...
                data: {
                    'universityReRegistration': id
                }, // get the form data
                type: 'POST', // GET or POST
                headers: { 'X-CSRFToken': '{{ csrf_token }}' },
                url: "{% url 'registered_university_re_registration' %}", // the file to call
                success: function (response) {
                    console.log(response)
                    if(response.student_id){
                        $('#university_re_registration_student_id').val(response.student_id)
                    }
                    if(response.data){
                        $('#university_re_registration_table_body').empty()
                        var data = response.data;
                        data.forEach(myfunction);
                        var count = 0
                        function myfunction(item,count){
                            console.log(item);
                            count = count +1;
                            var transaction_date = item.date;
                            console.log("transaction date : ",transaction_date)
                            var datePart = transaction_date.match(/\d+/g),
                            year = datePart[0].substring(0), // get only two digits
                            month = datePart[1], day = datePart[2];
                            console.log("datePart : ",datePart)
                            console.log("year : ",year)
                            console.log("month : ",month)
                            var changedate =  day+'/'+month+'/'+year;
                            
                            $('#university_re_registration_table_body').append(`
                            <tr>
                                <th scope="row">${count}</th>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.amount}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${changedate}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.examination}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.semyear}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.paymentmode}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.remarks}</td>
                                
                            </tr>
                            `);
                        }
                    }
                }
            });
        $('#UniversityReRegistrationModal').modal('show');
    }
    function AddUniversityRe_Registration(id){
        console.log(id);
        $('#add_university_re_registration_student_id').val(id)
        $('#AddNewUniversityReRegistrationModal').modal('show');
    }
    function add_university_re_registration(id){
        console.log("saved")
        var add_university_re_registration_amount = $('#add_university_re_registration_amount').val()
        var add_university_re_registration_date = $('#add_university_re_registration_date').val()
        var add_university_re_registration_examination = $('#add_university_re_registration_examination').val()
        var add_university_re_registration_semyear = $('#add_university_re_registration_semyear').val()
        var add_university_re_registration_paymentmode = $('#add_university_re_registration_paymentmode').val()
        var add_university_re_registration_remarks = $('#add_university_re_registration_remarks').val()
        console.log(add_university_re_registration_amount,add_university_re_registration_date,add_university_re_registration_examination,add_university_re_registration_semyear,add_university_re_registration_paymentmode,add_university_re_registration_remarks)
        if(add_university_re_registration_amount != "" && add_university_re_registration_date != "" && add_university_re_registration_examination != "" && add_university_re_registration_semyear != "" && add_university_re_registration_paymentmode != "" && add_university_re_registration_remarks != ""){
            
            $.ajax({ // create an AJAX call...
            data: {
                "adduniversity_re_registration_studentid":id,
                "adduniversity_re_registration_amount":add_university_re_registration_amount,
                "adduniversity_re_registration_date":add_university_re_registration_date,
                "adduniversity_re_registration_examination":add_university_re_registration_examination,
                "adduniversity_re_registration_semyear":add_university_re_registration_semyear,
                "adduniversity_re_registration_paymentmode":add_university_re_registration_paymentmode,
                "adduniversity_re_registration_remarks":add_university_re_registration_remarks,
                "adduniversity_re_registration_type":"University_Re_Registration"
            }, // get the form data
            type: 'POST', // GET or POST
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            url: "{% url 'registered_university_re_registration' %}", // the file to call
            success: function (response) {
                console.log(response)
                
                console.log("sent")
                if(response.data){
                    $('#university_re_registration_table_body').empty();

                    $('#AddNewUniversityReRegistrationModal').modal('hide');
                    $('#add_university_re_registration_amount').val('')
                    $('#add_university_re_registration_date').val('')
                    $('#add_university_re_registration_examination').val('')
                    $('#add_university_re_registration_semyear').val('')
                    $('#add_university_re_registration_paymentmode').val('')
                    $('#add_university_re_registration_remarks').val('')
                        var data = response.data;
                        data.forEach(myfunction);
                        var count = 0
                        
                        function myfunction(item,count){
                            console.log(item);
                            count = count +1;
                            $('#university_re_registration_table_body').append(`
                            <tr>
                                <th scope="row">${count}</th>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.amount}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.date}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.examination}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.semyear}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.paymentmode}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.remarks}</td>
                                
                            </tr>
                            `);
                        }
                    }
            }
        });
        }
        else{
            console.log("something is missing")
        }
        
    }



    function ShowBasicDocuments(id){
        console.log("Basic Documents Clicked",id)
        var enroll_id = $('#upload_result_student_enroll_id').val()
        PersonalDocuments(enroll_id)
        $('#basic_documents_container').empty();
    
        $('#basic_documents_container').append(`
         

            <table class="table format-table">
                <thead>
                    <tr>
                        <th scope="col">Document Type</th>
                        <th scope="col">Name on Document</th>
                        <th scope="col">ID Number</th>
                        <th scope="col">Upload Front (only PDF/JPG)</th>
                        <th scope="col">Upload Back (only PDF/JPG)</th>                      
                    </tr>
                </thead>
                <tbody id="uploadResult">
                    <tr>
                        <td class="font-14 text-extralightgray px-2 text-center ">
                            <select class="" id="upload_document"
                                aria-label="Default select example">
                                <option value="Aadhar Card">Aadhar Card</option>
                                <option value="Pan Card">Pan Card</option>
                                <option value="Passport">Passport</option>
                                <option value="Voter ID">Voter ID</option>
                                <option value="Driving License">Driving License</option>
                            </select>
                        </td>

                        <td class="font-14 text-extralightgray px-2 text-center "><input type="text" name="update_DocumentName" class="" id="update_DocumentName"></td>
                        <td class="font-14 text-extralightgray px-2 text-center "><input type="text" name="upload_DocumentID" class="" id="upload_DocumentID"></td>
                        <td class="font-14 text-extralightgray px-2 text-center "><input type="file" name="upload_DocumentFront" class="" id="upload_DocumentFront"></td>
                        <td class="font-14 text-extralightgray px-2 text-center "><input type="file" name="upload_DocumentBack" class="" id="upload_DocumentBack"></td>
                        <td class="font-14 text-extralightgray px-2 text-center "><button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="savenewdocument()">Save</button></td>
                    </tr>
                </tbody>
            </table>


            <table class="table format-table">
                <thead>
                    <tr>
                        <th scope="col">Sr. No</th>
                        <th scope="col">Document Type</th>
                        <th scope="col">Name on Document</th>
                        <th scope="col">ID Number</th>
                        <th scope="col">Document1</th>
                        <th scope="col">Download</th>
                        
                    </tr>
                </thead>
                <tbody id="ResultUploadedTableBody">

                </tbody>
            </table>
        `);
    }

    function ShowPersonalDocuments(id){
        // console.log("Personal Documents Clicked",id)
        $('#basic_documents_container').empty();
        
        $('#basic_documents_container').append(`
            <table class="table format-table">
                <thead>
                    <tr>
                        <th scope="col">Document Type</th>
                        <th scope="col">Name on Document</th>
                        <th scope="col">ID Number</th>
                        <th scope="col">Images(only PDF/JPG)</th>
                        <th scope="col">
                    </tr>
                </thead>
                <tbody id="uploadResult">
                    <tr>
                        <td class="font-14 text-extralightgray px-2 text-center "><input type="text" name="personal_update_document" class="" id="personal_update_document"></td>

                        <td class="font-14 text-extralightgray px-2 text-center "><input type="text" name="personal_update_DocumentName" class="" id="personal_update_DocumentName"></td>
                        <td class="font-14 text-extralightgray px-2 text-center "><input type="text" name="personal_upload_DocumentID" class="" id="personal_upload_DocumentID"></td>
                        <td class="font-14 text-extralightgray px-2 text-center "><input type="file" name="personal_upload_Documents" multiple class="" id="personal_upload_Documents"></td>
                        <td class="font-14 text-extralightgray px-2 text-center "><button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="savenewpersonaldocument()">Save</button></td>
                    </tr>
                </tbody>
            </table>


            <table class="table format-table">
                <thead>
                    <tr>
                        <th scope="col">Sr. No</th>
                        <th scope="col">Document Type</th>
                        <th scope="col">Name on Document</th>
                        <th scope="col">ID Number</th>
                        <th scope="col">Document</th>
                       
                        
                    </tr>
                </thead>
                <tbody id="ResultUploadedTableBody">

                </tbody>
            </table>
        `);

        if(id){
            $.ajax({ // create an AJAX call...
            data: {
                'show_personal_documents': id
            }, // get the form data
            type: 'POST', // GET or POST
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            url: "{% url 'registered_show_personal_documents' %}", // the file to call
            success: function (response) {
                console.log("response :",response)
                if(response.result){
                    var data = response.result
                    if(data.length > 0){
                        data.forEach(myfunction);
                        var count = 0;
                    
                        function myfunction(item,count){
                            count = count + 1
                            console.log(item.images)
                            $('#show_personal_document_images').empty();
                            // console.log(item)
                            var images = item.images;
                            images.forEach(myfunction2);

                            function myfunction2(image_item){
                                var iframe = $("<iframe>", {
                                    src: image_item.document_image,
                                    width: "600",
                                    height: "400",
                                    frameborder: "0"
                                });

                                $("#show_personal_document_images").append(iframe);
                            }
                            
                            
                            $('#ResultUploadedTableBody').append(`
                            <tr>
                                <th scope="row">${count}</th>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.document}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.document_name}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.document_ID_no}</td>
                                <td class="font-14 text-extralightgray px-2 text-center "><button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="viewPersonalDocuments('${item.images}')">View</button></td>
                                
                            </tr>
                            `);
                        }
                    }
                }
            }
            });
        }
    }
    function savenewpersonaldocument(){
        console.log("saved")
        var personal_update_document = $('#personal_update_document').val();
        var personal_update_DocumentName = $('#personal_update_DocumentName').val();
        var personal_upload_DocumentID = $('#personal_upload_DocumentID').val();
        var personal_upload_Documents = $('#personal_upload_Documents')[0].files;
        console.log(personal_update_document , personal_update_DocumentName , personal_upload_DocumentID , personal_upload_Documents)
        var data = new FormData();
        data.append('personal_update_document',personal_update_document);
        data.append('personal_update_DocumentName',personal_update_DocumentName);
        data.append('personal_upload_DocumentID',personal_upload_DocumentID);
        $.each($("#personal_upload_Documents")[0].files, function(i, file) {
            data.append("personal_uploaded_file", file);
        });
        
        data.append('personal_student_enrollment_id',$('#upload_result_student_enroll_id').val());
        data.append("csrfmiddlewaretoken", "{{ csrf_token }}");
        $.ajax({
            method: "POST",
            url: "{% url 'registered_show_personal_documents' %}",
            processData: false,
            contentType: false,
            mimeType: "multipart/form-data",
            data: data,
            success: function (response) {
                console.log(response)
            }
        });
    }

    function PersonalDocuments(id) {
        $.ajax({ // create an AJAX call...
            data: {
                'resultuploaded': id
            }, // get the form data
            type: 'POST', // GET or POST
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            url: "{% url 'registered_show_personal_documents' %}", // the file to call
            success: function (response) {
                $('#upload_result_student_enroll_id').val("")
                if(response.student){
                    $('#upload_result_student_enroll_id').val(id)
                    console.log(id)
                    $('#basic_documents_container').empty();
                    
                    $('#upload_result_student_id').val(response.student)
                    $('#basic_documents_container').append(`
                    <div id="uploadResult">
    <div class="row py-3">
        <div class="col-4">
            <div class="col-label">
                <h5 class="text-darkgray font-14 font-bold">Document Type</h5>
            </div>
            <div class="display-block pb-2">
                <select class="text-xgray font-14" id="upload_document"
                aria-label="Default select example">
                <option value="Aadhar Card">Aadhar Card</option>
                <option value="Pan Card">Pan Card</option>
                <option value="Passport">Passport</option>
                <option value="Voter ID">Voter ID</option>
                <option value="Driving License">Driving License</option>
            </select>
            </div>
        </div>
        <div class="col-4">
            <div class="col-label">
                <h5 class="text-darkgray font-14 font-bold">Name on Document</h5>
            </div>
            <div class="display-block pb-2">
                <input type="text" name="update_DocumentName" class="text-xgray font-14" id="update_DocumentName"></td>
            </div>
        </div>
        <div class="col-4">
            <div class="col-label">
                <h5 class="text-darkgray font-14 font-bold">ID Number</h5>
            </div>
            <div class="display-block pb-2">
                <input type="text" name="upload_DocumentID" class="text-xgray font-14" id="upload_DocumentID">
            </div>
        </div>
    </div>
    <div class="row py-3">
        <div class="col-4">
            <div class="col-label">
                <h5 class="text-darkgray font-14 font-bold">Upload Front (only PDF/JPG)</h5>
            </div>
            <div class="display-block pb-2">
                <input type="file" name="upload_DocumentFront" class="text-xgray font-14" id="upload_DocumentFront">
            </div>
        </div>
        <div class="col-4">
            <div class="col-label">
                <h5 class="text-darkgray font-14 font-bold">Upload Back (only PDF/JPG)</h5>
            </div>
            <div class="display-block pb-2">
                <input type="file" name="upload_DocumentBack" class="text-xgray font-14" id="upload_DocumentBack">
            </div>
        </div>
        <div class="col-4">
            <div class="display-block pb-2 pt-4">
                <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border width-40 " onclick="savenewdocument()">Save</button>
            </div>
        </div>
    </div>
 </div>   

                        <table class="table format-table mt-2">
                            <thead>
                                <tr>
                                    <th scope="col">Sr. No</th>
                                    <th scope="col">Document Type</th>
                                    <th scope="col">Name on Document</th>
                                    <th scope="col">ID Number</th>
                                    <th scope="col">Document</th>
                                    <th scope="col">Download</th>
                                    
                                </tr>
                            </thead>
                            <tbody id="ResultUploadedTableBody">

                            </tbody>
                        </table>
                    `);
                }
                $('#ResultUploadedTableBody').empty();
                console.log(response);
                var data = response.result;
                data.forEach(myFunction);
                var count = 0;
                function myFunction(item, count) {
                    count = count + 1
                    console.log(item);
                    $('#ResultUploadedTableBody').append(`
                        
                        <tr>
                            <th scope="row">${count}</th>
                            <td class="font-14 text-extralightgray px-2 text-center ">${item.document}</td>
                            <td class="font-14 text-extralightgray px-2 text-center ">${item.document_name}</td>
                            <td class="font-14 text-extralightgray px-2 text-center ">${item.document_ID_no}</td>
                            <td class="font-14 text-extralightgray px-2 text-center "><button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="viewBasicDocuments('${item.document_image_front}','${item.document_image_back}')">View</button></td>
                            <td class="font-14 text-extralightgray px-2 text-center ">
                                <select class="" id="basic_images_download">
                                    <option value="">Select from dropdown</option>
                                    <option value="front">Front Image</option>
                                    <option value="back">Back Image</option>
                                </select>
                                <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="download_basic_image($('#basic_images_download').val(),'${item.document_image_front}','${item.document_image_back}')">Download</button>
                            </td>
                        </tr>

                        `);
                }



                $('#ResultUploadedModal').modal('show');
            }
        });
    }
    function download_basic_image(image,front,back){
        if(image == "front" ){
            console.log("front : ",front);
            var links = document.createElement("a");
            // If you don't know the name or want to use
            // the webserver default set name = ''
            links.setAttribute('download', name);
            links.href = front;
            document.body.appendChild(links);
            links.click();
            links.remove();
        }
        else if(image == "back"){
            console.log("back : ",back);
            var links = document.createElement("a");
            // If you don't know the name or want to use
            // the webserver default set name = ''
            links.setAttribute('download', name);
            links.href = back;
            document.body.appendChild(links);
            links.click();
            links.remove();
        }
    }


    function viewBasicDocuments(front,back){
        $('#show_basic_documents_modal').empty()
        console.log(front,back);
        $('#ResultUploadedModal').modal('hide');
        $('#ShowBasicDocumentsModal').modal('show');
        if(front.length > 0){
            var iframe = $("<iframe>", {
                src: front,
                width: "600",
                height: "400",
                frameborder: "0"
            });

            $("#show_basic_documents_modal").append(iframe);
        }
        if(back.length > 0){
            var iframe2 = $("<iframe>", {
                src: back,
                width: "600",
                height: "400",
                frameborder: "0"
            });

            $("#show_basic_documents_modal").append(iframe2);
        }
         
        }

    function viewPersonalDocuments(id){
        console.log("yes :",id);
        $('#ShowPersonalDocumentModal').modal('show');
    }

    function viewResult(id) {
        $.ajax({ // create an AJAX call...
            data: {
                'get_personal_images': id
            }, // get the form data
            type: 'POST', // GET or POST
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            url: "{% url 'registered_show_personal_documents' %}", // the file to call
            success: function (response) {
                console.log(response);
                if(response.data){
                    var data = response.data;
                    if(data.length == 1){
                        $('#add_carousel_indicators').append(`
                            <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                        `);
                        $('#add_main_carousel_data').append(`
                            <div class="carousel-item active" data-bs-interval="10000">
                                <img src="${data[0].document_image}" class="d-block w-100" alt="...">
                                <div class="carousel-caption d-none d-md-block">
                                    
                                    <a href="${data[0].document_image}" download class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border ">Download</a>
                                    
                                </div>
                            </div>
                        `);
                    }
                    else if (data.length > 1){
                        $('#add_carousel_indicators').append(`
                            <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                        `);
                        $('#add_main_carousel_data').append(`
                            <div class="carousel-item active">
                                <img src="${data[0].document_image}" class="d-block w-100" alt="...">
                                <div class="carousel-caption d-none d-md-block">
                                    
                                    <a href="${data[0].document_image}" download class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border ">Download</a>
                                    
                                </div>
                            </div>
                        `); 
                        
                        for(var i=1;i<data.length;i++){
                            var count = i+1;
                            console.log(count)
                            $('#add_carousel_indicators').append(`
                            <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="${i}" aria-current="true" aria-label="Slide ${count}"></button>
                        `);
                        $('#add_main_carousel_data').append(`
                            <div class="carousel-item">
                                <img src="${data[i].document_image}" class="d-block w-100" alt="...">
                                <div class="carousel-caption d-none d-md-block">
                                    
                                    <a href="${data[i].document_image}" download class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border ">Download</a>
                                    
                                </div>
                            </div>
                        `); 
                        }
                    }

                    
                    
                    $('#ResultUploadedModal').modal('hide')
                    $('#PersonalDocumentImagesModal').modal('show');
                    // <div class="carousel-indicators" id="add_carousel_indicators">
                            
                    //     </div>
                    //     <div class="carousel-inner" id="add_main_carousel_data">
                }
            }
        });
    }
    function savenewdocument(){
        var student_id = $('#upload_result_student_id').val();
        var document = $('#upload_document option:selected').text();
        var document_name = $('#update_DocumentName').val();
        var document_id = $('#upload_DocumentID').val();
        var document_file_front = $('#upload_DocumentFront')[0].files[0]
        var document_file_back = $('#upload_DocumentBack')[0].files[0]
        console.log(student_id ,document , document_name , document_id , document_file_front, document_file_back)


        var data = new FormData();
        data.append('upload_student_id',student_id);
        data.append('upload_document',document);
        data.append('upload_document_name',document_name);
        data.append('upload_document_id',document_id);
        data.append('document_file_front',document_file_front);
        data.append('document_file_back',document_file_back);


        data.append("csrfmiddlewaretoken", "{{ csrf_token }}");
        
        
        $.ajax({
            method: "POST",
            url: "{% url 'registered_show_personal_documents' %}",
            processData: false,
            contentType: false,
            mimeType: "multipart/form-data",
            data: data,
            success: function (response) {
                $('#ResultUploadedTableBody').empty()
                const obj = JSON.parse(response);
                console.log(obj);
                if(obj.added == "yes"){
                    var data = obj.documents;
                    data.forEach(myfunction);
                    
                    count = 0
                    function myfunction(item,count){  
                        console.log(item)
                        count = count + 1;
                        $('#ResultUploadedTableBody').append(`
                        <tr>
                            <th scope="row">${count}</th>
                            <td class="font-14 text-extralightgray px-2 text-center "> ${item.document} </td>
                            <td class="font-14 text-extralightgray px-2 text-center ">${item.document_name}</td>
                            <td class="font-14 text-extralightgray px-2 text-center ">${item.document_ID_no}</td>
                            <td class="font-14 text-extralightgray px-2 text-center "><button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="viewBasicDocuments('${item.document_image_front}','${item.document_image_back}')">View</button></td>
                        </tr>

                        `);
                        
                    }
                    // 
                    
                }
            }
        });
        
        
    }

    function Syllabus(id) {
        $.ajax({ // create an AJAX call...
            data: {
                'syllabus': id
            }, // get the form data
            type: 'POST', // GET or POST
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            url: "{% url 'registered' %}", // the file to call
            success: function (response) {
                $('#SyllabusModaldata').empty();
                console.log(response)
                if(response.student){
                    $('#studentsyllabus_student_id').val(response.student);
                }
                
                console.log("Syllabus Sent")
                if (response.syllabus == "yes") {
                    $('#syllabusmainhidden').css('visibility','visible')
                    $('#SyllabusModaldata').append(`
                        
                        <table class="table format-table">
                            <thead>
                            <tr>
                                <th scope="col">Course</th>
                                <th scope="col">Stream</th>
                                <th scope="col">Semester</th>
                                <th scope="col">Syllabus</th>

                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <th scope="row">${response.study.coursename}</th>
                                <th scope="row">${response.study.streamname}</th>
                                <td class="font-14 text-extralightgray px-2 text-center ">${response.data.semester}</td>
                                <td class="font-14 text-extralightgray px-2 text-center "><a href="${response.data.pdf}" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " target="_blank">View</a></td>
                            </tr>
                            </tbody>
                        </table>
                        
                        `);

                }
                if(response.studentsyllabus){
                    var studentsyllabus = response.studentsyllabus;
                    studentsyllabus.forEach(myFunction2);
                    if(studentsyllabus != ''){
                        $('#studentsyllabushidden').css('visibility','visible')
                    }
                    function myFunction2(item){
                        $('#StudentSyllabusModaldata').append(`
                            <tr>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.semester}</td>
                                <td class="font-14 text-extralightgray px-2 text-center "><a href="${item.pdf}" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " target="_blank">View</a></td>
                            </tr>
                        
                        `);
                    }
                }
            }
        });
        $('#SyllabusModal').modal('show');
    }
    function savestudentsyllabus(){

        var data = new FormData();
        data.append("studentsyllabus_student_id", $('#studentsyllabus_student_id').val());
        data.append("studentsyllabus_semester", $('#studentsyllabus_semester').val());
        data.append("studentsyllabus_file", $('#studentsyllabus_file')[0].files[0]);
        data.append("csrfmiddlewaretoken", "{{ csrf_token }}");
        $.ajax({
            method: "POST",
            url: "{% url 'registered' %}",
            processData: false,
            contentType: false,
            mimeType: "multipart/form-data",
            data: data,
            success: function (response) {
                const obj = JSON.parse(response);
                console.log(obj.data);
                if(obj.data){
                    $('#studentsyllabushidden').css('visibility','visible')
                    $('#StudentSyllabusModaldata').append(`
                        
                        <tr>
                            <td class="font-14 text-extralightgray px-2 text-center ">${obj.data.semester}</td>
                            <td class="font-14 text-extralightgray px-2 text-center "><a href="${obj.data.pdf}" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " target="_blank">View</a></td>
                        </tr>
                        
                        `);
                }
            }
        });
        
        
    }

    function Documents(id) {
        $.ajax({ // create an AJAX call...
            data: {
                'documents': id
            }, // get the form data
            type: 'POST', // GET or POST
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            url: "{% url 'registered_get_qualification_documents' %}", // the file to call
            success: function (response) {
                console.log(response)
                $('#DocumentsModalTableBody').empty();

               
                var data = response.qualification;
                if(data.id){
                    $('#upload_document_student_id').val(data.id);
                }
                console.log(response)
                if (data.secondary_document == "/media/False") {
                    var secondary_document = '<i class="fas fa-times"></i>'
                    var secondary_document_file = ''
                }
                else {
                    var secondary_document = '<i class="fas fa-check"></i>'
                    var secondary_document_file = data.secondary_document
                }

                if (data.sr_document == "/media/False") {
                    var sr_document = '<i class="fas fa-times"></i>'
                    var sr_document_file = ''
                }
                else {
                    var sr_document = '<i class="fas fa-check"></i>'
                    var sr_document_file = data.sr_document
                }

                if (data.under_document == "/media/False") {
                    var under_document = '<i class="fas fa-times"></i>'
                    var under_document_file = ''
                }
                else {
                    var under_document = '<i class="fas fa-check"></i>'
                    var under_document_file = data.under_document
                }

                if (data.post_document == "/media/False") {
                    var post_document = '<i class="fas fa-times"></i>'
                    var post_document_file = ''
                }
                else {
                    var post_document = '<i class="fas fa-check"></i>'
                    var post_document_file = data.post_document
                }

                if (data.mphil_document == "/media/False") {
                    var mphil_document = '<i class="fas fa-times"></i>'
                    var mphil_document_file = ''
                }
                else {
                    var mphil_document = '<i class="fas fa-check"></i>'
                    var mphil_document_file = data.mphil_document
                }

                if (data.others_document == "/media/False") {
                    var others_document = '<i class="fas fa-times"></i>'
                    var others_document_file = ''
                }
                else {
                    var others_document = '<i class="fas fa-check"></i>'
                    var others_document_file = data.others_document
                }




                $('#DocumentsModalTableBody').append(`
                    
                    <tr>
                        <th scope="row">Secondary/High School</th>
                        <td class="font-14 text-extralightgray px-2 text-center ">${data.secondary_year}</td>
                        <td class="font-14 text-extralightgray px-2 text-center ">${data.secondary_board}</td>
                        <td class="font-14 text-extralightgray px-2 text-center ">${data.secondary_percentage}</td>
                        <td class="font-14 text-extralightgray px-2 text-center ">${secondary_document} <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="ShowDocument('${secondary_document_file}')">View</button> </td>
                        <td class="font-14 text-extralightgray px-2 text-center "><button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="DownloadDocument('${secondary_document_file}')">Download</button> </td>
                        
                    </tr>

                    <tr>
                        <th scope="row">Sr. Secondary</th>
                        <td>${data.sr_year}</td>
                        <td>${data.sr_board}</td>
                        <td>${data.sr_percentage}</td>
                        <td>${sr_document} <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="ShowDocument('${sr_document_file}')">View</button> </td>
                        <td><button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="DownloadDocument('${sr_document_file}')">Download</button> </td>
                    </tr>

                    <tr>
                        <th scope="row">Under Graduation</th>
                        <td>${data.under_year}</td>
                        <td>${data.under_board}</td>
                        <td>${data.under_percentage}</td>
                        <td>${under_document} <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="ShowDocument('${under_document_file}')">View</button> </td>
                        <td><button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="DownloadDocument('${under_document_file}')">Download</button> </td>
                    </tr>

                    <tr>
                        <th scope="row">Post Graduation</th>
                        <td>${data.post_year}</td>
                        <td>${data.post_board}</td>
                        <td>${data.post_percentage}</td>
                        <td>${post_document} <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="ShowDocument('${post_document_file}')">View</button> </td>
                        <td><button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="DownloadDocument('${post_document_file}')">Download</button> </td>
                    </tr>

                    <tr>
                        <th scope="row">M.Phil</th>
                        <td>${data.mphil_year}</td>
                        <td>${data.mphil_board}</td>
                        <td>${data.mphil_percentage}</td>
                        <td>${mphil_document} <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="ShowDocument('${mphil_document_file}')">View</button> </td>
                        <td><button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="DownloadDocument('${mphil_document_file}')">Download</button> </td>
                    </tr>

                    <tr>
                        <th scope="row">Others</th>
                        <td>${data.others_year}</td>
                        <td>${data.others_board}</td>
                        <td>${data.others_percentage}</td>
                        <td>${others_document} <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="ShowDocument('${others_document_file}')">View</button> </td>
                        <td><button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="DownloadDocument('${others_document_file}')">Download</button> </td>
                    </tr>

                    

                    `);
            }
        });
        $('#DocumentsModal').modal('show');
    }
    function ShowDocument(link) {
        $('#documentUploaded').modal('show');
        if (link) {
            $('#document_data').attr("src", link)
        }
        else {
            $('#document_data').html('<h6 class="font-18 text-darkblue">No Document Present</h6>')
        }

    }
    function DownloadDocument(link){
        
        if(link == "null"){
            console.log("null")
        }
        else{
            var links = document.createElement("a");
            // If you don't know the name or want to use
            // the webserver default set name = ''
            links.setAttribute('download', name);
            links.href = link;
            document.body.appendChild(links);
            links.click();
            links.remove();
        }
    }
    function addDocuments(){
        var data = new FormData();
        data.append('upload_qualification_name',$('#upload_qualification_name option:selected').text());
        data.append('upload_qualification_year',$('#upload_qualification_year option:selected').text());
        data.append("upload_qualification_board", $('#upload_qualification_board').val());
        data.append("upload_document_student_id", $('#upload_document_student_id').val());
        data.append("upload_qualification_percentage", $('#upload_qualification_percentage').val());
        data.append("upload_qualification_document", $('#upload_qualification_document')[0].files[0]);
        data.append("csrfmiddlewaretoken", "{{ csrf_token }}");
        $.ajax({
            method: "POST",
            url: "{% url 'registered_get_qualification_documents' %}",
            processData: false,
            contentType: false,
            mimeType: "multipart/form-data",
            data: data,
        success: function (response) {
            console.log(response)
            const obj = JSON.parse(response);
                console.log(obj.qualification);
                $('#DocumentsModalTableBody').empty();

               
                var data = obj.qualification;
                
                if (data.secondary_document == "/media/False") {
                    var secondary_document = '<i class="fas fa-times"></i>'
                    var secondary_document_file = ''
                }
                else {
                    var secondary_document = '<i class="fas fa-check"></i>'
                    var secondary_document_file = data.secondary_document
                }

                if (data.sr_document == "/media/False") {
                    var sr_document = '<i class="fas fa-times"></i>'
                    var sr_document_file = ''
                }
                else {
                    var sr_document = '<i class="fas fa-check"></i>'
                    var sr_document_file = data.sr_document
                }

                if (data.under_document == "/media/False") {
                    var under_document = '<i class="fas fa-times"></i>'
                    var under_document_file = ''
                }
                else {
                    var under_document = '<i class="fas fa-check"></i>'
                    var under_document_file = data.under_document
                }

                if (data.post_document == "/media/False") {
                    var post_document = '<i class="fas fa-times"></i>'
                    var post_document_file = ''
                }
                else {
                    var post_document = '<i class="fas fa-check"></i>'
                    var post_document_file = data.post_document
                }

                if (data.mphil_document == "/media/False") {
                    var mphil_document = '<i class="fas fa-times"></i>'
                    var mphil_document_file = ''
                }
                else {
                    var mphil_document = '<i class="fas fa-check"></i>'
                    var mphil_document_file = data.mphil_document
                }

                if (data.others_document == "/media/False") {
                    var others_document = '<i class="fas fa-times"></i>'
                    var others_document_file = ''
                }
                else {
                    var others_document = '<i class="fas fa-check"></i>'
                    var others_document_file = data.others_document
                }




                $('#DocumentsModalTableBody').append(`
                    
                    <tr>
                        <th scope="row">Secondary/High School</th>
                        <td>${data.secondary_year}</td>
                        <td>${data.secondary_board}</td>
                        <td>${data.secondary_percentage}</td>
                        <td>${secondary_document} <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="ShowDocument('${secondary_document_file}')">View</button> </td>
                        <td><button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="DownloadDocument('${secondary_document_file}')">Download</button> </td>
                    </tr>

                    <tr>
                        <th scope="row">Sr. Secondary</th>
                        <td>${data.sr_year}</td>
                        <td>${data.sr_board}</td>
                        <td>${data.sr_percentage}</td>
                        <td>${sr_document} <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="ShowDocument('${sr_document_file}')">View</button> </td>
                        <td><button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="DownloadDocument('${sr_document_file}')">Download</button> </td>
                    </tr>

                    <tr>
                        <th scope="row">Under Graduation</th>
                        <td>${data.under_year}</td>
                        <td>${data.under_board}</td>
                        <td>${data.under_percentage}</td>
                        <td>${under_document} <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="ShowDocument('${under_document_file}')">View</button> </td>
                        <td><button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="DownloadDocument('${under_document_file}')">Download</button> </td>
                    </tr>

                    <tr>
                        <th scope="row">Post Graduation</th>
                        <td>${data.post_year}</td>
                        <td>${data.post_board}</td>
                        <td>${data.post_percentage}</td>
                        <td>${post_document} <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="ShowDocument('${post_document_file}')">View</button> </td>
                        <td><button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="DownloadDocument('${post_document_file}')">Download</button> </td>
                    </tr>

                    <tr>
                        <th scope="row">M.Phil</th>
                        <td>${data.mphil_year}</td>
                        <td>${data.mphil_board}</td>
                        <td>${data.mphil_percentage}</td>
                        <td>${mphil_document} <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="ShowDocument('${mphil_document_file}')">View</button> </td>
                        <td><button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="DownloadDocument('${mphil_document_file}')">Download</button> </td>
                    </tr>

                    <tr>
                        <th scope="row">Others</th>
                        <td>${data.others_year}</td>
                        <td>${data.others_board}</td>
                        <td>${data.others_percentage}</td>
                        <td>${others_document} <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="ShowDocument('${others_document_file}')">View</button> </td>
                        <td><button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="DownloadDocument('${others_document_file}')">Download</button> </td>
                    </tr>

                    

                    `);
            

        }
        });
    }

    function NewUniversityEnrollmentNumber(id){
        $.ajax({ // create an AJAX call...
                data: {
                    'newuniversityenrollment_id': id
                }, // get the form data
                type: 'POST', // GET or POST
                headers: { 'X-CSRFToken': '{{ csrf_token }}' },
                url: "{% url 'registered_new_university_enrollment_number' %}", // the file to call
                success: function (response) {
                    $('#new_university_enrollment_no_table_body').empty();
                    console.log(response)
                    if(response.student_id){
                        $('#new_university_enrollment_student_id').val(response.student_id);
                    }
                    if(response.data){
                        var data = response.data;
                        data.forEach(myfunction);
                        var count = 0;
                        function myfunction(item,count){
                            count = count + 1;
                            $('#new_university_enrollment_no_table_body').append(`
                            <tr>
                                <th scope="row">${count}</th>
                                <td>${item.course_name}</td>
                                <td>${item.enrollment_id}</td>
                            </tr>
                            `);
                        }
                    }
                }
            });
        $('#NewUniversityEnrollmentIDModal').modal('show');
    }
    function AddNewUniversityEnrollment(id){
        console.log(id)
        
        $.ajax({ // create an AJAX call...
                data: {
                    'getnewuniversity_enrollment_details': id
                }, // get the form data
                type: 'POST', // GET or POST
                headers: { 'X-CSRFToken': '{{ csrf_token }}' },
                url: "{% url 'registered_new_university_enrollment_number' %}", // the file to call
                success: function (response) {
                    console.log(response);
                    $('#select_new_university_enrollment_university').empty();
                    $('#select_new_university_enrollment_university').append(`
                            <option value="">Select University</option>
                            `);
                    if(response.student_id){
                        $('#add_new_university_enrollment_student_id').val(response.student_id)
                    }
                    if(response.university){
                        var university = response.university;

                        university.forEach(myfunction);
                        
                        function myfunction(item){
                            console.log(item);
                            $('#select_new_university_enrollment_university').append(`
                            <option value="${item.registrationID}">${item.university_name}</option>
                            `);
                        }
                    }
                    $('#AddNewUniversityEnrollmentIDModal').modal('show')
                }
            });
    }
   
    document.getElementById("select_new_university_enrollment_university").onchange = function () {
    var university = this.value;
    console.log(university)
    if(university == "Select University"){

    }
    else{
      $.ajax({ // create an AJAX call...
            type: "GET",
            url: "{% url 'addstudent' %}",
            headers: {'X-CSRFToken': '{{ csrf_token }}'},
            data: {
              'get_course':university
            },
            success: function(response) {
              console.log(response)
              if(response.course){
                $('#select_new_university_enrollment_course').empty();
                $('#select_new_university_enrollment_course').append(`
                    <option>Select Course</option>
                  `);
                var data = response.course
                data.forEach(myFunction);

                function myFunction(item){
                  $('#select_new_university_enrollment_course').append(`
                    <option value="${item.id}">${item.name}</option>
                  `);
                }

              }
            }
          });
          
    }
}
    function save_new_enrollment_id(id){
        var student_id = id;
        var university = $('#select_new_university_enrollment_university').val();
        var course = $('#select_new_university_enrollment_course').val();
        var new_enrollment_id = $('#select_new_university_enrollment_id').val();
        if(student_id != "" && course != "" && new_enrollment_id != ""){
            console.log(student_id,university,course,new_enrollment_id,'new')
            console.log("all given");
            $.ajax({ // create an AJAX call...
                data: {
                    'new_university_enrollment_student_id':student_id,
                    'new_university_enrollment_course': course,
                    'new_university_enrollment_id':new_enrollment_id,
                    'new_university_enrollment_type':'new'
                }, // get the form data
                type: 'POST', // GET or POST
                headers: { 'X-CSRFToken': '{{ csrf_token }}' },
                url: "{% url 'registered_new_university_enrollment_number' %}", // the file to call
                success: function (response) {
                    $('#new_university_enrollment_no_table_body').empty();
                    console.log(response)
                    console.log("sent")
                    if(response.data){
                        $('#AddNewUniversityEnrollmentIDModal').modal('hide')
                        var data = response.data;
                        data.forEach(myfunction);
                        var count = 0;
                        function myfunction(item,count){
                            count = count + 1;
                            $('#new_university_enrollment_no_table_body').append(`
                            <tr>
                                <th scope="row">${count}</th>
                                <td>${item.course_name}</td>
                                <td>${item.enrollment_id}</td>
                            </tr>
                            `);
                        }
                    }
                }
            });
        }
        else{
            console.log("something missing")
        }
    }

    // --------------------

    function OldUniversityEnrollmentNumber(id){
        $.ajax({ // create an AJAX call...
                data: {
                    'olduniversityenrollment_id': id
                }, // get the form data
                type: 'POST', // GET or POST
                headers: { 'X-CSRFToken': '{{ csrf_token }}' },
                url: "{% url 'registered_old_university_enrollment_number' %}", // the file to call
                success: function (response) {
                    $('#old_university_enrollment_no_table_body').empty();
                    console.log(response)
                    if(response.student_id){
                        $('#old_university_enrollment_student_id').val(response.student_id);
                    }
                    if(response.data){
                        var data = response.data;
                        data.forEach(myfunction);
                        var count = 0;
                        function myfunction(item,count){
                            count = count + 1;
                            $('#old_university_enrollment_no_table_body').append(`
                            <tr>
                                <th scope="row">${count}</th>
                                <td>${item.course_name}</td>
                                <td>${item.enrollment_id}</td>
                            </tr>
                            `);
                        }
                    }
                }
            });
        $('#OldUniversityEnrollmentIDModal').modal('show');
    }
    function AddOldUniversityEnrollment(id){
        console.log(id)
        
        $.ajax({ // create an AJAX call...
                data: {
                    'getolduniversity_enrollment_details': id
                }, // get the form data
                type: 'POST', // GET or POST
                headers: { 'X-CSRFToken': '{{ csrf_token }}' },
                url: "{% url 'registered_old_university_enrollment_number' %}", // the file to call
                success: function (response) {
                    console.log(response);
                    $('#select_old_university_enrollment_university').empty();
                    $('#select_old_university_enrollment_university').append(`
                            <option value="">Select University</option>
                            `);
                    if(response.student_id){
                        $('#add_old_university_enrollment_student_id').val(response.student_id)
                    }
                    if(response.university){
                        var university = response.university;

                        university.forEach(myfunction);
                        
                        function myfunction(item){
                            console.log(item);
                            $('#select_old_university_enrollment_university').append(`
                            <option value="${item.registrationID}">${item.university_name}</option>
                            `);
                        }
                    }
                    $('#AddOldUniversityEnrollmentIDModal').modal('show')
                }
            });
    }
   
    document.getElementById("select_old_university_enrollment_university").onchange = function () {
    var university = this.value;
    console.log(university)
    if(university == "Select University"){

    }
    else{
      $.ajax({ // create an AJAX call...
            type: "GET",
            url: "{% url 'addstudent' %}",
            headers: {'X-CSRFToken': '{{ csrf_token }}'},
            data: {
              'get_course':university
            },
            success: function(response) {
              console.log(response)
              if(response.course){
                $('#select_old_university_enrollment_course').empty();
                $('#select_old_university_enrollment_course').append(`
                    <option>Select Course</option>
                  `);
                var data = response.course
                data.forEach(myFunction);

                function myFunction(item){
                  $('#select_old_university_enrollment_course').append(`
                    <option value="${item.id}">${item.name}</option>
                  `);
                }

              }
            }
          });
          
    }
}
    function save_old_enrollment_id(id){
        var student_id = id;
        var university = $('#select_old_university_enrollment_university').val();
        var course = $('#select_old_university_enrollment_course').val();
        var old_enrollment_id = $('#select_old_university_enrollment_id').val();
        if(student_id != "" && course != "" && old_enrollment_id != ""){
            console.log(student_id,university,course,old_enrollment_id,'old')
            console.log("all given");
            $.ajax({ // create an AJAX call...
                data: {
                    'old_university_enrollment_student_id':student_id,
                    'old_university_enrollment_course': course,
                    'old_university_enrollment_id':old_enrollment_id,
                    'old_university_enrollment_type':'old'
                }, // get the form data
                type: 'POST', // GET or POST
                headers: { 'X-CSRFToken': '{{ csrf_token }}' },
                url: "{% url 'registered_old_university_enrollment_number' %}", // the file to call
                success: function (response) {
                    $('#old_university_enrollment_no_table_body').empty();
                    console.log(response)
                    console.log("sent")
                    if(response.data){
                        $('#AddOldUniversityEnrollmentIDModal').modal('hide')
                        var data = response.data;
                        data.forEach(myfunction);
                        var count = 0;
                        function myfunction(item,count){
                            count = count + 1;
                            $('#old_university_enrollment_no_table_body').append(`
                            <tr>
                                <th scope="row">${count}</th>
                                <td>${item.course_name}</td>
                                <td>${item.enrollment_id}</td>
                            </tr>
                            `);
                        }
                    }
                }
            });
        }
        else{
            console.log("something missing")
        }
    }
    
   
    
    
    function CourierData(id) {
        $.ajax({ // create an AJAX call...
            data: {
                'courier': id
            }, // get the form data
            type: 'POST', // GET or POST
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            url: "{% url 'registered_courier_details' %}", // the file to call
            success: function (response) {
                $('#courier_modal_table_body').empty();
                console.log(response)
                $('#new_courier_student_id').val(response.student);
                if(response.data){
                    var data = response.data;
                    data.forEach(myfunction);
                    var count = 0;
                    function myfunction(item,count){
                        count = count + 1;
                        console.log(item);
                        $('#courier_modal_table_body').append(`
                        <tr>
                            <th scope="row">${count}</th>
                            <td>${item.article_name}</td>
                            <td>${item.courier_from}</td>
                            <td>${item.courier_to}</td>
                            <td>${item.booking_date}</td>
                            <td>${item.courier_company}</td>
                            <td>${item.tracking_id}</td>
                            <td>${item.remarks}</td>

                            
                        </tr>


                        `);
                    }
                }
            }
        });
        $('#CourierModal').modal('show');
    }
    
    function AddNewCourier(id){
        console.log(id)
        $('#add_new_courier_student_id').val(id);
        $('#AddCourierModal').modal('show');
    }
    

    function SaveCourier(id){
        console.log(id);
        var courier_student_id = id;
        var article_name = $('#courier_article_name').val();
        var courier_from = $('#courier_from').val();
        var courier_to = $('#courier_to_whom').val();
        var booking_date = $('#courier_booking_date').val();
        var courier_company = $('#courier_company_name').val();
        var tracking_id = $('#courier_tracking_id').val();
        var remarks = $('#courier_remarks').val();
        $.ajax({ // create an AJAX call...
            data: {
                'courier_student_id': courier_student_id,
                'courier_article_name': article_name,
                'courier_from': courier_from,
                'courier_to': courier_to,
                'courier_booking_date': booking_date,
                'courier_company': courier_company,
                'courier_tracking_id': tracking_id,
                'courier_remarks': remarks
            }, // get the form data
            type: 'POST', // GET or POST
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            url: "{% url 'registered_courier_details' %}", // the file to call
            success: function (response) {
                console.log(response);
                if(response.data){
                    $('#courier_modal_table_body').empty()
                    $('#AddCourierModal').modal('hide');
                    var data = response.data;
                    data.forEach(myfunction);
                    var count = 0;
                    function myfunction(item,count){
                        count = count + 1;
                        console.log(item);
                        $('#courier_modal_table_body').append(`
                        <tr>
                            <th scope="row">${count}</th>
                            <td>${item.article_name}</td>
                            <td>${item.courier_from}</td>
                            <td>${item.courier_to}</td>
                            <td>${item.booking_date}</td>
                            <td>${item.courier_company}</td>
                            <td>${item.tracking_id}</td>
                            <td>${item.remarks}</td>

                            
                        </tr>


                        `);
                    }
                }
                
            }
        });
    }
    
    
    // function saveCourier() {
    //     var courier_company_name = $('#courier_company_name').val();
    //     var courier_tracking_id = $('#courier_tracking_id').val();
    //     var courier_date = $('#courier_date').val();
    //     var courier_return_date = $('#courier_return_date').val();
    //     var courier_return_reason = $('#courier_return_reason').val();
    //     var courier_goods_type = $('#courier_goods_type').val();
    //     var courier_remarks = $('#courier_remarks').val();
    //     var courier_student_id = $('#student_id').val();
    //     console.log(courier_company_name, courier_tracking_id, courier_date, courier_return_date, courier_return_reason, courier_goods_type, courier_remarks, student_id)
    //     $.ajax({ // create an AJAX call...
    //         data: {
    //             'courier_company_name': courier_company_name,
    //             'courier_tracking_id': courier_tracking_id,
    //             'courier_date': courier_date,
    //             'courier_return_date': courier_return_date,
    //             'courier_return_reason': courier_return_reason,
    //             'courier_goods_type': courier_goods_type,
    //             'courier_remarks': courier_remarks,
    //             'courier_student_id': courier_student_id
    //         }, // get the form data
    //         type: 'POST', // GET or POST
    //         headers: { 'X-CSRFToken': '{{ csrf_token }}' },
    //         url: "{% url 'registered' %}", // the file to call
    //         success: function (response) {
    //             console.log(response);
    //             $('#CourierModal').modal('hide');
    //         }
    //     });
    // }


    function PaymentGateway(id) {
        $.ajax({ // create an AJAX call...
            data: {
                'payment_gateway': id
            }, // get the form data
            type: 'POST', // GET or POST
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            url: "{% url 'registered_payment_gateway' %}", // the file to call
            success: function (response) {
                if(response.pending == "yes"){
                    console.log(response)
                    $('#hiddenform').css('visibility','visible');
                    $('#pending_amount_label').html(`Rs. ${response.amount} is Pending.`);
                    $('#pending_key').val(response.transactionData.key);
                    $('#pending_txnid').val(response.transactionData.txnid);
                    $('#pending_productinfo').val(response.transactionData.productinfo);
                    $('#pending_amount').val(response.transactionData.amount);
                    $('#pending_email').val(response.transactionData.email);
                    $('#pending_firstname').val(response.transactionData.firstname);
                    $('#pending_lastname').val(response.transactionData.lastname);
                    $('#pending_surl').val(response.transactionData.surl);
                    $('#pending_furl').val(response.transactionData.furl);
                    $('#pending_phone').val(response.transactionData.phone);
                    $('#pending_hash').val(response.transactionData.hashh);
                    $('#PendingPaymentGatewayModal').modal('show');
                }
                else if(response.pending == "no"){
                    $('#pending_amount_label').html(`No Pending Amount Remaining. You can Enroll Student to next Semester/Year`);
                    $('#hiddenform').css('visibility','hidden');
                    $('#PendingPaymentGatewayModal').modal('show');
                }
                else{
                console.log(response)
                $('#key').val(response.transactionData.key);
                $('#txnid').val(response.transactionData.txnid);
                $('#productinfo').val(response.transactionData.productinfo);
                $('#amount').val(response.transactionData.amount);
                $('#email').val(response.transactionData.email);
                $('#firstname').val(response.transactionData.firstname);
                $('#lastname').val(response.transactionData.lastname);
                $('#surl').val(response.transactionData.surl);
                $('#furl').val(response.transactionData.furl);
                $('#phone').val(response.transactionData.phone);
                $('#hash').val(response.transactionData.hashh);

                // $('#PaymentGatewayModal').modal('show');
                }
            }
        });
    }
    
    function viewprintcourier(courier_id) {
        
        $.ajax({ // create an AJAX call...
            data: {
                'courier_id': courier_id
            }, // get the form data
            type: 'POST', // GET or POST
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            url: "{% url 'registered' %}", // the file to call
            success: function (response) {
                $('#CourierPrintModalBody').empty();
                console.log(response);
                if(response.courier != 0){
                    $('#CourierPrintModal').modal('show');
                    $('#CourierPrintModalBody').append(`
                    <div class="page-header print_form text-blue-d2">
                            <div class="page-tools">
                                <div class="action-buttons">
                                    <button class="btn bg-white btn-light mx-1px text-95 print_button" data-title="Print" id="print_button" onclick="print_screen()">
                                        <i class="mr-1 fa fa-print text-primary-m1 text-120 w-2 print_button"></i>
                                        Print
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="row print_form">
                            <!-- BEGIN INVOICE -->
                            <div class="col-xs-12">
                                <div class="grid invoice">
                                    <div class="grid-body">
                                        <div class="invoice-title">
                                            <div class="row">
                                                <div class="col-xs-12">
                                                    <img src="{% static 'dict/images/ciis.png' %}"  alt=""
                                                        height="45" width="45">
                                                </div>
                                            </div>
                                            <br>
                                            
                                        </div>
                                        <hr>
                                        <div class="row">
                                            <div class="col-xs-6">
                                                <address>
                                                    <strong>Sent To:</strong><br>
                                                    ${response.student.first_name} ${response.student.middle_name} ${response.student.last_name}<br>
                                                    ${response.student.address}<br>
                                                    ${response.student.city}, ${response.student.state}, ${response.student.country} , ${response.student.pincode} <br>
                                                    <div class="my-1"><i class="fa fa-phone fa-flip-horizontal text-secondary"></i> <b class="text-600">${response.student.mobile}</b></div>
                                                <div class="my-1"><i class="fas fa-envelope  text-secondary"></i> <b class="text-600">${response.student.email}</b></div>
                                                </address>
                                            </div>
                                            
                                        </div>
                                        
                                        <div class="row">
                                            <div class="col-md-12">
                                                <h3>Courier SUMMARY</h3>
                                                <table class="table  format-table table-striped">
                                                    <thead>
                                                        <tr class="line">
                                                            <td class="text-center"><strong>Courier Company Name</strong></td>
                                                            <td class="text-center"><strong>Tracking ID</strong></td>
                                                            <td class="text-right"><strong>Courier Date</strong></td>
                                                            <td class="text-right"><strong>Courier Goods Type</strong></td>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            <td class="text-center"> <strong>ABC Transportation</strong>
                                                            </td>
                                                            <td class="text-center">123456789D</td>
                                                            <td class="text-center">2022-04-25</td>
                                                            <td class="text-right">Marksheet</td>
                                                        </tr>
                                                        
                                                    
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                        
                                    </div>
                                </div>
                            </div>
                            <!-- END INVOICE -->
                        </div>

                    `);
                }
            }
        });

    }
    function print_screen() {
        console.log("print button clicked")
        window.print();
    } 

    function GetRemarks(id){
        $.ajax({ // create an AJAX call...
            data: {
                'remarks': id
            }, // get the form data
            type: 'POST', // GET or POST
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            url: "{% url 'registered_get_remarks' %}", // the file to call
            success: function (response) {
                $('#remarks_popover').empty();
                console.log(response)
                var data = response.payment_reciept;
                $('#remarks_modal_head').empty();
                $('#remarks_modal_head').append(`
                
                    <tr>
                        <th scope="col">Sr.No</th>
                        <th scope="col">Year/Sem</th>
                        <th scope="col">Session</th>
                        <th scope="col">Transaction Date</th>
                        <th scope="col">Transaction ID</th>
                        <th scope="col">Mode</th>
                        <th scope="col">No</th>
                        <th scope="col">Paid Amount</th>
                        <th scope="col">Pending Amount</th>
                        <th scopt="col">View Reciept</th>
                    </tr>

                `);

                $('#remarks_table_body').empty();
                data.forEach(myFunction);
                var count = 0;
                function myFunction(item, count) {
                    console.log(item)
                    count = count + 1;
                    var transaction_date = item.transaction_date;
                    var datePart = transaction_date.match(/\d+/g),
                    year = datePart[0].substring(0), // get only two digits
                    month = datePart[1], day = datePart[2];
                    var changedate =  day+'/'+month+'/'+year;
                    if (item.paymentmode == "Cheque") {
                        
                        $('#remarks_table_body').append(`
                        <tr>
                            <th scope="row">${count}</th>
                            <td>  ${item.semyear}  </td>
                            <td> ${item.session} </td>
                            <td>  ${changedate}  </td>
                            <td>  ${item.transactionID}  </td>
                            <td>  ${item.paymentmode}  </td>
                            <td>  ${item.cheque_no}  </td>
                            <td>  ${item.paidamount}  </td>
                            <td>  ${item.pendingamount}  </td>
                            <td> <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="ShowRemarks('${item.remarks}')"> Remarks </button>   </td>                                   
                        </tr>`)
                    }
                    else {
                        $('#remarks_table_body').append(`
                        <tr>
                            <th scope="row">${count}</th>
                            <td>  ${item.semyear}  </td>
                            <td> ${item.session} </td>
                            <td>  ${changedate}  </td>
                            <td>  ${item.transactionID}  </td>
                            <td>  ${item.paymentmode}  </td>
                            <td>  NA </td>
                            <td>  ${item.paidamount}  </td>
                            <td>  ${item.pendingamount}  </td>
                            <td>  <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="ShowRemarks('${item.remarks}')"> Remarks </button>   </td> 
                        </tr>`)
                    }

                }
                $('#RemarksModal').modal('show');
            }
        });
    }
    
    function ShowRemarks(remarks){
        console.log(remarks , console.log(typeof(remarks)))
        var remarks_upper = remarks.toUpperCase();
        $('#remarks_popover').empty();
        $('#remarks_popover').append(`
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            <strong>${remarks_upper}</strong> 
            <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        `);
    }
    
    function SendRemainder(id){
        $.ajax({ // create an AJAX call...
            data: {
                'sendremainder': id
            }, // get the form data
            type: 'POST', // GET or POST
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            url: "{% url 'registered' %}", // the file to call
            success: function (response) {
                if(response.pending == "no"){
                    $('#sendremainder_amount_label').html(`No Pending Amount Remaining. You can Enroll Student to next Semester/Year`);
                    // $('#hiddenform').css('visibility','hidden');
                    $('#sendremainderModal').modal('show');
                }
                else{
                    console.log(response)
                    $('#sendremainder_amount_label').html(`Fees Payment Link Sent SuccessFully ..!`);
                    // $('#hiddenform').css('visibility','hidden');
                    $('#sendremainderModal').modal('show');
                }
            }
        });
    }
    
    function EnrollNextSemester(enroll_id){
        console.log("Enrolled to next semester")
        $.ajax({ // create an AJAX call...
            data: {
                'enroll_to_next_semester': enroll_id
            }, // get the form data
            type: 'POST', // GET or POST
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            url: "{% url 'registered_enroll_to_next_semyear' %}", // the file to call
            success: function (response) {
                $('#enroll_next_semester_student_id').val('');
                $('#nextsemyear_body').empty();
                console.log(response);
                if (response.clear == "yes"){
                    if(response.enroll.total_semyear > response.enroll.current_semyear){
                        $('#enroll_next_semester_student_id').val(response.student)
                        $('#nextsemyear_body').append(`
                            <h1 class="text-center font-26 text-blue font-bold">Enroll To Next Semester / Year</h1>
                            <div class="row">
                            <div class="col-4">
                                <div class="mb-3">
                                    <label for="ENSM_course" class="">Course</label>
                                    <input type="text" name="ENSM_course" disabled class="" id="ENSM_course">
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="mb-3">
                                    <label for="ENSM_stream" class="">Stream</label>
                                    <input type="text" name="ENSM_stream" disabled class="" id="ENSM_stream">
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="mb-3">
                                    <label for="ENSM_total_semyear" class="">Total Semester / Year</label>
                                    <input type="text" name="ENSM_total_semyear" disabled class="" id="ENSM_total_semyear">
                                </div>
                            </div>
                            
                        </div>
                        <div class="row">
                            <div class="col-4">
                                <div class="mb-3">
                                    <label for="ENSM_semyear" class="">Current Semester / Year</label>
                                    <input type="text" name="ENSM_semyear" disabled class="" id="ENSM_semyear">
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="mb-3">
                                    <label for="ENSM_next_semyear" class="">Next Semester / Year</label>
                                    <input type="text" name="ENSM_next_semyear" disabled class="" id="ENSM_next_semyear">
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="mb-3">
                                    <button style="margin-top:30px;" onclick="EnrollNextSemYear()" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " >Enroll</button>
                                </div>
                            </div>
                        </div>
                            

                            
                        `);
                        
                        $('#ENSM_course').val(response.enroll.course);
                        $('#ENSM_stream').val(response.enroll.stream);
                        $('#ENSM_total_semyear').val(response.enroll.total_semyear);
                        $('#ENSM_semyear').val(response.enroll.current_semyear);
                        $('#ENSM_next_semyear').val(response.enroll.can_enroll);
                        
                        
                        
                        $('#NextSemYearmodal').modal('show');
                    }
                    else{
                        $('#nextsemyear_body').append(`
                        <h1 class="text-center text-darkblue font-20 font-bold">Student is in Final Semester / Year</h1>
                        <h2 class="text-center text-darkblue font-20 font-bold" >Cannot Enroll to Next Semester / Year</h2>
                        `);
                        $('#NextSemYearmodal').modal('show');
                    }
                }
                else{
                    $('#enroll_next_semester_student_id').val(response.student)
                    $('#nextsemyear_body').append(`
                        <h1 class="text-center text-darkblue font-20 font-bold" >Full Semester / Year Fees Not Paid</h1>
                        <h2 class="text-center text-darkblue font-20 font-bold" >Please Pay The Full Fees</h2>

                        
                    `);
                    $('#NextSemYearmodal').modal('show');
                }
            }
        });
    }
    
    function EnrollNextSemYear(){
        let confirmAction = confirm("Enroll to Next Semester / Year ?");
        if(confirmAction){
            console.log("Enrolled successfully")
            var student_id = $('#enroll_next_semester_student_id').val()
            var course = $('#ENSM_course').val();
            var stream = $('#ENSM_stream').val();
            var total_semyear = parseInt ($('#ENSM_total_semyear').val());
            var current_semyear = parseInt ($('#ENSM_semyear').val());
            var next_semyear = parseInt ($('#ENSM_next_semyear').val());
            console.log(student_id, course , stream , total_semyear , current_semyear , next_semyear);
            if(student_id && total_semyear && current_semyear && next_semyear){
                if(total_semyear > current_semyear){
                    console.log("can enroll")
                    $.ajax({ // create an AJAX call...
                        data: {
                            'ens_student_id': student_id,
                            'ens_total_semyear': total_semyear,
                            'ens_current_semyear': current_semyear,
                            'ens_next_semyear': next_semyear
                            
                        }, // get the form data
                        type: 'POST', // GET or POST
                        headers: { 'X-CSRFToken': '{{ csrf_token }}' },
                        url: "{% url 'registered_save_enrollment_to_next_semyear' %}", // the file to call  
                    success: function (response) {
                        $('#EnrolledSuccess_body').empty();
                        console.log(response)
                        if (response.enrolled == "yes"){
                            $('#NextSemYearmodal').modal('hide');
                            $('#EnrolledSuccess_body').append(`
                            <h1 class="text-center font-26 font-bold text-blue" >Student Enrolled Successfully.. !!</h1>
                            `);
                            $('#EnrolledSuccessmodal').modal('show');
                        }
                    }
                    });
                }
                else{
                    console.log("cannot enroll")
                }
            }
    }
        
    }
    $("#EnrolledSuccessmodal").on("hidden.bs.modal", function () {
        window.location = "{% url 'registered' %}"
    });
    
    $(document).ready(function(){
          $("#myTab button").click(function(e){
              e.preventDefault();
              $(this).tab("show");
          });
      });

    function CancelEnrollment(id){
        console.log("student cancelled :",id);
        $.ajax({
            data: {
                'cancel_student': id
            }, // get the form data
            type: 'POST', // GET or POST
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            url: "{% url 'registered_cancel_student' %}", // the file to call
            success: function (response) {
                console.log(response);
                $('#cancel_student_id').val(response.data.id)
                $('#CancelStudentEnrollment_table_body').empty()
                if (response.data.is_enrolled == true){
                    set_enrolled = "<i class='fas fa-check'></i>"
                }
                else{
                    set_enrolled = "<i class='fas fa-times'></i>"
                }
                if(response.data.is_cancelled == false){
                    set_active = "<i class='fas fa-check'></i>"
                }
                else{
                    set_active = "<i class='fas fa-times'></i>"
                }
                $('#CancelStudentEnrollment_table_body').append(`
                <tr>
                    <td>${response.data.name}</td>
                    <td>${response.data.mobile}</td>
                    <td>${response.data.email}</td>
                    <td>${set_enrolled}</td>
                    <td>${set_active}</td>
                </tr>
                `);

            }
        });

        $('#CancelStudentEnrollmentModal').modal('show')
      }

        
    function save_cancel_student(id){
        var student_id = id;
        var cancel_status = $('#cancel_student_status').val()
        console.log("student :",id," Status :",cancel_status);
        if(cancel_status == "Active" | cancel_status == "In-Active"){
            $.ajax({
            data: {
                'cancel_student_id': student_id,
                "cancel_student_status":cancel_status
            }, // get the form data
            type: 'POST', // GET or POST
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            url: "{% url 'registered_cancel_student' %}", // the file to call
            success: function (response) {
                console.log(response)
                if(response.success == "yes"){
                    window.location = "{% url 'registered' %}"
                }
            }
        });
        }
      }

    function dataURItoBlob(dataURI) {
    // convert base64/URLEncoded data component to raw binary data held in a string
        var byteString;
        if (dataURI.split(',')[0].indexOf('base64') >= 0)
            byteString = atob(dataURI.split(',')[1]);
        else
            byteString = unescape(dataURI.split(',')[1]);

        // separate out the mime component
        var mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];

        // write the bytes of the string to a typed array
        var ia = new Uint8Array(byteString.length);
        for (var i = 0; i < byteString.length; i++) {
            ia[i] = byteString.charCodeAt(i);
        }

        return new Blob([ia], {type:mimeString});
    }
    
    const downloadFile = (blob, fileName) => {
    const link = document.createElement('a');
    // create a blobURI pointing to our Blob
    link.href = URL.createObjectURL(blob);
    link.download = fileName;
    // some browser needs the anchor to be in the doc
    document.body.append(link);
    link.click();
    link.remove();
    // in case the Blob uses a lot of memory
    setTimeout(() => URL.revokeObjectURL(link.href), 7000);
    };
    
    function SendReciept(id){
        $.ajax({
            data: {
                'send_reciept': id
            }, // get the form data
            type: 'POST', // GET or POST
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            url: "{% url 'registered' %}", // the file to call
            success: function (response) {
                console.log(response);
                if(response.sent == "yes"){
                    $('#send_reciept_student_id').val(response.student.id)
                    $('#download_payment_reciept').append(`
                    <div class="outer-rectangle py-3  ">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="receipt-header p-3">
                    <h1 class="font-20 text-purewhite font-bold">
                        Reciept
                        <small class="font-18 text-black">
                            <i class="fa fa-angle-double-right text-80"></i>
                            ID: ${response.payment_reciept.transactionID}
                        </small>
                    </h1>
                </div>
               <div class="receipt-body px-3">
                <div class="row">
                    <div class="col-6 px-2">
                        <div>
                            <span class="text-purewhite font-16 align-middle">To:</span>
                            <span class="text-purewhite font-16">${response.student.name}</span>
                        </div>
                        <div class="">
                            <div class="text-purewhite font-16">
                                ${response.student.address } ,   ${response.student.city }
                            </div>
                            <div class="text-purewhite font-16">
                                ${response.student.state}  ,   ${response.student.country }
                            </div>
                            <div class="text-purewhite font-16"><i class=""></i> <b class="text-purewhite font-16">${response.student.mobile}</b></div>
                            <div class="text-purewhite font-16"><i class=""></i> <b class="text-purewhite font-16">${response.student.email}</b></div>
                        </div>
                    </div>
                    <div class="col-6 px-2">
                        <div class="">
                            <div class="text-purewhite font-18">
                                Invoice
                            </div>
    
                            <div class="text-purewhite font-16"><i class="fa fa-circle text-blue-m2 text-xs mr-1"></i> <span class="text-purewhite font-16">ID:</span> #${response.payment_reciept.transactionID}</div>
    
                            <div class="text-purewhite font-16"><i class="fa fa-circle text-blue-m2 text-xs mr-1"></i> <span class="text-purewhite font-16">Issue Date:</span> ${response.payment_reciept.transaction_date}</div>
    
                            <div class="text-purewhite font-16"><i class="fa fa-circle text-blue-m2 text-xs mr-1"></i> <span class="text-purewhite font-16">Status:</span> Paid </div>
                    </div>
                    </div>
                </div>
                <div class="row pt-4">
                    <div class="col-2 offset-1">
                        <div class="receipt-header">
                            <h6 class="font-16 text-purewhite font-bold">Semester</h6>
                        </div>
                        <div class="receipt-content">
                            <p class="font-16 text-purewhite">${response.payment_reciept.semyear}</p>
                        </div>
                    </div>
                    <div class="col-2">
                        <div class="receipt-header">
                            <h6 class="font-16 text-purewhite font-bold">Paid Amount</h6>
                        </div>
                        <div class="receipt-content">
                            <p class="font-16 text-purewhite">${response.payment_reciept.paidamount}</p>
                        </div>
                    </div>
                    <div class="col-2">
                        <div class="receipt-header">
                            <h6 class="font-16 text-purewhite font-bold">Pending Amount</h6>
                        </div>
                        <div class="receipt-content">
                            <p class="font-16 text-purewhite">${response.payment_reciept.pendingamount}</p>
                        </div>
                    </div>
                    <div class="col-2">
                        <div class="receipt-header">
                            <h6 class="font-16 text-purewhite font-bold">Transaction Date</h6>
                        </div>
                        <div class="receipt-content">
                            <p class="font-16 text-purewhite">${response.payment_reciept.transaction_date}</p>
                        </div>
                    </div>
                    <div class="col-2">
                        <div class="receipt-header">
                            <h6 class="font-16 text-purewhite font-bold">Mode</h6>
                        </div>
                        <div class="receipt-content">
                            <p class="font-16 text-purewhite">${response.payment_reciept.paymentmode}</p>
                        </div>
                    </div>
                </div>
                <div class="row pt-4">
                    <div class="col-12">
                        <div>
                            <span class="font-26 font-bold text-purewhite">Thank you for your Payment</span>  
                        </div>
                    </div>
                </div>
               </div>
    
            </div>
        </div>
    </div>
</div>
                    `);
                    kendo.drawing.drawDOM($("#download_payment_reciept"))
                    .then(function(group) {
                        // Render the result as a PDF file
                        return kendo.drawing.exportPDF(group, {
                            paperSize: "auto",
                            margin: { left: "1cm", top: "1cm", right: "1cm", bottom: "1cm" }
                        });
                    })
                    .done(function(data) {

                        var file=dataURItoBlob(data)
                        downloadFile(file,"Invoice3.pdf")
                        console.log(file)
                        // Save the PDF file
                        var pdfFile= new FormData()
                        pdfFile.append("send_reciept_file",file)
                        pdfFile.append("send_reciept_student_id",$('#send_reciept_student_id').val())
                        pdfFile.append("send_reciept_paidamount",response.payment_reciept.paidamount)
                        
                        pdfFile.append("csrfmiddlewaretoken", "{{ csrf_token }}");
                        console.log(pdfFile)
                        
                        $.ajax({
                            method: "POST",
                            url: `{% url 'registered' %}`,
                            processData: false,
                            contentType: false,
                            mimeType: "multipart/form-data",
                            data: pdfFile,
                            success: function (res) {
                                $('#download_payment_reciept').empty();
                            }
                        });
                    //     kendo.saveAs({
                    //     dataURI: data,
                    //     fileName: "HR-Dashboard.pdf",
                    //     proxyURL: "https://demos.telerik.com/kendo-ui/service/export"
                        // });
                    });
                }
            }
        });
      }
      function ShowProfilePic(id){
        $.ajax({
            data: {
                'show_profile_pic': id
            }, // get the form data
            type: 'POST', // GET or POST
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            url: "{% url 'registered_show_profile_pic' %}", // the file to call
            success: function (response) {
                // console.log(response)
                if(response.image == "no"){
                    console.log("no image given")
                }
                else{
                    $('#show_profile_pic').modal('show');
                    $('#profile_pic_data').attr("src", response.image.image)
                    console.log(response.image)
                }
            }
        });
      }
</script>

{% endblock script %}


=======
{% extends 'includes/master.html' %}
{% load static %}
{% block head %}
<title>PENDING VERIFICATION - CIIS</title>



<style type="text/css" media="print">
  
  @page {
  size: auto;   /* auto is the initial value */
  margin: 0;  /* this affects the margin in the printer settings */
}
@media print {
      body * {
          visibility: hidden;
      }
      .print_form,
      .print_form *:not(.print_button) {
          
          visibility: visible;
          
      }
      
  }
</style>

{% endblock head %}




{% block body %}
{% if request.user.is_superuser or request.user.is_data_entry %}



<div class="pages-body-bg-color py-3">
    <section class="pending-verification   mb-3">
        <div class="row">
            <div class="col-12">
           
                <div class="white-box">
                    <div class="inner-block px-4">
                        <div class="row">
                            <div class="col-12">
                                <div class="box-title pt-4 ">
                                    <h5 class="font-18 text-uppercase font-bold text-black">All Registered Students</h5>
                                </div>
                                <div class="box-text  ">
                                    <p class="font-16 text-xlightgray">List of students who have registered</p>
                                </div>
                            </div>
                        </div>
                       
                        <div class="entries-table pt-4" >
                            
                            <table id="example" class="format-table text-center zebra-table">
                                <thead>
                                    <tr class="bottom-border-grey">
                                        <th class="font-14 font-bold text-darkgray  px-2" scope="col">Sr.No</th>
                                        <th class="font-14 font-bold text-darkgray  px-2" scope="col">Current Semester/Year</th>
                                        <th class="font-14 font-bold text-darkgray  px-2" scope="col">Enrollment ID</th>
                                        <!--th class="font-14 font-bold text-darkgray  px-2" scope="col">Registration ID</th-->
                                        <th class="font-14 font-bold text-darkgray  px-2" scope="col">Student Name</th>
                                        <th class="font-14 font-bold text-darkgray  px-2" scope="col">University Name</th>
                                        <th class="font-14 font-bold text-darkgray px-2" scope="col">Source</th>
                                        <th class="font-14 font-bold text-darkgray px-2" scope="col">Study Pattern / Mode</th>
                                        <th class="font-14 font-bold text-darkgray px-2" scope="col">Entry Mode</th>
                                        <th class="font-14 font-bold text-darkgray px-2" scope="col">Enrollment Date</th>
                                        <th>Action</th>
            
            
            
                                    </tr>
                                </thead>
                            </table>
                    
                         
                        
                    </div>
                  
                 
                </div>
            </div>
        </div>
       
  
    </section>
  
  
    
  
  </div>









{% endif %}

<div class="all_modals">
    <div class="modal fade" id="feespaidmodal" tabindex="-1" aria-labelledby="feespaidmodalLabel" aria-hidden="true">
        <div class="modal-dialog" style="max-width: 80%;">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="feespaidmodalLabel">Paid Fees <input type="text"  id="fees_add_data_id" style="visibility: hidden;"></h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container mb-1" id="fees_add_data">
                        <div class="row">
                            <div class="col-sm-8">
                                <ul class="nav nav-pills" id="myTab">
                                    <li class="nav-item">
                                        <button  class="blue-bg text-blue font-bold font-12 no-border mx-2" onclick="ShowCommonFees($('#fees_add_data_id').val())" >Common Fees</button>
                                    </li>
                                    <li class="nav-item">
                                        <button class="blue-bg text-blue font-bold font-12 no-border mx-2" onclick="ShowAdditionalFees($('#fees_add_data_id').val())">Additional Fees</button>
                                    </li>
                                </ul>
                            </div>
                            <div class="col-sm-2">
                                <button class="blue-bg text-blue font-bold font-12 no-border" onclick="CommonFees($('#fees_add_data_id').val())">+ Common Fees</button>
                            </div>
                            
                        </div>
                    </div>
                    
                    <div class="container" id="feesmodaldata">
                        <div class="fees_container" style="overflow-x: auto;">
                            <table class="table format-table table-bordered text-center" id="fees_registered_table" >
                                <thead id="fees_modal_head">
        
                                </thead>
                                <tbody id="table_body">
        
        
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blue font-bold font-12 no-border" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="reciept_modal" tabindex="-1" aria-labelledby="reciept_modalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="reciept_modalLabel">Reciept<span><button class="btn-closer" data-title="Print" onclick="print_reciept()">
                        <i class="mr-1 fa fa-print text-primary-m1 text-120 w-2"></i>
                        Print
                    </button></span></h5>
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="reciept_modal_body">
                        
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blue font-bold font-12 no-border" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="idcardmodal" tabindex="-1" aria-labelledby="idcardmodalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="idcardmodalLabel">Paid Fees</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="idcardmodaldata">
    
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="PaymentUpdatemodal" tabindex="-1" aria-labelledby="PaymentUpdatemodalLabel" aria-hidden="true">
        <div class="modal-dialog" style="max-width: 80%;">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="PaymentUpdatemodalLabel">Update Payment <input type="text"  id="payment_update_id" style="visibility: hidden;"></h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="paymentUpdatedata">
                        <table class="table format-table table-bordered text-center" id="payment_update_table">
                            <thead id="payment_update_modal_head">
    
                            </thead>
                            <tbody id="payment_update_table_body">
    
    
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <!---New-->
    <div class="modal fade" id="PersonalDocumentImagesModal" tabindex="-1" aria-labelledby="PersonalDocumentImagesModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="PersonalDocumentImagesModalLabel">Personal Images </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="PersonalDocumentImagesModaldata" >
                        <div id="carouselExampleDark" class="carousel carousel-dark slide" data-bs-ride="carousel">
                            <div class="carousel-indicators" id="add_carousel_indicators">
                                
                            </div>
                            <div class="carousel-inner" id="add_main_carousel_data">
                                
                            </div>
                            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleDark" data-bs-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Previous</span>
                            </button>
                            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleDark" data-bs-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Next</span>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    
    <div class="modal fade" id="RequestFeesModal" tabindex="-1" aria-labelledby="RequestFeesModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="RequestFeesModalLabel">Request Fees <input type="text" id="request_fees_student_id"> <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="get_request_fees($('#request_fees_student_id').val())">History</button> </h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="RequestFeesModaldata">
                        <div class="form">
                            <div class="row">
                                <div class="col-4">
                                    <div class="mb-3">
                                        <label for="emailID" class="">Email ID</label>
                                        <input type="email" disabled class="" id="emailID">
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="mb-3">
                                        <label for="request_amount" class="">Amount</label>
                                        <input type="number" class="" id="request_amount">
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="mb-3">
                                        <label for="request_payment_categories" class="">Payment Categories</label>
                                        <select class="" aria-label="Default select example" id="request_payment_categories">
                                            <option selected value="">Select from Dropdown</option>
                                            <option value="Re-Registration Fees">Re-Registration Fees</option>
                                            <option value="Examination Fees">Examination Fees</option>
                                            <option value="RE-SITTING FEE">RE-SITTING FEE</option>
                                            <option value="OTHER">OTHER</option>
                                          </select>
                                    </div>
                                </div>
                              
                                </div>
                                
                                
                            </div>
                            <div class="row">
                                <div class="col-4">
                                    <div class="mb-3">
                                        <label for="request_payment_type" class="">Payment Type</label>
                                        <select class="" aria-label="Default select example" id="request_payment_type">
                                            <option value="Full Payment">Full Payment</option>
                                            <option value="Part Payment">Part Payment</option>
                                            <option value="Dues">Dues</option>
                                          </select>
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="mb-3">
                                        <label for="subject" class="">Subject</label>
                                        <input type="text" class="" id="subject">
                                    </div>
                                </div>
                                
                                <div class="col-4">
                                    <div class="mb-3">
                                        <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " style="margin-top: 30px;" onclick="fetch_message()">Fetch Message</button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="row">
                                <div class="col-12">
                                    <div class="form-floating">
                                        <textarea class="w-100" placeholder="Message To Send..!" id="MessageArea"
                                            ></textarea>
                                           
                                       
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-2">
                                    <div class="mt-3">
                                        <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="sendEmail()" >Send</button>
                                    </div>
            
                                </div>
                                <div class="col-4" id="request_other_container" style="visibility: hidden;">
                                    <div class="mb-3">
                                        <label for="other_payment_categories" class="">Other</label>
                                        <input type="text" class="" id="other_payment_categories">
                                    </div>
                            </div>
                         
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="RequestFeesHistoryModal" tabindex="-1" aria-labelledby="RequestFeesHistoryModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="RequestFeesHistoryModalLabel">Request Fees History</h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="RequestFeesHistoryModaldata">
                        <table class="table format-table table-bordered">
                            <thead>
                                <tr>
                                    <th scope="col">Sr.No</th>
                                    <th scope="col">Amount</th>
                                    <th scope="col">Payment Categories</th>
                                    <th scope="col">Payment Type</th>
                                </tr>
                            </thead>
                            <tbody id="request_fees_history_modal_table_body">
    
    
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="UniversityExamFeesModal" tabindex="-1" aria-labelledby="UniversityExamFeesModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="UniversityExamFeesModalLabel">University Exam Fees <input type="text" id="university_examination_student_id"> </h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="UniversityExamFeesModaldata">
                        <div class="row">
                            <div class="col-sm-8">
                                
                            </div>
                            <div class="col-sm-4">
                                <button class="mb-3 blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="AddUniversityExamination($('#university_examination_student_id').val())">+ University Examination</button>
                            </div>
                        </div>
                        <div id="university_examination_remarks_output">
    
                        </div>
                        <table class="table format-table table-bordered">
                            <thead>
                              <tr>
                                <th scope="col">Sr.No</th>
                                <th scope="col">Amount</th>
                                <th scope="col">Date</th>
                                <th scope="col">Examination</th>
                                <th scope="col">Semester/Year</th>
                                <th scope="col">Payment Mode</th>
                                <th scope="col">Remark</th>
                                
                              </tr>
                            </thead>
                            <tbody id="university_exam_table_body">
                             
                              
                            </tbody>
                          </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="AddNewUniversityExamFeesModal" tabindex="-1" aria-labelledby="AddNewUniversityExamFeesModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="AddNewUniversityExamFeesModalLabel">Add University Exam Fees <input type="text" id="add_university_examination_student_id"> </h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="AddNewUniversityExamFeesModaldata">
                        <div class="row">
                            <div class="col-6">
                                <div class="mb-3">
                                    <label for="add_university_examination_amount">Amount</label>
                                    <input type="text" required class="" id="add_university_examination_amount">
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="mb-3">
                                    <label for="add_university_examination_date">Date</label>
                                    <input type="date" required class="" id="add_university_examination_date">
                                </div>
                            </div>
                        </div>
                        <div class="row">
    
                        
                            <div class="col-6">
                                <div class="mb-3">
                                    <label for="add_university_examination_examination">Examination</label>
                                    <input type="text" required class="" id="add_university_examination_examination">
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="mb-3">
                                    <label for="add_university_examination_semyear">Semester / Year</label>
                                    <input type="text" required class="" id="add_university_examination_semyear">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-6">
                                <label for="add_university_examination_paymentmode">Payment Mode</label>
                                <select class="" name="" required id="add_university_examination_paymentmode">
                                    <option value="">Select Payment Mode</option>
                                    <option value="NEFT">NEFT</option>
                                    <option value="NET BANKING">NET BANKING</option>
                                    <option value="BULK NEFT-RTGS">BULK NEFT-RTGS</option>
                                </select>
                            </div>
                            <div class="col-6">
                                <div class="mb-3">
                                    <label for="add_university_examination_remarks">Remarks</label>
                                    <input type="text" required class="" id="add_university_examination_remarks">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-4">
                                <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="add_university_examination($('#add_university_examination_student_id').val())">Save</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    
    <div class="modal fade" id="UniversityReRegistrationModal" tabindex="-1" aria-labelledby="UniversityReRegistrationModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="UniversityReRegistrationModalLabel">University Re-Registration <input type="text" id="university_re_registration_student_id"> </h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="UniversityReRegistrationModaldata">
                        <div class="row">
                            <div class="col-sm-8">
                                
                            </div>
                            <div class="col-sm-4">
                                <button class="mb-3 blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="AddUniversityRe_Registration($('#university_re_registration_student_id').val())">+ University Re-Registration</button>
                            </div>
                        </div>
                        <div id="university_re_registration_remarks_output">
    
                        </div>
                        <table class="table format-table table-bordered">
                            <thead>
                              <tr>
                                <th scope="col">Sr.No</th>
                                <th scope="col">Amount</th>
                                <th scope="col">Date</th>
                                <th scope="col">Examination</th>
                                <th scope="col">Semester/Year</th>
                                <th scope="col">Payment Mode</th>
                                <th scope="col">Remark</th>
                                
                              </tr>
                            </thead>
                            <tbody id="university_re_registration_table_body">
                             
                              
                            </tbody>
                          </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="AddNewUniversityReRegistrationModal" tabindex="-1" aria-labelledby="AddNewUniversityReRegistrationModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="AddNewUniversityReRegistrationModalLabel">Add University Re-Registration <input type="text" id="add_university_re_registration_student_id"> </h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="AddNewUniversityReRegistrationModaldata">
                        <div class="row">
                            <div class="col-6">
                                <div class="mb-3">
                                    <label for="add_university_re_registration_amount">Amount</label>
                                    <input type="text" required class="" id="add_university_re_registration_amount">
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="mb-3">
                                    <label for="add_university_re_registration_date">Date</label>
                                    <input type="date" required class="" id="add_university_re_registration_date">
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="mb-3">
                                    <label for="add_university_re_registration_examination">Examination</label>
                                    <input type="text" required class="" id="add_university_re_registration_examination">
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="mb-3">
                                    <label for="add_university_re_registration_semyear">Semester / Year</label>
                                    <input type="text" required class="" id="add_university_re_registration_semyear">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-6">
                                <label for="add_university_re_registration_paymentmode">Payment Mode</label>
                                <select class="" name="" required id="add_university_re_registration_paymentmode">
                                    <option value="">Select Payment Mode</option>
                                    <option value="NEFT">NEFT</option>
                                    <option value="NET BANKING">NET BANKING</option>
                                    <option value="BULK NEFT-RTGS">BULK NEFT-RTGS</option>
                                </select>
                            </div>
                            <div class="col-6">
                                <div class="mb-3">
                                    <label for="add_university_re_registration_remarks">Remarks</label>
                                    <input type="text" required class="" id="add_university_re_registration_remarks">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-4">
                                <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="add_university_re_registration($('#add_university_re_registration_student_id').val())">Save</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="GetResultUploadedModal" tabindex="-1" aria-labelledby="GetResultUploadedModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="GetResultUploadedModalLabel">Result Uploaded <input type="text" id="get_resultuploaded_student_id"> </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="GetResultUploadedModaldata">
                        <div class="row">
                            <div class="col-sm-8">
                                
                            </div>
                            <div class="col-sm-4">
                                <button class="mb-3 blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="AddResultUploaded($('#get_resultuploaded_student_id').val())">+ Result Uploaded</button>
                            </div>
                        </div>
                        <div id="get_resultuploaded_remarks_output">
    
                        </div>
                        <table class="table format-table table-bordered">
                            <thead>
                              <tr>
                                <th scope="col">Sr.No</th>
                                <th scope="col">Date</th>
                                <th scope="col">Examination</th>
                                <th scope="col">Semester/Year</th>
                                <th scope="col">Uploaded (Yes / No)</th>
                                <th scope="col">Remark</th>
                                <th scope="col">Edit</th>
                                
                                
                              </tr>
                            </thead>
                            <tbody id="get_resultuploaded_table_body">
                             
                              
                            </tbody>
                          </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="AddResultUploadedModal" tabindex="-1" aria-labelledby="AddResultUploadedModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="AddResultUploadedModalLabel">Add Result Uploaded <input type="text" id="add_result_uploaded_student_id"> </h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="AddResultUploadedModaldata">
                        <div class="row">
                            
                            <div class="col-4">
                                <div class="mb-3">
                                    <label for="add_result_uploaded_date">Date</label>
                                    <input type="date" required class="" id="add_result_uploaded_date">
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="mb-3">
                                    <label for="add_result_uploaded_examination">Examination</label>
                                    <input type="text" required class="" id="add_result_uploaded_examination">
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="mb-3">
                                    <label for="add_result_uploaded_semyear">Semester / Year</label>
                                    <input type="text" required class="" id="add_result_uploaded_semyear">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-4">
                                <label for="add_result_uploaded_yn">Result Uploaded(Yes / No)</label>
                                <select class="" name="" required id="add_result_uploaded_yn">
                                    <option value="">Select Uploaded</option>
                                    <option value="Yes">Yes</option>
                                    <option value="No">No</option>
                                </select>
                            </div>
                            <div class="col-8">
                                <div class="mb-3">
                                    <label for="add_result_uploaded_remarks">Remarks</label>
                                    <input type="text" required class="" id="add_result_uploaded_remarks">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-4">
                                <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="add_result_uploaded($('#add_result_uploaded_student_id').val())">Save</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="EditResultUploadedModal" tabindex="-1" aria-labelledby="EditResultUploadedModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="EditResultUploadedModalLabel">Edit Result Uploaded <input type="text" id="edit_result_uploaded"> </h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="EditResultUploadedModaldata">
                        <div class="row">
                            
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <label for="edit_result_uploaded_date">Date</label>
                                    <input type="date" required class="" id="edit_result_uploaded_date">
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <label for="edit_result_uploaded_examination">Examination</label>
                                    <input type="text" required class="" id="edit_result_uploaded_examination">
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <label for="edit_result_uploaded_semyear">Semester / Year</label>
                                    <input type="text" required class="" id="edit_result_uploaded_semyear">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-4">
                                <label for="edit_result_uploaded_yn">Result Uploaded(Yes / No)</label>
                                <select class="" name="" required id="edit_result_uploaded_yn">
                                    <option value="">Select Uploaded</option>
                                    <option value="Yes">Yes</option>
                                    <option value="No">No</option>
                                </select>
                            </div>
                            <div class="col-sm-8">
                                <div class="mb-3">
                                    <label for="edit_result_uploaded_remarks">Remarks</label>
                                    <input type="text" required class="" id="edit_result_uploaded_remarks">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-4">
                                <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="edit_result_uploaded($('#edit_result_uploaded').val())">Save</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="DocumentsModal" tabindex="-1" aria-labelledby="DocumentsModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="DocumentsModalLabel">Documents <span id="documents_upload_output"></span><input type="text" id="upload_document_student_id" style="visibility:hidden;" ></h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    
                    <div class="container" id="DocumentsModaldata">
                        <div class="uploaddocuments" id="documents_hidden">
                            <table class="table format-table">
                                <thead>
                                    <tr>
                                        <th scope="col">Exam</th>
                                        <th scope="col">Year of Passing</th>
                                        <th scope="col">Board/University</th>
                                        <th scope="col">Percentage(%)</th>
                                        <th scope="col">Upload Document</th>
                                    </tr>
                                </thead>
                                <tbody id="Documentsuploadbody">
                                    <tr>
                                        <td class="font-14 text-extralightgray px-2 text-center ">
                                            <select class="" id="upload_qualification_name" aria-label="Default select example">
                                                <option selected value="Secondary/High School">Secondary/High School</option>
                                                <option value="Sr. Secondary">Sr. Secondary</option>
                                                <option value="Under Graduation">Under Graduation</option>
                                                <option value="Post Graduation">Post Graduation</option>
                                                <option value="M.Phil">M.Phil</option>
                                                <option value="Others">Others</option>
                                                
                                            </select>
                                        </td>
                                        <td class="font-14 text-extralightgray px-2 text-center ">
                                            <select class="" id="upload_qualification_year" aria-label="Default select example">
                                                <option value="2010">2010</option>
                                                <option value="2011">2011</option>
                                                <option value="2012">2012</option>
                                                <option value="2013">2013</option>
                                                <option value="2014">2014</option>
                                                <option value="2015">2015</option>
                                                <option value="2016">2016</option>
                                                <option value="2017">2017</option>
                                                <option value="2018">2018</option>
                                                <option value="2019">2019</option>
                                                <option value="2020">2020</option>
                                                <option value="2021">2021</option>
                                                <option value="2022">2022</option>
                                            </select>
                                        </td>
                                        <td class="font-14 text-extralightgray px-2 text-center ">
                                            <input type="text" class="" id="upload_qualification_board">
                                        </td>
                                        <td class="font-14 text-extralightgray px-2 text-center ">
                                            <input type="text" class="" id="upload_qualification_percentage">
                                        </td >
                                        <td class="font-14 text-extralightgray px-2 text-center ">
                                            <input type="file" class="" id="upload_qualification_document">
                                        </td>
                                       
                                        
    
                                    </tr>
                                  
                                    
                                </tbody>
                                
                            </table>
                            <div class="detail-block pb-4 px-5">
                                <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border "onclick="addDocuments()">Add</button>
                            </div>
                        </div>
                        <div class="documents" id="documents_present">
                            <table class="table format-table">
                                <thead>
                                    <tr>
                                        <th scope="col">Exam</th>
                                        <th scope="col">Year of Passing</th>
                                        <th scope="col">Board/University</th>
                                        <th scope="col">Percentage(%)</th>
                                        <th scope="col">Uploaded Document</th>
                                        <th scope="col">Download</th>
                                        
                                    </tr>
                                </thead>
                                <tbody id="DocumentsModalTableBody">
        
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="documentUploaded" tabindex="-1" aria-labelledby="documentUploadedLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="documentUploadedLabel">Document Uploaded</h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="document_body">
                    <embed id="document_data" frameborder="0" type="application/pdf" width="100%" height="400px">
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="SyllabusModal" tabindex="-1" aria-labelledby="SyllabusModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="SyllabusModalLabel">Syllabus</h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="StudentSyllabusdata">
                        <input type="text" id="studentsyllabus_student_id" style="visibility:hidden;">
                        <table class="table format-table">
                            <thead>
                                <tr>
                                    <th scope="col">Semester</th>
                                    <th scope="col">Syllabus</th>
                                    <th scope="col"></th>
                                </tr>
                            </thead>
                            <tbody id="uploadResult">
                                <tr>
                                    <td class="font-14 text-extralightgray px-2 text-center "><input type="text" id="studentsyllabus_semester" class=""></td>
                                    <td class="font-14 text-extralightgray px-2 text-center "><input type="file" id="studentsyllabus_file" class=""></td>
                                    <td class="font-14 text-extralightgray px-2 text-center "><button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="savestudentsyllabus()">Add</button></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="container" id="SyllabusModalMaindata">
                        <div class="syllabusmainhidden" id="syllabusmainhidden" style="visibility:hidden;">
                            <h1  class="font-20 font-bold text-darkblue"></h1>>ALL Stream Syllabus</h1>
                            <div id="SyllabusModaldata">
    
                            </div>
                        </div>
                        <div class="studentsyllabushidden" id="studentsyllabushidden" style="visibility:hidden;">
                            <h1 class="font-20 font-bold text-darkblue">Student Syllabus</h1>
                            <div>
                                <table class="table format-table">
                                    <thead>
                                    <tr>
                                        <th scope="col">Semester</th>
                                        <th scope="col">Syllabus</th>
                                    </tr>
                                    </thead>
                                    <tbody id="StudentSyllabusModaldata">
                                    
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="ResultUploadedModal" tabindex="-1" aria-labelledby="ResultUploadedModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="ResultUploadedModalLabel">Personal Documents<input type="text" id="upload_result_student_id" style="visibility:visible;"><input type="text" id="upload_result_student_enroll_id" style="visibility:visible;width:150px;"></h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="ResultUploadedModaldata">
                        <div class="row">
                            <div class="col-sm-12">
                                <ul class="nav nav-pills" id="myTab">
                                    <li class="nav-item">
                                        <button  class="blue-bg text-blue font-bold font-12 no-border m-2" onclick="ShowBasicDocuments($('#upload_result_student_id').val())" >Basic Documents</button>
                                    </li>
                                    <li class="nav-item">
                                        <button class="blue-bg text-blue font-bold font-12 no-border m-2 " onclick="ShowPersonalDocuments($('#upload_result_student_enroll_id').val())">Personal Documents</button>
                                    </li>
                                </ul>
                            </div>
                            
                            
                        </div>
                        <div id="basic_documents_container">
    
                        </div>
                        
                       
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="resultUploaded" tabindex="-1" aria-labelledby="resultUploadedLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="resultUploadedLabel">Result Uploaded</h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="result_body">
                    <embed id="result_data" frameborder="0" type="application/pdf" width="100%" height="400px">
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    
    
    
    
    <div class="modal fade" id="NewUniversityEnrollmentIDModal" tabindex="-1" aria-labelledby="NewUniversityEnrollmentIDModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="NewUniversityEnrollmentIDModalLabel">New University Enrollment ID <input type="text" id="new_university_enrollment_student_id"> </h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="NewUniversityEnrollmentIDModaldata">
                        <div class="row">
                            <div class="col-sm-8">
                                
                            </div>
                            <div class="col-sm-4">
                                <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="AddNewUniversityEnrollment($('#new_university_enrollment_student_id').val())">+ New University Enrollment ID</button>
                            </div>
                        </div>
                        <table class="table table-bordered format-table mt-3">
                            <thead>
                              <tr>
                                <th scope="col">Sr.No</th>
                                <th scope="col">Course    </th>
                                <th scope="col">NEW UNIVERSITY ENROLLMENT NUMBER</th>
                                
                              </tr>
                            </thead>
                            <tbody id="new_university_enrollment_no_table_body">
                             
                              
                            </tbody>
                          </table>
                        
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="AddNewUniversityEnrollmentIDModal" tabindex="-1" aria-labelledby="AddNewUniversityEnrollmentIDModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="AddNewUniversityEnrollmentIDModalLabel">Add New University Enrollment ID <input type="text" id="add_new_university_enrollment_student_id"> </h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="AddNewUniversityEnrollmentIDModaldata">
                        <div class="row">
                            <div class="col-6">
                                <div class="mb-3">
                                    <label for="select_new_university_enrollment_university">University</label>
                                    <select name="" class="" id="select_new_university_enrollment_university">
                                        <option value="">Select University</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="mb-3">
                                    <label for="select_new_university_enrollment_course">Course</label>
                                    <select name="" class="" id="select_new_university_enrollment_course">
                                        <option value="">Select Course</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="mb-3">
                                    <label for="select_new_university_enrollment_id">New University Enrollment ID</label>
                                    <input type="text" class="" id="select_new_university_enrollment_id">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="save_new_enrollment_id($('#add_new_university_enrollment_student_id').val())" >Save</button>
                                </div>
                            </div>
                        </div>
                        
                        
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class=" blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    
    <!--                     -->
    
    <div class="modal fade" id="OldUniversityEnrollmentIDModal" tabindex="-1" aria-labelledby="OldUniversityEnrollmentIDModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="OldUniversityEnrollmentIDModalLabel">Old University Enrollment ID <input type="text" id="old_university_enrollment_student_id"> </h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="OldUniversityEnrollmentIDModaldata">
                        <div class="row">
                            <div class="col-sm-8">
                                
                            </div>
                            <div class="col-sm-4">
                                <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="AddOldUniversityEnrollment($('#old_university_enrollment_student_id').val())">+ Old University Enrollment ID</button>
                            </div>
                        </div>
                        <table class="table format-table table-bordered mt-3">
                            <thead>
                              <tr>
                                <th scope="col">Sr.No</th>
                                <th scope="col">Course    </th>
                                <th scope="col">Old UNIVERSITY ENROLLMENT NUMBER</th>
                                
                              </tr>
                            </thead>
                            <tbody id="old_university_enrollment_no_table_body">
                             
                              
                            </tbody>
                          </table>
                        
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="AddOldUniversityEnrollmentIDModal" tabindex="-1" aria-labelledby="AddOldUniversityEnrollmentIDModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="AddOldUniversityEnrollmentIDModalLabel">Add Old University Enrollment ID <input type="text" id="add_old_university_enrollment_student_id"> </h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="AddOldUniversityEnrollmentIDModaldata">
                        <div class="row">
                            <div class="col-6">
                                <div class="mb-3">
                                    <label for="select_old_university_enrollment_university">University</label>
                                    <select name="" class="" id="select_old_university_enrollment_university">
                                        <option value="">Select University</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="mb-3">
                                    <label for="select_old_university_enrollment_course">Course</label>
                                    <select name="" class="" id="select_old_university_enrollment_course">
                                        <option value="">Select Course</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="mb-3">
                                    <label for="select_old_university_enrollment_id">old University Enrollment ID</label>
                                    <input type="text" class="" id="select_old_university_enrollment_id">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-3">
                                <div class="mb-3">
                                    <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="save_old_enrollment_id($('#add_old_university_enrollment_student_id').val())" >Save</button>
                                </div>
                            </div>
                        </div>
                        
                        
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="PaymentGatewayModal" tabindex="-1" aria-labelledby="PaymentGatewayModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="PaymentGatewayModalLabel">Payment Gateway</h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="PaymentGatewayModaldata">
    
                        <div class="form">
                            <form action='https://test.payu.in/_payment' method='post'>
                                <input type="hidden" name="key" id="key" value="" />
                                <input type="hidden" name="txnid" id="txnid" value="" />
                                <input type="hidden" name="productinfo" id="productinfo" value="" />
                                <input type="hidden" name="amount" id="amount" value="" />
                                <input type="hidden" name="email" id="email" value="" />
                                <input type="hidden" name="firstname" id="firstname" value="" />
                                <input type="hidden" name="lastname" id="lastname" value="" />
                                <input type="hidden" name="surl" id="surl" value="" />
                                <input type="hidden" name="furl" id="furl" value="" />
                                <input type="hidden" name="phone" id="phone" value="">
    
                                <input type="hidden" name="hash" id="hash" value="" />
                                <input type="submit" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " value="Pay">
                            </form>
                        </div>
    
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="PendingPaymentGatewayModal" tabindex="-1" aria-labelledby="PendingPaymentGatewayModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="PendingPaymentGatewayModalLabel">Payment Gateway</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="PendingPaymentGatewayModaldata">
                        <h1 class="pending font-26 font-bold text-blue" id="pending_amount_label"></h1>
                        <div class="form" id="hiddenform">
                            <form action='https://test.payu.in/_payment' method='post'>
                                <input type="hidden" name="key" id="pending_key" value="" />
                                <input type="hidden" name="txnid" id="pending_txnid" value="" />
                                <input type="hidden" name="productinfo" id="pending_productinfo" value="" />
                                <input type="hidden" name="amount" id="pending_amount" value="" />
                                <input type="hidden" name="email" id="pending_email" value="" />
                                <input type="hidden" name="firstname" id="pending_firstname" value="" />
                                <input type="hidden" name="lastname" id="pending_lastname" value="" />
                                <input type="hidden" name="surl" id="pending_surl" value="" />
                                <input type="hidden" name="furl" id="pending_furl" value="" />
                                <input type="hidden" name="phone" id="pending_phone" value="">
    
                                <input type="hidden" name="hash" id="pending_hash" value="" />
                                <input type="submit" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " value="Pay">
                            </form>
                        </div>
    
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    
    <div class="modal fade" id="CourierModal" tabindex="-1" aria-labelledby="CourierModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="CourierModalLabel">Courier Data <input type="text" id="new_courier_student_id"> </h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="CourierModaldata">
                        <div class="row">
                            <div class="col-sm-8">
                                
                            </div>
                            <div class="col-sm-4">
                                <button class="mb-3 blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="AddNewCourier($('#new_courier_student_id').val())">+ New Courier</button>
                            </div>
                        </div>
                            <table class="table format-table table-bordered">
                                <thead>
                                    <tr>
                                        <th scope="col">Sr.No</th>
                                        <th scope="col">Article Name</th>
                                        <th scope="col">From</th>
                                        <th scope="col">To Whom</th>
                                        <th scope="col">Booking Date</th>
                                        <th scope="col">Courier Company</th>
                                        <th scope="col">Tracking ID</th>
                                        <th scope="col">Remarks</th>
                                    </tr>
                                </thead>
                                <tbody id="courier_modal_table_body">
    
    
                                </tbody>
                            </table>
                    </div>
                        
                        
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    
    <div class="modal fade" id="AddCourierModal" tabindex="-1" aria-labelledby="AddCourierModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="AddCourierModalLabel">Add Courier Data <input type="text" id="add_new_courier_student_id"> </h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="AddCourierModaldata">
                        <div class="row">
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <label for="courier_article_name">Article Name</label>
                                    <input type="text" class="" id="courier_article_name">
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <label for="courier_from">From</label>
                                    <input type="text" class="" id="courier_from">
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <label for="courier_to_whom">To Whom</label>
                                    <input type="text" class="" id="courier_to_whom">
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <label for="courier_booking_date">Booking Date</label>
                                    <input type="date" class="" id="courier_booking_date">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <label for="courier_company_name">Courier Company Name</label>
                                    <input type="text" class="" id="courier_company_name">
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <label for="courier_tracking_id">Tracking ID</label>
                                    <input type="text" class="" id="courier_tracking_id">
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="mb-3">
                                    <label for="courier_remarks">Remarks</label>
                                    <input type="text" class="" id="courier_remarks">
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-3">
                                    <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="SaveCourier($('#add_new_courier_student_id').val())">Save</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    
    <div class="modal fade" id="CourierPrintModal" tabindex="-1" aria-labelledby="CourierPrintModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="CourierPrintModalLabel">Courier Print</h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="CourierPrintModalBody">
                        
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="RemarksModal" tabindex="-1" aria-labelledby="RemarksModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="RemarksModalLabel">Remarks</h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="remarks_modal_body">
                    <div class="container" id="remarksmodaldata">
                        <div id="remarks_popover"></div>
                        <table class="table format-table table-bordered text-center">
                            <thead id="remarks_modal_head">
    
                            </thead>
                            <tbody id="remarks_table_body">
    
                              
                                
                                
                                
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="sendremainderModal" tabindex="-1" aria-labelledby="sendremainderModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="sendremainderModalLabel">Send Reminder</h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="sendremainder_modal_body">
                    <div class="container" id="sendremaindermodaldata">
                        <div id="sendremainder_popover"></div>
                        <h1 class="pending font-26 font-bold text-blue" id="sendremainder_amount_label"></h1>
                        
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="CommonFeesModal" tabindex="-1" aria-labelledby="CommonFeesModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="CommonFeesModalLabel">Add Fees <input type="text" id="commonfees_student_id" style="visibility: hidden;"></h5>
                    <button type="button" class="btn-close"  data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container">
                        <div class="row">
                            <div class="col-3">
                                <div class="mb-3">
                                    <label for="commonfees_payment_for" class="">Payment Categories</label>
                                    <select class="" aria-label="Default select example" id="commonfees_payment_for">
                                        <option selected value="">Select from Dropdown</option>
                                        <option value="New Fees">New Fees</option>
                                        <option value="Re-Registration Fees">Re-Registration Fees</option>
                                        <option value="Examination Fees">Examination Fees</option>
                                        <option value="Re-Sitting Fees">Re-Sitting Fees</option>
                                        <option value="Other Fees">Other Fees</option>
                                      </select>
                                </div>
                            </div>
                          
                            <div class="col-3">
                                <div class="mb-3">
                                    <label for="commonfees_totalfees" class="">Total Fees</label>
                                    <input type="number" class="" readonly id="commonfees_totalfees"> 
                                  </div>
                            </div>
                            
                            <div class="col-3">
                                <div class="mb-3">
                                    <label for="commonfees_previous_pending" class="">Advance Payment (With CIIS)</label>
                                    <input type="number" class="" readonly id="commonfees_previous_pending"> 
                                  </div>
                            </div>
                            
                            <div class="col-3">
                                <div class="mb-3">
                                    <label for="commonfees_pending" class="">Total Pending</label>
                                    <input type="number" class="" readonly id="commonfees_pending"> 
                                  </div>
                            </div>
                            
                            
                        </div>
                        <div class="row">
                            <div class="col-3">
                                <div class="mb-3">
                                    <label for="commonfees_amount" class="">Amount</label>
                                    <input type="number" class="" id="commonfees_amount">
                                  </div>
                            </div>
                            <div class="col-3">
                                <div class="mb-3">
                                    <label for="commonfees_payment_type" class="">Payment Type</label>
                                    <select class="" aria-label="Default select example" id="commonfees_payment_type">
                                        <option value="Full Payment">Full Payment</option>
                                        <option value="Part Payment">Part Payment</option>
                                        <option value="Dues">Dues</option>
                                      </select>
                                </div>
                            </div>
                            <div class="col-3">
                                <div class="mb-3">
                                    <label for="commonfees_semyear" class="">Current Sem/Year</label>
                                    <input type="number" class="" readonly id="commonfees_semyear">
                                  </div>
                            </div>
                            <div class="col-3">
                                <div class="mb-3">
                                    <label for="commonfees_transactiondate" class="">Transaction Date</label>
                                    <input type="date" class="" id="commonfees_transactiondate">
                                  </div>
                            </div>
                                                  
                        </div>
                        <div class="row">
                            <div class="col-3">
                                <div class="mb-3">
                                    <label for="commonfees_payment_mode" class="">Payment Mode</label>
                                    <select class="" name="commonfees_payment_mode" id="commonfees_payment_mode" aria-label="Default select example">
                                    <option selected>Select</option>
                                    <option value="Cash Deposited in the Bank">Cash Deposited in the Bank</option>
                                    <option value="Cheque">Cheque</option>
                                    <option value="CASH">CASH</option>
                                    <option value="NEFT">NEFT</option>
                                    <option value="RTGS">RTGS</option>
                                    <option value="IMPS">IMPS</option>
                                    <option value="UPI">UPI</option>
                                    <option value="GPAY">GPAY</option>
                                    <option value="EaseBuzz">EaseBuzz</option>
                                    <option value="PL/PG">PL/PG</option>
                                    </select>
                                  </div>
                            </div> 
                            <div class="col-3">
                                <div class="mb-3">
                                    <label for="commonfees_chequeno" class="">Cheque/DD/CC Number</label>
                                    <input type="text" class="" id="commonfees_chequeno">
                                  </div>
                            </div>
                            <div class="col-3">
                                <div class="mb-3">
                                    <label for="commonfees_bank_name" class="">Bank Name</label>
                                    <select class="" name="commonfees_bank_name" id="commonfees_bank_name" aria-label="Default select example">
                                      <option selected value=" ">--Select --</option>
                                      <option value="ALLAHABAD BANK">ALLAHABAD BANK</option>
                                      <option value="ANDHRA BANK">ANDHRA BANK</option>
                                      <option value="AXIS BANK">AXIS BANK</option>
                                      <option value="STATE BANK OF INDIA">STATE BANK OF INDIA</option>
                                      <option value="BANK OF BARODA">BANK OF BARODA</option>
                                      <option value="UCO BANK">UCO BANK</option>
                                      <option value="UNION BANK OF INDIA">UNION BANK OF INDIA</option>
                                      <option value="BANK OF INDIA">BANK OF INDIA</option>
                                      <option value="BANDHAN BANK LIMITED">BANDHAN BANK LIMITED</option>
                                      <option value="CANARA BANK">CANARA BANK</option>
                                      <option value="GRAMIN VIKASH BANK">GRAMIN VIKASH BANK</option>
                                      <option value="CORPORATION BANK">CORPORATION BANK</option>
                                      <option value="INDIAN BANK">INDIAN BANK</option>
                                      <option value="INDIAN OVERSEAS BANK">INDIAN OVERSEAS BANK</option>
                                      <option value="ORIENTAL BANK OF COMMERCE">ORIENTAL BANK OF COMMERCE</option>
                                      <option value="PUNJAB AND SIND BANK">PUNJAB AND SIND BANK</option>
                                      <option value="PUNJAB NATIONAL BANK">PUNJAB NATIONAL BANK</option>
                                      <option value="RESERVE BANK OF INDIA">RESERVE BANK OF INDIA</option>
                                      <option value="SOUTH INDIAN BANK">SOUTH INDIAN BANK</option>
                                      <option value="UNITED BANK OF INDIA">UNITED BANK OF INDIA</option>
                                      <option value="CENTRAL BANK OF INDIA">CENTRAL BANK OF INDIA</option>
                                      <option value="VIJAYA BANK">VIJAYA BANK</option>
                                      <option value="DENA BANK">DENA BANK</option>
                                      <option value="BHARATIYA MAHILA BANK LIMITED">BHARATIYA MAHILA BANK LIMITED</option>
                                      <option value="FEDERAL BANK LTD">FEDERAL BANK LTD</option>
                                      <option value="HDFC BANK LTD">HDFC BANK LTD</option>
                                      <option value="ICICI BANK LTD">ICICI BANK LTD</option>
                                      <option value="IDBI BANK LTD">IDBI BANK LTD</option>
                                      <option value="PAYTM BANK">PAYTM BANK</option>
                                      <option value="FINO PAYMENT BANK">FINO PAYMENT BANK</option>
                                      <option value="INDUSIND BANK LTD">INDUSIND BANK LTD</option>
                                      <option value="KARNATAKA BANK LTD">KARNATAKA BANK LTD</option>
                                      <option value="KOTAK MAHINDRA BANK">KOTAK MAHINDRA BANK</option>
                                      <option value="YES BANK LTD">YES BANK LTD</option>
                                      <option value="SYNDICATE BANK">SYNDICATE BANK</option>
                                      <option value="BANK OF INDIA">BANK OF INDIA</option>
                                      <option value="BANK OF MAHARASHTRA">BANK OF MAHARASHTRA</option>
                                      <option value="Others">Others</option>
                                    </select>
                                  </div>
                            </div>
                            <div class="col-3">
                                <div id="other_bank_name">
    
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-6">
                                <div class="mb-3">
                                    <label for="commonfees_remark" class="">Remarks</label>
                                    <input type="text" class="" id="commonfees_remark">
                                  </div>
    
                            </div>
                            <div class="col-3" id="payment_for_other_column" style="visibility: hidden;">
                                <div class="mb-3">
                                    <label for="commonfees_payment_for_other" class="">Other Categories</label>
                                    <input type="text" class=""  id="commonfees_payment_for_other"> 
                                  </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " id="save_commonfees_btn" onclick="savecommonfees($('#commonfees_student_id').val())">Save</button>
                                </div>
                            </div>
                           
                        </div>
                    </div>
                    
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="ExtraFeesModal" tabindex="-1" aria-labelledby="ExtraFeesModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="ExtraFeesModalLabel">Add Fees <input type="text" id="extrafees_student_id" style="visibility: hidden;"></h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <div class="container" id="extrafees_output">
    
                    </div>
                    <div class="container">
                        <div class="row">
                            <div class="col-3">
                                <div class="mb-3">
                                    <label for="extrafees_payment_for" class="">Payment For</label>
                                    <select class="" aria-label="Default select example" id="extrafees_payment_for">
                                        <option value="Degree Fee">Degree Fee</option>
                                        <option value="Migration Fee">Migration Fee</option>
                                        <option value="Leaving Certificate">Leaving Certificate</option>
                                        <option value="Transfer Certificate">Transfer Certificate</option>
                                        <option value="Provisional Degree/Certificate Fee">Provisional Degree/Certificate Fee</option>
                                        <option value="Late Fee">Late Fee</option>
                                        <option value="Tuition Fee">Tuition Fee</option>
                                        <option value="Entrance Fee">Entrance Fee</option>
                                        <option value="LOR">LOR</option>
                                        <option value="Transcript Fee">Transcript Fee</option>
                                        <option value="Bonafide Certificate">Bonafide Certificate</option>
                                        <option value="Verification Fee">Verification Fee</option>
                                        <option value="WES Verification Fee">WES Verification Fee</option>
                                        <option value="Other Fee (Type Manually Option)">Other Fee (Type Manually Option)</option>                                     
                                      </select>
                                </div>
                            </div>
                            <div class="col-3">
                                <div id="extrafees_others_payment_for">
    
                                </div>
                            </div>
                            <div class="col-3">
                                <div class="mb-3">
                                    <label for="extrafees_amount" class="">Amount</label>
                                    <input type="number" class="" id="extrafees_amount">
                                  </div>
                            </div>
                            <div class="col-3">
                                <div class="mb-3">
                                    <label for="extrafees_payment_type" class="">Payment Type</label>
                                    <select class="" aria-label="Default select example" id="extrafees_payment_type">
                                        <option value="Full Payment">Full Payment</option>
                                        <option value="Part Payment">Part Payment</option>
                                        <option value="Dues">Dues</option>
                                      </select>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-3">
                                <div class="mb-3">
                                    <label for="extrafees_semyear" class="">Year / Semester</label>
                                    <select class="" aria-label="Default select example" id="extrafees_semyear">
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                        <option value="5">5</option>
                                        <option value="6">6</option>
                                        <option value="7">7</option>
                                        <option value="8">8</option>
                                      </select>
                                </div>
                            </div>
                            <div class="col-3">
                                <div class="mb-3">
                                    <label for="extrafees_transactiondate" class="">Transaction Date</label>
                                    <input type="date" class="" id="extrafees_transactiondate">
                                  </div>
                            </div>
                            <div class="col-3">
                                <div class="mb-3">
                                    <label for="extrafees_payment_mode" class="">Payment Mode</label>
                                    <select class="" name="extrafees_payment_mode" id="extrafees_payment_mode" aria-label="Default select example">
                                    <option selected>Select</option>
                                    <option value="Cash Deposited in the Bank">Cash Deposited in the Bank</option>
                                    <option value="Cheque">Cheque</option>
                                    <option value="CASH">CASH</option>
                                    <option value="NEFT">NEFT</option>
                                    <option value="RTGS">RTGS</option>
                                    <option value="IMPS">IMPS</option>
                                    <option value="UPI">UPI</option>
                                    <option value="GPAY">GPAY</option>
                                    <option value="EaseBuzz">EaseBuzz</option>
                                    <option value="PL/PG">PL/PG</option>
                                    </select>
                                  </div>
                            </div>                        
                        </div>
                        <div class="row">
                            <div class="col-3">
                                <div class="mb-3">
                                    <label for="extrafees_chequeno" class="">Cheque/DD/CC Number</label>
                                    <input type="text" class="" id="extrafees_chequeno">
                                  </div>
                            </div>
                            <div class="col-3">
                                <div class="mb-3">
                                    <label for="extrafees_bank_name" class="">Bank Name</label>
                                    <select class="" name="extrafees_bank_name" id="extrafees_bank_name" aria-label="Default select example">
                                      <option selected value=" ">--Select --</option>
                                      <option value="ALLAHABAD BANK">ALLAHABAD BANK</option>
                                      <option value="ANDHRA BANK">ANDHRA BANK</option>
                                      <option value="AXIS BANK">AXIS BANK</option>
                                      <option value="STATE BANK OF INDIA">STATE BANK OF INDIA</option>
                                      <option value="BANK OF BARODA">BANK OF BARODA</option>
                                      <option value="UCO BANK">UCO BANK</option>
                                      <option value="UNION BANK OF INDIA">UNION BANK OF INDIA</option>
                                      <option value="BANK OF INDIA">BANK OF INDIA</option>
                                      <option value="BANDHAN BANK LIMITED">BANDHAN BANK LIMITED</option>
                                      <option value="CANARA BANK">CANARA BANK</option>
                                      <option value="GRAMIN VIKASH BANK">GRAMIN VIKASH BANK</option>
                                      <option value="CORPORATION BANK">CORPORATION BANK</option>
                                      <option value="INDIAN BANK">INDIAN BANK</option>
                                      <option value="INDIAN OVERSEAS BANK">INDIAN OVERSEAS BANK</option>
                                      <option value="ORIENTAL BANK OF COMMERCE">ORIENTAL BANK OF COMMERCE</option>
                                      <option value="PUNJAB AND SIND BANK">PUNJAB AND SIND BANK</option>
                                      <option value="PUNJAB NATIONAL BANK">PUNJAB NATIONAL BANK</option>
                                      <option value="RESERVE BANK OF INDIA">RESERVE BANK OF INDIA</option>
                                      <option value="SOUTH INDIAN BANK">SOUTH INDIAN BANK</option>
                                      <option value="UNITED BANK OF INDIA">UNITED BANK OF INDIA</option>
                                      <option value="CENTRAL BANK OF INDIA">CENTRAL BANK OF INDIA</option>
                                      <option value="VIJAYA BANK">VIJAYA BANK</option>
                                      <option value="DENA BANK">DENA BANK</option>
                                      <option value="BHARATIYA MAHILA BANK LIMITED">BHARATIYA MAHILA BANK LIMITED</option>
                                      <option value="FEDERAL BANK LTD">FEDERAL BANK LTD</option>
                                      <option value="HDFC BANK LTD">HDFC BANK LTD</option>
                                      <option value="ICICI BANK LTD">ICICI BANK LTD</option>
                                      <option value="IDBI BANK LTD">IDBI BANK LTD</option>
                                      <option value="PAYTM BANK">PAYTM BANK</option>
                                      <option value="FINO PAYMENT BANK">FINO PAYMENT BANK</option>
                                      <option value="INDUSIND BANK LTD">INDUSIND BANK LTD</option>
                                      <option value="KARNATAKA BANK LTD">KARNATAKA BANK LTD</option>
                                      <option value="KOTAK MAHINDRA BANK">KOTAK MAHINDRA BANK</option>
                                      <option value="YES BANK LTD">YES BANK LTD</option>
                                      <option value="SYNDICATE BANK">SYNDICATE BANK</option>
                                      <option value="BANK OF INDIA">BANK OF INDIA</option>
                                      <option value="BANK OF MAHARASHTRA">BANK OF MAHARASHTRA</option>
                                      <option value="Others">Others</option>
                                    </select>
                                  </div>
                            </div>
                            <div class="col-sm-3">
                                <div id="extrafees_other_bank_name">
    
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12">
                                <div class="mb-3">
                                    <label for="extrafees_remark" class="">Remarks</label>
                                    <input type="text" class="" id="extrafees_remark">
                                  </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-3">
                                <div class="mb-3">
                                    <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="saveextrafees($('#extrafees_student_id').val())">Save</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="RefundFeesModal" tabindex="-1" aria-labelledby="RefundFeesModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="RefundFeesLabel">Refund Fees <input type="text" id="refund_fees_student_id" style="visibility: visible;"></h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="refund_fees_body">
                    <div class="container" id="refund_fees_output">
    
                    </div>
                    <div class="container">
                        <div class="row">
                            <div class="col-3">
                                <div class="mb-3">
                                    <label for="refund_fees_amount" class="">Amount</label>
                                    <input type="number" class="" id="refund_fees_amount">
                                  </div>
                            </div>
                            <div class="col-3">
                                <div class="mb-3">
                                    <label for="refund_fees_payment_type" class="">Payment Type</label>
                                    <select class="" aria-label="Default select example" id="refund_fees_payment_type">
                                        <option value="Full Payment">Full Payment</option>
                                        <option value="Part Payment">Part Payment</option>
                                        <option value="Dues">Dues</option>
                                      </select>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-4">
                                <div class="mb-3">
                                    <label for="refund_fees_semyear" class="">Year / Semester</label>
                                    <select class="" aria-label="Default select example" id="refund_fees_semyear">
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                        <option value="5">5</option>
                                        <option value="6">6</option>
                                        <option value="7">7</option>
                                        <option value="8">8</option>
                                      </select>
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="mb-3">
                                    <label for="refund_fees_transactiondate" class="">Transaction Date</label>
                                    <input type="date" class="" id="refund_fees_transactiondate">
                                  </div>
                            </div>
                            <div class="col-4">
                                <div class="mb-3">
                                    <label for="refund_fees_payment_mode" class="">Payment Mode</label>
                                    <select class="" name="refund_fees_payment_mode" id="refund_fees_payment_mode" aria-label="Default select example">
                                    <option selected>Select</option>
                                    <option value="Cash Deposited in the Bank">Cash Deposited in the Bank</option>
                                    <option value="Cheque">Cheque</option>
                                    <option value="CASH">CASH</option>
                                    <option value="NEFT">NEFT</option>
                                    <option value="RTGS">RTGS</option>
                                    <option value="IMPS">IMPS</option>
                                    <option value="UPI">UPI</option>
                                    <option value="GPAY">GPAY</option>
                                    <option value="EaseBuzz">EaseBuzz</option>
                                    <option value="PL/PG">PL/PG</option>
                                    </select>
                                  </div>
                            </div>                        
                        </div>
                        <div class="row">
                            <div class="col-4">
                                <div class="mb-3">
                                    <label for="refund_fees_chequeno" class="">Cheque/DD/CC Number</label>
                                    <input type="text" class="" id="refund_fees_chequeno">
                                  </div>
                            </div>
                            <div class="col-4">
                                <div class="mb-3">
                                    <label for="refund_fees_bank_name" class="">Bank Name</label>
                                    <select class="" name="refund_fees_bank_name" id="refund_fees_bank_name" aria-label="Default select example">
                                      <option selected value=" ">--Select --</option>
                                      <option value="ALLAHABAD BANK">ALLAHABAD BANK</option>
                                      <option value="ANDHRA BANK">ANDHRA BANK</option>
                                      <option value="AXIS BANK">AXIS BANK</option>
                                      <option value="STATE BANK OF INDIA">STATE BANK OF INDIA</option>
                                      <option value="BANK OF BARODA">BANK OF BARODA</option>
                                      <option value="UCO BANK">UCO BANK</option>
                                      <option value="UNION BANK OF INDIA">UNION BANK OF INDIA</option>
                                      <option value="BANK OF INDIA">BANK OF INDIA</option>
                                      <option value="BANDHAN BANK LIMITED">BANDHAN BANK LIMITED</option>
                                      <option value="CANARA BANK">CANARA BANK</option>
                                      <option value="GRAMIN VIKASH BANK">GRAMIN VIKASH BANK</option>
                                      <option value="CORPORATION BANK">CORPORATION BANK</option>
                                      <option value="INDIAN BANK">INDIAN BANK</option>
                                      <option value="INDIAN OVERSEAS BANK">INDIAN OVERSEAS BANK</option>
                                      <option value="ORIENTAL BANK OF COMMERCE">ORIENTAL BANK OF COMMERCE</option>
                                      <option value="PUNJAB AND SIND BANK">PUNJAB AND SIND BANK</option>
                                      <option value="PUNJAB NATIONAL BANK">PUNJAB NATIONAL BANK</option>
                                      <option value="RESERVE BANK OF INDIA">RESERVE BANK OF INDIA</option>
                                      <option value="SOUTH INDIAN BANK">SOUTH INDIAN BANK</option>
                                      <option value="UNITED BANK OF INDIA">UNITED BANK OF INDIA</option>
                                      <option value="CENTRAL BANK OF INDIA">CENTRAL BANK OF INDIA</option>
                                      <option value="VIJAYA BANK">VIJAYA BANK</option>
                                      <option value="DENA BANK">DENA BANK</option>
                                      <option value="BHARATIYA MAHILA BANK LIMITED">BHARATIYA MAHILA BANK LIMITED</option>
                                      <option value="FEDERAL BANK LTD">FEDERAL BANK LTD</option>
                                      <option value="HDFC BANK LTD">HDFC BANK LTD</option>
                                      <option value="ICICI BANK LTD">ICICI BANK LTD</option>
                                      <option value="IDBI BANK LTD">IDBI BANK LTD</option>
                                      <option value="PAYTM BANK">PAYTM BANK</option>
                                      <option value="FINO PAYMENT BANK">FINO PAYMENT BANK</option>
                                      <option value="INDUSIND BANK LTD">INDUSIND BANK LTD</option>
                                      <option value="KARNATAKA BANK LTD">KARNATAKA BANK LTD</option>
                                      <option value="KOTAK MAHINDRA BANK">KOTAK MAHINDRA BANK</option>
                                      <option value="YES BANK LTD">YES BANK LTD</option>
                                      <option value="SYNDICATE BANK">SYNDICATE BANK</option>
                                      <option value="BANK OF INDIA">BANK OF INDIA</option>
                                      <option value="BANK OF MAHARASHTRA">BANK OF MAHARASHTRA</option>
                                      <option value="Others">Others</option>
                                    </select>
                                  </div>
                            </div>
                            <div class="col-4">
                                <div id="refund_fees_other_bank_name">
    
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="mb-3">
                                    <label for="refund_fees_remark" class="">Remarks</label>
                                    <input type="text" class="" id="refund_fees_remark">
                                  </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="save_refund_fees($('#refund_fees_student_id').val())">Save</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="EditFeesmodal" tabindex="-1" aria-labelledby="EditFeesmodalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="EditFeesmodalLabel">Edit Fees <input type="text" id="editpaymentreciept_paymentrecieptID"> </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="container" id="edit_fees_body">
                        <div class="row">
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <label for="editpaymentreciept_semyear" class="">Year / Semester</label>
                                    <input type="text" name="editpaymentreciept_semyear" class="" id="editpaymentreciept_semyear">
                                  </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <label for="editpaymentreciept_session" class="">Session</label>
                                    <select class="" name="editpaymentreciept_session" id="editpaymentreciept_session" aria-label="Default select example">
                                      <option selected>Select Session</option>
                                      <option value="Summer 2017">Summer 2017</option>
                                      <option value="winter 2017">winter 2017</option>
                                      <option value="Summer 2018">Summer 2018</option>
                                      <option value="winter 2018">winter 2018</option>
                                      <option value="Summer 2019">Summer 2019</option>
                                      <option value="winter 2019">winter 2019</option>
                                      <option value="Summer 2020">Summer 2020</option>
                                      <option value="winter 2020">winter 2020</option>
                                      <option value="Summer 2021">Summer 2021</option>
                                      <option value="winter 2021">winter 2021</option>
                                      <option value="Summer 2022">Summer 2022</option>
                                      <option value="winter 2022">winter 2022</option>
                            
                            
                                    </select>
                                  </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <label for="editpaymentreciept_feesreciept_type" class="">Fees Reciept Type</label>
                                    <select class="" name="editpaymentreciept_feesreciept_type" id="editpaymentreciept_feesreciept_type" aria-label="Default select example">
                                      <option selected>Select</option>
                                      <option value="New">New</option>
                                      <option value="Dues">Dues</option>
                                      <option value="RR">RR</option>
                                      <option value="RS">RS</option>
                                      <option value="EF">EF</option>
                                      <option value="Others">Others</option>
                                    </select>
                                  </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <label for="editpaymentreciept_date_of_transaction" class="">Transaction Date</label>
                                    <input type="date" name="editpaymentreciept_date_of_transaction" class="" id="editpaymentreciept_date_of_transaction">
                                  </div>
                            </div>
                            
                        </div>
                        <div class="row">
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <label for="editpaymentreciept__payment_for" class="">Payment For</label>
                                    <select class="" aria-label="Default select example" id="editpaymentreciept__payment_for">
                                        <option value="Course Fees">Course Fees</option>
                                        <option value="Tution Fees">Tution Fees</option>
                                        <option value="Re-Registration Fees">Re-Registration Fees</option>
                                        <option value="Examination Fees">Examination Fees</option>
                                        <option value="Degree Fee">Degree Fee</option>
                                        <option value="Migration Fee">Migration Fee</option>
                                        <option value="Leaving Certificate">Leaving Certificate</option>
                                        <option value="Transfer Certificate">Transfer Certificate</option>
                                        <option value="Provisional Degree/Certificate Fee">Provisional Degree/Certificate Fee</option>
                                        <option value="Late Fee">Late Fee</option>
                                        <option value="Tuition Fee">Tuition Fee</option>
                                        <option value="Entrance Fee">Entrance Fee</option>
                                        <option value="LOR">LOR</option>
                                        <option value="Transcript Fee">Transcript Fee</option>
                                        <option value="Bonafide Certificate">Bonafide Certificate</option>
                                        <option value="Verification Fee">Verification Fee</option>
                                        <option value="WES Verification Fee">WES Verification Fee</option>
                                        <option value="Other Fee (Type Manually Option)">Other Fee (Type Manually Option)</option>
                                      </select>
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <label for="editpaymentreciept__payment_type" class="">Payment Type</label>
                                    <select class="" aria-label="Default select example" id="editpaymentreciept__payment_type">
                                        <option value="Full Payment">Full Payment</option>
                                        <option value="Part Payment">Part Payment</option>
                                        <option value="Dues">Dues</option>
                                      </select>
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <label for="editpaymentreciept_total_fees" class="">Total Fees</label>
                                    <input type="text" class="" readonly id="editpaymentreciept_total_fees" >
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <label for="editpaymentreciept_paid_fees" class="">Paid Fees</label>
                                    <input type="text" class="" id="editpaymentreciept_paid_fees" >
                                </div>
                            </div>
                            
                        </div>
                        <div class="row">
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <label for="editpaymentreciept_advance_fees" class="">Advance Fees</label>
                                    <input type="text" class="" id="editpaymentreciept_advance_fees" >
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <label for="editpaymentreciept_pending_fees" class="">Pending Fees</label>
                                    <input type="text" class="" id="editpaymentreciept_pending_fees" >
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <label for="editpaymentreciept_payment_mode" class="">Payment Mode</label>
                                    <select class="" name="editpaymentreciept_payment_mode" id="editpaymentreciept_payment_mode" aria-label="Default select example">
                                      <option selected>Select</option>
                                      <option value="Cash Deposited in the Bank">Cash Deposited in the Bank</option>
                                      <option value="Cheque">Cheque</option>
                                      <option value="CASH">CASH</option>
                                      <option value="NEFT">NEFT</option>
                                      <option value="RTGS">RTGS</option>
                                      <option value="IMPS">IMPS</option>
                                      <option value="UPI">UPI</option>
                                      <option value="GPAY">GPAY</option>
                                      <option value="EaseBuzz">EaseBuzz</option>
                                      <option value="PL/PG">PL/PG</option>
                                    </select>
                                  </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <label for="editpaymentreciept_cheque_no" class="">Cheque/DD/CC Number (Optional)</label>
                                    <input type="text" name="editpaymentreciept_cheque_no" class="" id="editpaymentreciept_cheque_no">
                                  </div>
                            </div>
                            
                            
                        </div>
                        <div class="row">
                            <div class="col-sm-3">
                                <div class="mb-3">
                                    <label for="editpaymentreciept_bank_name" class="">Bank Name</label>
                                    <select class="" name="editpaymentreciept_bank_name" id="editpaymentreciept_bank_name" aria-label="Default select example">
                                      <option selected value=" ">--Select --</option>
                                      <option value="ALLAHABAD BANK">ALLAHABAD BANK</option>
                                      <option value="ANDHRA BANK">ANDHRA BANK</option>
                                      <option value="AXIS BANK">AXIS BANK</option>
                                      <option value="STATE BANK OF INDIA">STATE BANK OF INDIA</option>
                                      <option value="BANK OF BARODA">BANK OF BARODA</option>
                                      <option value="UCO BANK">UCO BANK</option>
                                      <option value="UNION BANK OF INDIA">UNION BANK OF INDIA</option>
                                      <option value="BANK OF INDIA">BANK OF INDIA</option>
                                      <option value="BANDHAN BANK LIMITED">BANDHAN BANK LIMITED</option>
                                      <option value="CANARA BANK">CANARA BANK</option>
                                      <option value="GRAMIN VIKASH BANK">GRAMIN VIKASH BANK</option>
                                      <option value="CORPORATION BANK">CORPORATION BANK</option>
                                      <option value="INDIAN BANK">INDIAN BANK</option>
                                      <option value="INDIAN OVERSEAS BANK">INDIAN OVERSEAS BANK</option>
                                      <option value="ORIENTAL BANK OF COMMERCE">ORIENTAL BANK OF COMMERCE</option>
                                      <option value="PUNJAB AND SIND BANK">PUNJAB AND SIND BANK</option>
                                      <option value="PUNJAB NATIONAL BANK">PUNJAB NATIONAL BANK</option>
                                      <option value="RESERVE BANK OF INDIA">RESERVE BANK OF INDIA</option>
                                      <option value="SOUTH INDIAN BANK">SOUTH INDIAN BANK</option>
                                      <option value="UNITED BANK OF INDIA">UNITED BANK OF INDIA</option>
                                      <option value="CENTRAL BANK OF INDIA">CENTRAL BANK OF INDIA</option>
                                      <option value="VIJAYA BANK">VIJAYA BANK</option>
                                      <option value="DENA BANK">DENA BANK</option>
                                      <option value="BHARATIYA MAHILA BANK LIMITED">BHARATIYA MAHILA BANK LIMITED</option>
                                      <option value="FEDERAL BANK LTD">FEDERAL BANK LTD</option>
                                      <option value="HDFC BANK LTD">HDFC BANK LTD</option>
                                      <option value="ICICI BANK LTD">ICICI BANK LTD</option>
                                      <option value="IDBI BANK LTD">IDBI BANK LTD</option>
                                      <option value="PAYTM BANK">PAYTM BANK</option>
                                      <option value="FINO PAYMENT BANK">FINO PAYMENT BANK</option>
                                      <option value="INDUSIND BANK LTD">INDUSIND BANK LTD</option>
                                      <option value="KARNATAKA BANK LTD">KARNATAKA BANK LTD</option>
                                      <option value="KOTAK MAHINDRA BANK">KOTAK MAHINDRA BANK</option>
                                      <option value="YES BANK LTD">YES BANK LTD</option>
                                      <option value="SYNDICATE BANK">SYNDICATE BANK</option>
                                      <option value="BANK OF INDIA">BANK OF INDIA</option>
                                      <option value="BANK OF MAHARASHTRA">BANK OF MAHARASHTRA</option>
                                      <option value="Others">Others</option>
                                    </select>
                                  </div>
                            </div>
                            <div class="col-sm-3">
                                <div id="editpaymentreciept_other_bank"  class="mb-3">
    
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="mb-3">
                                    <label for="editpaymentreciept_remarks" class="">Remarks</label>
                                    <input type="text" name="remarks" class="" id="editpaymentreciept_remarks">
                                  </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12">
                                <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="Save_PaymentReciept()">Save</button>
                            </div>
                        </div>
                    </div>
                    
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="NextSemYearmodal" tabindex="-1" aria-labelledby="NextSemYearmodalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="NextSemYearmodalLabel">Enroll Next Semester <input type="text" id="enroll_next_semester_student_id" style="visibility:hidden;"> </h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="container" id="nextsemyear_body">
                        
                    </div>
                    
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>


    <div class="modal fade" id="ShowBasicDocumentsModal" tabindex="-1" aria-labelledby="ShowBasicDocumentsModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="ShowBasicDocumentsModalLabel">Basic Documents <input type="text" id="enroll_next_semester_student_id" style="visibility:hidden;"> </h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="container" id="show_basic_documents_modal">
                        
                    </div>
                    
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="ShowPersonalDocumentModal" tabindex="-1" aria-labelledby="ShowPersonalDocumentModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="ShowPersonalDocumentModalLabel">Personal Documents </h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="container" id="show_personal_document_images">
                        
                    </div>
                    
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="EnrolledSuccessmodal" tabindex="-1" aria-labelledby="EnrolledSuccessmodalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="EnrolledSuccessmodalLabel">Enroll Success <input type="text" id="enroll_next_semester_student_id"> </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="container" id="EnrolledSuccess_body">
                        
                    </div>
                    
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="CancelStudentEnrollmentModal" tabindex="-1" aria-labelledby="CancelStudentEnrollmentModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="CancelStudentEnrollmentModalLabel">Cancel Student Enrollment</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="CancelStudentEnrollment_modal_body">
                    <div class="container" id="CancelStudentEnrollment_modal_data">
                        <table class="table format-table table-bordered">
                            <thead>
                              <tr>
                                <th scope="col">Name</th>
                                <th scope="col">Mobile</th>
                                <th scope="col">Email</th>
                                <th scope="col">Enrolled</th>                           
                                <th scope="col">Active</th>
                              </tr>
                            </thead>
                            <tbody id="CancelStudentEnrollment_table_body">
                            </tbody>
                          </table>
                        <div class="row">
                            <div class="col-3">
                                <h2 class="font-18 font-normal">Student Status</h2>
                            </div>
                            <div class="col-3">
                                <select class="" id="cancel_student_status" aria-label="Default select example">
                                    <option selected>Select</option>
                                    <option value="In-Active">In-Active</option>
                                </select>
                            </div>
                            <div class="col-2">
                                <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="save_cancel_student($('#cancel_student_id').val())">Update</button>
                            </div>
                            <div class="col-4">
                                <input type="text" class="" id="cancel_student_id">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="SendRecieptModal" tabindex="-1" aria-labelledby="SendRecieptModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="SendRecieptModalLabel">Send Reciept <input type="text" id="send_reciept_student_id"> </h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="SendReciept_modal_body">
                    <div class="" id="main_content">
                        
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    
    <div class="modal fade" id="show_profile_pic" tabindex="-1" aria-labelledby="show_profile_picLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-20 text-darkblue font-bold" id="show_profile_picLabel">Profile Picture</h5>
                    <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="profile_pic_body">
                    <embed id="profile_pic_data" frameborder="0" type="application/pdf" width="100%" height="400px">
                </div>
                <div class="modal-footer">
                    <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div id="download_payment_reciept">
        
    </div>
</div>



  {% endblock body %}


  {% block script %}
<script>
    function format(d) {
        console.log(d)
        // `d` is the original data object for the row
        return '<table class="nozebra-table">' +
            '<tr>' +
            '<td class="font-14 text-extralightgray px-2 text-right width-15 ">Account:</td>' +
            '<td class="font-14 text-extralightgray px-2 text-left "> <button class="blue-bg text-blue font-bold font-12 no-border mt-2" name="feebutton" onclick="FeesBtn(' + d.enrollment_id + ')" value=' + d.enrollment_id + ' type="submit">Fees</button> <button class="blue-bg text-blue font-bold font-12 no-border mt-2" name="feebutton" onclick="ExtraFees(' + d.enrollment_id + ')" value=' + d.enrollment_id + ' type="submit">Additional Fees</button> <button class="blue-bg text-blue font-bold font-12 no-border mt-2" name="RefundFees" onclick="RefundFees(' + d.enrollment_id + ')" value=' + d.enrollment_id + ' type="submit">Refund</button> <button class="blue-bg text-blue font-bold font-12 no-border mt-2" name="idcard" onclick="IDCard(' + d.enrollment_id + ')" value=' + d.enrollment_id + ' type="submit">ID Card</button> <button class="blue-bg text-blue font-bold font-12 no-border mt-2" name="feebutton" onclick="RequestFees(' + d.enrollment_id + ')"  value=' + d.enrollment_id + ' type="submit">Request Fees</button>  <button class="blue-bg text-blue font-bold font-12 no-border mt-2" name="feebutton" onclick="ResultUploaded(' + d.enrollment_id + ')"  value=' + d.enrollment_id + ' type="submit">Result Uploaded</button>  <button class="blue-bg text-blue font-bold font-12 no-border mt-2" name="feebutton" onclick="UniversityExamFees(' + d.enrollment_id + ')" value=' + d.enrollment_id + ' type="submit">University Exam Fee</button>  <button class="blue-bg text-blue font-bold font-12 no-border mt-2" name="feebutton" onclick="UniversityReRegistration(' + d.enrollment_id + ')" value=' + d.enrollment_id + ' type="submit">University Re-Registration</button>  <button class="blue-bg text-blue font-bold font-12 no-border mt-2" name="feebutton" onclick="PersonalDocuments(' + d.enrollment_id + ')" value=' + d.enrollment_id + ' type="submit">Personal Documents</button> <button class="blue-bg text-blue font-bold font-12 no-border mt-2" name="feebutton" onclick="Syllabus(' + d.enrollment_id + ')" value=' + d.enrollment_id + ' type="submit">Syllabus</button>  <button class="blue-bg text-blue font-bold font-12 no-border mt-2" name="feebutton" onclick="Documents(' + d.enrollment_id + ')" value=' + d.enrollment_id + ' type="submit">Qualification Documents</button>   <button class="blue-bg text-blue font-bold font-12 no-border mt-2" name="remarks" onclick="GetRemarks(' + d.enrollment_id + ')" value=' + d.enrollment_id + ' type="submit">Remarks</button>  <button class="blue-bg text-blue font-bold font-12 no-border mt-2" name="remarks" onclick="SendReciept(' + d.enrollment_id + ')" value=' + d.enrollment_id + ' type="submit">Send Reciept</button>    </td>' +
            '</tr>' +
            '<tr>' +
            '<td class="font-14 text-extralightgray px-2 text-right width-15 ">Extra:</td>' +
            '<td class="font-14 text-extralightgray px-2 text-left "> <button class="blue-bg text-blue font-bold font-12 no-border mt-2" name="feebutton" onclick="NewUniversityEnrollmentNumber(' + d.enrollment_id + ')" value=' + d.enrollment_id + ' type="submit">New University Enrollment NO</button>   <button class="blue-bg text-blue font-bold font-12 no-border mt-2" name="feebutton" onclick="OldUniversityEnrollmentNumber(' + d.enrollment_id + ')" value=' + d.enrollment_id + ' type="submit">Old University Enrollment No</button> <button class="blue-bg text-blue font-bold font-12 no-border mt-2" name="feebutton" onclick="CourierData(' + d.enrollment_id + ')" value=' + d.enrollment_id + ' type="submit">Courier Data</button> <button class="blue-bg text-blue font-bold font-12 no-border mt-2" name="feebutton" onclick="PaymentGateway(' + d.enrollment_id + ')" value=' + d.enrollment_id + ' type="submit">Payment Gateway</button> <button class="blue-bg text-blue font-bold font-12 no-border mt-2" name="sendremainder" onclick="SendRemainder(' + d.enrollment_id + ')" value=' + d.enrollment_id + ' type="submit">Send Reminder</button> <button class="blue-bg text-blue font-bold font-12 no-border mt-2" name="UpdatePayment" onclick="UpdatePayment(' + d.enrollment_id + ')" value=' + d.enrollment_id + ' type="submit">Update Payment</button>  <button class="blue-bg text-blue font-bold font-12 no-border mt-2" name="UpdatePayment" onclick="ShowProfilePic(' + d.enrollment_id + ')" value=' + d.enrollment_id + ' type="submit">Profile Image</button> </td>' +
            '</tr>' +
            '<tr>' +
                '<td class="font-14 text-extralightgray px-2 text-right ">Action:</td>' +
                '<td class="font-14 text-extralightgray px-2 text-left "> <button class="blue-bg text-blue font-bold font-12 no-border mt-2 mt-2"  onclick="EnrollNextSemester(' + d.enrollment_id + ')" value=' + d.enrollment_id + ' type="submit">Enroll To Next Semester / Year</button>  <button class="blue-bg text-blue font-bold font-12 no-border mt-2"  onclick="CancelEnrollment(' + d.enrollment_id + ')" value=' + d.enrollment_id + ' type="submit">Cancel Student Enrollment</button> </td>'+
            '</tr>' +
            '</table>';
    }
 
$(document).ready(function() {
  $('#dashboard-collapse').addClass("show");
  $("#pending_verification_link").removeClass("link-dark");
  $('#pending_verification_link').addClass("link-primary");
    var received_data = "{{allstudents|safe}}";
    console.log(received_data);

    var table = $('#example').DataTable( {
        "ordering": false,
        "ajax": "/registered_api/",
        "columns": [
            {
                "className":      'dt-control text-wrap',
                "orderable":      false,
                "data":           null,
                "defaultContent": ''
            },
            { "data": "current_semester" },
            { "data": "enrollment_id" },
            /*{ "data": "registration_id" },*/
            { "data": "name" },
            { "data": "university" },
            { "data": "is_quick_register" },
            { "data": "course_pattern" },
            { "data": "entry_mode" },
            { "data": "enrollment_date" },
            {
                "data": null,
                "render": function(data, type, row, meta) {
                    return `
                        <div class="d-flex">
                        <a href="/showstudentform/${row.enrollment_id}" target="blank" class="px-2" title="Print Candidate Details"><img src="{% static 'dict/images/print-receipt.png' %}" class="resizeimg" alt="View Details"></a>
                        <a href="/documentmanagement/${row.enrollment_id}" class="px-2" title="Document Management"><img src="{% static 'dict/images/attachments.png' %}" class="resizeimg" alt="View Attachments"></a>
                        <a href="#" class="px-2" title="Fee Summary"><img src="{% static 'dict/images/rupee.png' %}" class="resizeimg" alt="View Details"></a>
                        </div>
                    `;
                }
            },
            
        ],
        "order": [[1, 'asc']]
    } );
     
    // Add event listener for opening and closing details
    $('#example tbody').on('click', 'td.dt-control', function () {
        var tr = $(this).closest('tr');
        var row = table.row( tr );
        // var dataSet = JSON.parse( '{{dataSet | escapejs }}');
        
        if ( row.child.isShown() ) {
            // This row is already open - close it
            row.child.hide();
            tr.removeClass('shown');
        }
        else {
            // Open this row
            row.child( format(row.data()) ).show();
            tr.addClass('shown');
        }
    } );
} );






function print_reciept(){
  window.print();
}


</script> 

<script>
     $(function() {
    $("#commonfees_bank_name").change(function() {
        var selected_option = $('option:selected', this).text()
        if(selected_option == "Others"){
          console.log("yes other")  
          $('#other_bank_name').css('visibility','visible');
          $('#other_bank_name').append(`
            <div class="mb-3">
              <label for="commonfees_other_bank" class="">Enter Bank Name</label>
              <input type="text" name="commonfees_other_bank" class="" id="commonfees_other_bank">
            </div>
          `);
        }
        else{
          console.log("no other")  
          $('#other_bank_name').empty();
          $('#other_bank_name').css('visibility','hidden');
        }
        });
    });


    $(function() {
    $("#extrafees_bank_name").change(function() {
        var selected_option = $('option:selected', this).text()
        if(selected_option == "Others"){
          console.log("yes other")  
          $('#extrafees_other_bank_name').css('visibility','visible');
          $('#extrafees_other_bank_name').append(`
            <div class="mb-3">
              <label for="extrafees_other_bank" class="">Enter Bank Name</label>
              <input type="text" name="extrafees_other_bank" class="" id="extrafees_other_bank">
            </div>
          `);
        }
        else{
          console.log("no other")  
          $('#extrafees_other_bank_name').empty();
          $('#extrafees_other_bank_name').css('visibility','hidden');
        }
        });
    });

    $(function() {
    $("#refund_fees_bank_name").change(function() {
        var selected_option = $('option:selected', this).text()
        if(selected_option == "Others"){
          console.log("yes other")  
          $('#refund_fees_other_bank_name').css('visibility','visible');
          $('#refund_fees_other_bank_name').append(`
            <div class="mb-3">
              <label for="refund_fees_other_bank" class="">Enter Bank Name</label>
              <input type="text" name="refund_fees_other_bank" class="" id="refund_fees_other_bank">
            </div>
          `);
        }
        else{
          console.log("no other")  
          $('#refund_fees_other_bank_name').empty();
          $('#refund_fees_other_bank_name').css('visibility','hidden');
        }
        });
    });
    
    
    $(function() {
    $("#extrafees_payment_for").change(function() {
        var selected_option = $('option:selected', this).text()
        if(selected_option == "Other Fee (Type Manually Option)"){
          console.log("yes other")  
          $('#extrafees_others_payment_for').css('visibility','visible');
          $('#extrafees_others_payment_for').append(`
            <div class="mb-3">
              <label for="extrafees_others_payment" class="">Other Payment For</label>
              <input type="text" name="extrafees_others_payment" class="" id="extrafees_others_payment">
            </div>
          `);
        }
        else{
          console.log("no other")  
          $('#extrafees_others_payment_for').empty();
          $('#extrafees_others_payment_for').css('visibility','hidden');
        }
        });
    });
</script>

<script language="JavaScript">
    function FeesBtn(id) {
        if (id) {
            $.ajax({ // create an AJAX call...
                data: {
                    'get_fees': id
                }, // get the form data
                type: 'POST', // GET or POST
                headers: { 'X-CSRFToken': '{{ csrf_token }}' },
                url: "{% url 'registered_get_fees' %}", // the file to call
                success: function (response) {  
                    console.log(response)
                    $('#fees_add_data_id').val('');
                    $('#fees_add_data_id').val(response.student_id);
                    var fees = response.fees

                    if (fees) {
                        $('#fees_modal_head').empty();
                        $('#fees_modal_head').append(`
                        
                            <tr>
                                <th scope="col">Sr.No</th>
                                <th scope="col">Year/Sem</th>
                                <th scope="col">Payment Categories</th>
                                <th scope="col">Payment Type</th>
                                <th scope="col">Session</th>
                                <th scope="col">Transaction Date</th>
                                <th scope="col">Mode</th>
                                <th scope="col">No</th>
                                <th scope="col">Total Fees</th>
                                <th scope="col">Paid Amount</th>
                                <th scope="col">Advance Amount</th>
                                <th scope="col">Pending Amount</th>
                                <th scope="col">Payment Status</th>
                                <th scopt="col">View Reciept</th>
                                <th scopt="col">Edit Reciept</th>
                                
                            </tr>

                        `);

                        $('#table_body').empty();
                        fees.forEach(myFunction);
                        var count = 0;
                        function myFunction(item, count) {
                            console.log(item)
                            count = count + 1;
                            var transaction_date = item.transaction_date;
                            console.log("transaction date : ",transaction_date)
                            var datePart = transaction_date.match(/\d+/g),
                            year = datePart[0].substring(0), // get only two digits
                            month = datePart[1], day = datePart[2];
                            console.log("datePart : ",datePart)
                            console.log("year : ",year)
                            console.log("month : ",month)
                            
                            var changedate =  day+'/'+month+'/'+year;
                            console.log("changedate : ",changedate)
                            if (item.paymentmode == "Cheque") {
                                
                                $('#table_body').append(`
                                <tr>
                                    <th scope="row">${count}</th>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.semyear}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.payment_categories}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.payment_type}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center "> ${item.session} </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${changedate}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.paymentmode}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.cheque_no}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.semyearfees}  </td>
                                    <tdclass="font-14 text-extralightgray px-2 text-center " >  ${item.paidamount}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.advanceamount}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.pendingamount}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.status}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  <button class="blue-bg text-blue font-bold font-12 no-border" onclick="viewPaymentReciept(${item.id})" >View</button>  </td> 
                                    <td class="font-14 text-extralightgray px-2 text-center ">  <button class="blue-bg text-blue font-bold font-12 no-border" onclick="editPaymentReciept(${item.id})" >Edit</button>  </td>                                  
                                </tr>`)
                            }
                            else {
                                $('#table_body').append(`
                                <tr>
                                    <th scope="row">${count}</th>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.semyear}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.payment_categories}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.payment_type}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center "> ${item.session} </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${changedate}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.paymentmode}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  NA </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.semyearfees}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.paidamount}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.advanceamount}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.pendingamount}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.status}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="viewPaymentReciept(${item.id})" >View</button>  </td> 
                                    <td class="font-14 text-extralightgray px-2 text-center ">  <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="editPaymentReciept(${item.id})" >Edit</button>  </td>  
                                </tr>`)
                            }

                        }
                        $('#feespaidmodal').modal('show');

                    }


                }
            });
        }

    }
    function viewPaymentReciept(id){
        $.ajax({ // create an AJAX call...
                data: {
                    'getpayment_reciept': id
                }, // get the form data
                type: 'POST', // GET or POST
                headers: { 'X-CSRFToken': '{{ csrf_token }}' },
                url: "{% url 'registered_view_fees' %}", // the file to call
                success: function (response) {  
                    console.log(response)
                    var transaction_date = response.view_reciept.transaction_date;
                    var datePart = transaction_date.match(/\d+/g),
                    year = datePart[0].substring(0), // get only two digits
                    month = datePart[1], day = datePart[2];

                    var changedate =  day+'/'+month+'/'+year;
                    // console.log("View Payment Reciept :",id)
                    $('#reciept_modal_body').empty();
                    
                    $('#reciept_modal_body').html(`
                    <div class="page-content container print_form">
                        <div class="page-header text-blue-d2">
                            <h1 class="page-title text-secondary-d1">
                                Reciept
                                <small class="page-info">
                                    <i class="fa fa-angle-double-right text-80"></i>
                                    ID: `+response.view_reciept.transactionID+`
                                </small>
                            </h1>

                            <div class="page-tools">
                                <div class="action-buttons">
                                    <a class="btn bg-white btn-light mx-1px text-95 print_button" href="#" data-title="Print" id="print_button" onclick="print_screen()">
                                        <i class="mr-1 fa fa-print text-primary-m1 text-120 w-2 print_button"></i>
                                        Print
                                    </a>
                                </div>
                            </div>
                        </div>

                        <div class="container px-0">
                            <div class="row mt-4">
                                <div class="col-12 col-lg-12">

                                    <div class="row">
                                        <div class="col-sm-6">
                                            <div>
                                                <span class="text-sm text-grey-m2 align-middle">To:</span>
                                                <span class="text-600 text-110 text-blue align-middle">`+response.personal.name+ `</span>
                                            </div>
                                            <div class="text-grey-m2">
                                                <div class="my-1">
                                                    `+response.personal.address + ', ' + response.personal.city +`
                                                </div>
                                                <div class="my-1">
                                                    `+response.personal.state + ', ' + response.personal.country +`
                                                </div>
                                                <div class="my-1"><i class="fa fa-phone fa-flip-horizontal text-secondary"></i> <b class="text-600">`+response.personal.mobile+`</b></div>
                                                <div class="my-1"><i class="fas fa-envelope  text-secondary"></i> <b class="text-600">`+response.personal.email+`</b></div>
                                            </div>
                                        </div>
                                        <!-- /.col -->

                                        <div class="text-95 col-sm-6 align-self-start d-sm-flex justify-content-end">
                                            <hr class="d-sm-none" />
                                            <div class="text-grey-m2">
                                                <div class="mt-1 mb-2 text-secondary-m1 text-600 text-125">
                                                    Invoice
                                                </div>

                                                <div class="my-2"><i class="fa fa-circle text-blue-m2 text-xs mr-1"></i> <span class="text-600 text-90">ID:</span> #`+response.view_reciept.transactionID+`</div>

                                                <div class="my-2"><i class="fa fa-circle text-blue-m2 text-xs mr-1"></i> <span class="text-600 text-90">Issue Date:</span> `+changedate+`</div>

                                                <div class="my-2"><i class="fa fa-circle text-blue-m2 text-xs mr-1"></i> <span class="text-600 text-90">Status:</span> Paid </div>
                                            </div>
                                        </div>
                                        <!-- /.col -->
                                    </div>

                                    <div class="mt-4">
                                        <div class="row text-600 text-white bgc-default-tp1 py-25">
                                            <div class="d-none d-sm-block col-2">Semester</div>
                                            <div class="col-9 col-sm-3">Paid Amount</div>
                                            <div class="col-9 col-sm-3">Pending Amount</div>
                                            <div class="d-none d-sm-block col-3 col-sm-2">Transaction Date</div>
                                            <div class="d-none d-sm-block col-sm-2">Mode</div>
                                        </div>

                                        <div class="text-95 text-secondary-d3">
                                            <div class="row mb-2 mb-sm-0 py-25">
                                                <div class="d-none d-sm-block col-2">`+response.view_reciept.semyear+`</div>
                                                <div class="col-9 col-sm-3">`+response.view_reciept.paidamount+`</div>
                                                <div class="col-9 col-sm-3">`+response.view_reciept.pendingamount+`</div>
                                                <div class="d-none d-sm-block col-2">`+changedate+`</div>
                                                <div class="d-none d-sm-block col-2 text-95">`+response.view_reciept.paymentmode+`</div>
                                            </div>

                                            
                                        </div>

                                        <div class="row border-b-2 brc-default-l2"></div>

                                  

                                        <hr />

                                        <div>
                                            <span class="text-secondary-d1 text-105">Thank you for your Payment</span>  
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    `);
                    $('#reciept_modal').modal('show');
                }
            });
    }
    function print_reciept(){
        window.print();
    }
    
    function ShowCommonFees(id){
        $.ajax({ // create an AJAX call...
                data: {
                    'show_common_fees': id
                }, // get the form data
                type: 'POST', // GET or POST
                headers: { 'X-CSRFToken': '{{ csrf_token }}' },
                url: "{% url 'registered_show_common_fees' %}", // the file to call
                success: function (response) { 
                    $('#fees_add_data_id').val('');
                    $('#fees_add_data_id').val(response.student_id);
                    var fees = response.fees

                    if (fees) {
                        $('#fees_modal_head').empty();
                        $('#fees_modal_head').append(`
                        
                            <tr>
                                <th scope="col">Sr.No</th>
                                <th scope="col">Year/Sem</th>
                                <th scope="col">Payment For</th>
                                <th scope="col">Payment Type</th>
                                <th scope="col">Session</th>
                                <th scope="col">Transaction Date</th>
                                <th scope="col">Mode</th>
                                <th scope="col">No</th>
                                <th scope="col">Paid Amount</th>
                                <th scope="col">Advance Amount</th>
                                <th scope="col">Pending Amount</th>
                                <th scope="col">Payment Status</th>
                                <th scopt="col">View Reciept</th>
                                <th scopt="col">Edit Reciept</th>
                                
                            </tr>

                        `);

                        $('#table_body').empty();
                        fees.forEach(myFunction);
                        var count = 0;
                        function myFunction(item, count) {
                            console.log(item)
                            count = count + 1;
                            var transaction_date = item.transaction_date;
                            var datePart = transaction_date.match(/\d+/g),
                            year = datePart[0].substring(0), // get only two digits
                            month = datePart[1], day = datePart[2];
                            var changedate =  day+'/'+month+'/'+year;
                            if (item.paymentmode == "Cheque") {
                                
                                $('#table_body').append(`
                                <tr>
                                    <th scope="row">${count}</th>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.semyear}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.payment_for}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.payment_type}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center "> ${item.session} </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${changedate}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.paymentmode}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.cheque_no}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.paidamount}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.advanceamount}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.pendingamount}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.status}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="viewPaymentReciept(${item.id})" >View</button>  </td> 
                                    <td class="font-14 text-extralightgray px-2 text-center ">  <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="editPaymentReciept(${item.id})" >Edit</button>  </td>                                  
                                </tr>`)
                            }
                            else {
                                $('#table_body').append(`
                                <tr>
                                    <th scope="row">${count}</th>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.semyear}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.payment_for}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.payment_type}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center "> ${item.session} </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${changedate}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.paymentmode}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  NA </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.paidamount}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.advanceamount}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.pendingamount}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.status}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="viewPaymentReciept(${item.id})" >View</button>  </td> 
                                    <td class="font-14 text-extralightgray px-2 text-center ">  <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="editPaymentReciept(${item.id})" >Edit</button>  </td>  
                                </tr>`)
                            }

                        }
                        

                    }

                }
            });
    }
    $(function() {
    $("#commonfees_payment_for").change(function() {
        var selected_option = $('option:selected', this).text()
        if(selected_option == "Other Fees"){
            $('#payment_for_other_column').css('visibility','visible');
        }
        else{
            $('#payment_for_other_column').css('visibility','hidden');
        }
        });
    });
    function ShowAdditionalFees(id){
        $.ajax({ // create an AJAX call...
                data: {
                    'show_additional_fees': id
                }, // get the form data
                type: 'POST', // GET or POST
                headers: { 'X-CSRFToken': '{{ csrf_token }}' },
                url: "{% url 'registered_show_additional_fees' %}", // the file to call
                success: function (response) { 
                    $('#fees_add_data_id').val('');
                    $('#fees_add_data_id').val(response.student_id);
                    var fees = response.fees

                    if (fees) {
                        $('#fees_modal_head').empty();
                        $('#fees_modal_head').append(`
                        
                            <tr>
                                <th scope="col">Sr.No</th>
                                <th scope="col">Year/Sem</th>
                                <th scope="col">Payment For</th>
                                <th scope="col">Payment Type</th>
                                <th scope="col">Session</th>
                                <th scope="col">Transaction Date</th>
                                <th scope="col">Mode</th>
                                <th scope="col">No</th>
                                <th scope="col">Paid Amount</th>
                                <th scope="col">Pending Amount</th>
                                <th scopt="col">View Reciept</th>
                                <th scopt="col">Edit Reciept</th>
                                
                            </tr>

                        `);

                        $('#table_body').empty();
                        fees.forEach(myFunction);
                        var count = 0;
                        function myFunction(item, count) {
                            console.log(item)
                            count = count + 1;
                            var transaction_date = item.transaction_date;
                            var datePart = transaction_date.match(/\d+/g),
                            year = datePart[0].substring(0), // get only two digits
                            month = datePart[1], day = datePart[2];
                            var changedate =  day+'/'+month+'/'+year;
                            if (item.paymentmode == "Cheque") {
                                
                                $('#table_body').append(`
                                <tr>
                                    <th scope="row">${count}</th>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.semyear}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.payment_for}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.payment_type}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center "> ${item.session} </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${changedate}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.paymentmode}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.cheque_no}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.paidamount}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.pendingamount}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="viewPaymentReciept(${item.id})" >View</button>  </td> 
                                    <td class="font-14 text-extralightgray px-2 text-center ">  <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="editPaymentReciept(${item.id})" >Edit</button>  </td>                                  
                                </tr>`)
                            }
                            else {
                                $('#table_body').append(`
                                <tr>
                                    <th scope="row">${count}</th>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.semyear}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.payment_for}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.payment_type}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center "> ${item.session} </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${changedate}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.paymentmode}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  NA </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.paidamount}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  ${item.pendingamount}  </td>
                                    <td class="font-14 text-extralightgray px-2 text-center ">  <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="viewPaymentReciept(${item.id})" >View</button>  </td> 
                                    <td class="font-14 text-extralightgray px-2 text-center ">  <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="editPaymentReciept(${item.id})" >Edit</button>  </td>  
                                </tr>`)
                            }

                        }
                        

                    }

                }
            });
    }



    function editPaymentReciept(id){
        console.log("id is : ",id)
        $.ajax({ // create an AJAX call...
                data: {
                    'editpayment_reciept': id
                }, // get the form data
                type: 'POST', // GET or POST
                headers: { 'X-CSRFToken': '{{ csrf_token }}' },
                url: "{% url 'registered_edit_payment_reciept' %}", // the file to call
                success: function (response) {  
                    console.log(response)
                    if(response.edit == "yes"){
                        $('#editpaymentreciept_paymentrecieptID').val(response.data.id);
                        $('#editpaymentreciept_semyear').val(response.data.semyear);
                        $('#editpaymentreciept_session').val(response.data.session);
                        $('#editpaymentreciept_feesreciept_type').val(response.data.fee_reciept_type);
                        $('#editpaymentreciept_date_of_transaction').val(response.data.transaction_date);
                        $('#editpaymentreciept__payment_for').val(response.data.payment_for);
                        $('#editpaymentreciept__payment_type').val(response.data.payment_type);
                        $('#editpaymentreciept_total_fees').val(response.data.semyearfees);
                        $('#editpaymentreciept_paid_fees').val(response.data.paidamount);
                        $('#editpaymentreciept_advance_fees').val(response.data.advanceamount);
                        $('#editpaymentreciept_pending_fees').val(response.data.pendingamount);
                        $('#editpaymentreciept_payment_mode').val(response.data.paymentmode);
                        $('#editpaymentreciept_cheque_no').val(response.data.cheque_no);
                        $('#editpaymentreciept_bank_name').append(`
                        <option value="${response.data.bank_name}">${response.data.bank_name}</option>
                        `);
                        $('#editpaymentreciept_bank_name').val(response.data.bank_name);
                        $('#editpaymentreciept_remarks').val(response.data.remarks);

                        $('#EditFeesmodal').modal('show');
                    }
                }
            });
    }
    function Save_PaymentReciept(){
        console.log("data saved");
        var payment_reciept_id = $('#editpaymentreciept_paymentrecieptID').val();
        var semyear = $('#editpaymentreciept_semyear').val();
        var session = $('#editpaymentreciept_session').val();
        var fees_reciept_type = $('#editpaymentreciept_feesreciept_type').val();
        var date_of_transaction = $('#editpaymentreciept_date_of_transaction').val();
        var payment_for = $('#editpaymentreciept__payment_for').val();
        var payment_type = $('#editpaymentreciept__payment_type').val();
        var total_fees = $('#editpaymentreciept_total_fees').val();
        var paid_fees = $('#editpaymentreciept_paid_fees').val();
        var advance_fees = $('#editpaymentreciept_advance_fees').val();
        var pending_fees = $('#editpaymentreciept_pending_fees').val();
        var payment_mode = $('#editpaymentreciept_payment_mode').val();
        var cheque_no = $('#editpaymentreciept_cheque_no').val();
        var bank_name = $('#editpaymentreciept_bank_name').val();
        var other_bank = $('#editpaymentreciept_other_bank_name').val();
        var remarks = $('#editpaymentreciept_remarks').val();
        var b_name =''
        if(bank_name == "Others"){
            b_name = other_bank
        }
        else{
            b_name = bank_name
        }
        $.ajax({ // create an AJAX call...
            data: {
                'editpayment_payment_reciept_id': payment_reciept_id,
                'editpayment_semyear': semyear,
                'editpayment_session': session,
                'editpayment_fees_reciept_type': fees_reciept_type,
                'editpayment_date_of_transaction': date_of_transaction,
                'editpayment_payment_for': payment_for,
                'editpayment_payment_type': payment_type,
                'editpayment_total_fees': total_fees,
                'editpayment_paid_fees': paid_fees,
                'editpayment_advance_fees':advance_fees,
                'editpayment_pending_fees': pending_fees,
                'editpayment_payment_mode': payment_mode,
                'editpayment_cheque_no': cheque_no,
                'editpayment_b_name': b_name,
                'editpayment_remarks': remarks
                
            }, // get the form data
            type: 'POST', // GET or POST
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            url: "{% url 'register_edit_payment_reciept_save' %}", // the file to call
        success: function (response) 
            { 
                console.log(response)
                if(response.saved == "yes"){
                    $('#editpaymentreciept_other_bank_name').val('')
                    $('#editpaymentreciept_other_bank').css('visibility','hidden');
                    $('#EditFeesmodal').modal('hide');
                    $('#feespaidmodal').modal('hide');
                }
            }
        });



        
        
        

    }

    function CommonFees(id){
        $('#save_commonfees_btn').removeAttr('disabled');
        console.log("common clicked")
        $('#commonfees_student_id').val('');
        console.log(id)
        if(id){
            $('#commonfees_student_id').val(id)
        }
        $.ajax({ // create an AJAX call...
                data: {
                    'commonfees_pendingfees_studentid': id
                }, // get the form data
                type: 'POST', // GET or POST
                headers: { 'X-CSRFToken': '{{ csrf_token }}' },
                url: "{% url 'registered_get_common_fees_details' %}", // the file to call
                success: function (response) { 
                    $('#commonfees_pending').val('')
                    console.log(response)
                    if(response.pattern == "fullcourse"){
                        if(response.paymentpending == "yes"){
                        $('#commonfees_pending').val(response.pendingamount);
                        $('#commonfees_totalfees').val(response.total_fees);
                        $('#commonfees_previous_pending').val(response.previous_pending);
                        $('#commonfees_semyear').val(response.current_semyear);
                        $('#commonfees_totalfees').prop('readonly',false)
                        $('#commonfees_previous_pending').prop('readonly',true)
                        $('#commonfees_totalfees').on('keyup',function() {
                            if(parseInt($('#commonfees_totalfees').val()) < parseInt($('#commonfees_previous_pending').val())){
                                console.log("advance greater than total fees hence pending is 0");
                                $('#commonfees_pending').val("0")
                            }
                            else{
                                $('#commonfees_pending').val($(this).val() - $('#commonfees_previous_pending').val());
                                console.log("yupp")
                            }
                            
                        });
                    }
                    else{

                    }
                    }
                    else{
                        if(response.paymentpending == "yes"){
                            
                            $('#commonfees_pending').val(response.pendingamount);
                            $('#commonfees_totalfees').val(response.total_fees);
                            $('#commonfees_previous_pending').val(response.previous_pending);
                            $('#commonfees_semyear').val(response.current_semyear);
                            $('#commonfees_totalfees').prop('readonly',true)
                            $('#commonfees_previous_pending').prop('readonly',true)
                            var total_fees = parseInt(response.total_fees)
                            var previous_pending = parseInt(response.previous_pending)
                            var paying_fees = total_fees + previous_pending;
                            // if (paying_fees < 0){
                            //     $('#commonfees_amount').val(response.total_fees)
                            // }
                            // else{
                            //     $('#commonfees_amount').val(response.pendingamount)
                            // }
                        }
                        else if(response.paymentpending == "no"){
                            console.log("paid")
                            $('#commonfees_pending').val('')
                        }
                    }
                    // else if(response.paymentpending == "fullcourse"){
                    //     console.log("fullcourse given");
                    //     $('#commonfees_totalfees').val("");
                    //     $('#commonfees_previous_pending').val("");
                    //     $('#commonfees_pending').val("");
                    //     $('#commonfees_totalfees').prop('readonly',false)
                    //     $('#commonfees_previous_pending').prop('readonly',false)
                    //     $('#commonfees_pending').prop('readonly',false)
                        
                        
                        
                        
                    // }
                    $('#CommonFeesModal').modal('show');
                }
            });
        

    }
    function savecommonfees(id){
        
        var feesfor = $('#commonfees_payment_for').val();
        var amount = $('#commonfees_amount').val();
        var feestype = $('#commonfees_payment_type').val();
        var semyear = $('#commonfees_semyear').val();
        var transactiondate = $('#commonfees_transactiondate').val();
        var paymentmode = $('#commonfees_payment_mode').val();
        var chequeno = $('#commonfees_chequeno').val();
        var bankname = $('#commonfees_bank_name').val();
        var remarks = $('#commonfees_remark').val();
        var commonfees_previous_pending = $('#commonfees_previous_pending').val();
        if(bankname == "Others"){
            var otherbankname = $('#commonfees_other_bank').val();
        }
        else{
            var otherbankname = bankname;
        }
        if (feesfor == "Other Fees"){
            var real_feesfor = $('#commonfees_payment_for_other').val();
        }
        else{
            var real_feesfor = feesfor
        }
        console.log(real_feesfor,amount,feestype,semyear,transactiondate,paymentmode,chequeno,otherbankname,remarks)
        if(real_feesfor && amount && feestype && semyear && transactiondate && paymentmode && remarks){
            $('#save_commonfees_btn').attr('disabled','disabled');
            $.ajax
            ({
                data: {
                    'commonfees_student_id':id,
                    'commonfees_feesfor': real_feesfor,
                    'commonfees_totalfees':$('#commonfees_pending').val(),
                    'commonfees_amount':amount,
                    'commonfees_feestype':feestype,
                    'commonfees_semyear':semyear,
                    'commonfees_transactiondate':transactiondate,
                    'commonfees_paymentmode':paymentmode,
                    'commonfees_chequeno':chequeno,
                    'commonfees_bankname':otherbankname,
                    'commonfees_remarks':remarks,
                    'commonfees_previous_pending':commonfees_previous_pending,
                    "commonfees_semyear_totalfees":$('#commonfees_totalfees').val()
                },
                type: 'POST',
                headers: { 'X-CSRFToken': '{{ csrf_token }}' },
                url: "{% url 'registered_save_common_fees_details' %}",
            success: function (response) {  
                console.log(response)
                if(response.success == "yes"){
                    console.log("yup");
                    $('#CommonFeesModal').modal('hide');
                    var fees = response.fees
                    $('#table_body').empty();
                    fees.forEach(myFunction);
                    var count = 0;
                    function myFunction(item, count) {
                        console.log(item)
                        count = count + 1;
                        var transaction_date = item.transaction_date;
                        var datePart = transaction_date.match(/\d+/g),
                        year = datePart[0].substring(0), // get only two digits
                        month = datePart[1], day = datePart[2];
                        var changedate =  day+'/'+month+'/'+year;
                        if (item.paymentmode == "Cheque") {
                            
                            $('#table_body').append(`
                            <tr>
                                <th scope="row">${count}</th>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.semyear}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.payment_categories}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.payment_type}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center "> ${item.session} </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${changedate}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.paymentmode}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.cheque_no}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.semyearfees}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.paidamount}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.advanceamount}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.pendingamount}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.status}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="viewPaymentReciept(${item.id})" >View</button>  </td> 
                                <td class="font-14 text-extralightgray px-2 text-center ">  <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="editPaymentReciept(${item.id})" >Edit</button>  </td>                                   
                            </tr>`)
                        }
                        else {
                            $('#table_body').append(`
                            <tr>
                                <th scope="row">${count}</th>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.semyear}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.payment_categories}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.payment_type}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center "> ${item.session} </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${changedate}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.paymentmode}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  NA </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.semyearfees}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.paidamount}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.advanceamount}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.pendingamount}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.status}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="viewPaymentReciept(${item.id})" >View</button>  </td> 
                                <td class="font-14 text-extralightgray px-2 text-center ">  <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="editPaymentReciept(${item.id})" >Edit</button>  </td> 
                            </tr>`)
                        }

                            }
                            $('#commonfees_amount').val("");
                            $('#commonfees_transactiondate').val("");
                            $('#commonfees_chequeno').val("");
                            $('#commonfees_remark').val("");
                            $('#commonfees_payment_for').val("")
                            $('#commonfees_payment_type').val("")
                            $('#commonfees_semyear').val("")
                            $('#commonfees_payment_mode').val("")
                            $('#commonfees_bank_name').val("")
                            $('#commonfees_other_bank').val("")
                            $('#commonfees_totalfees').val("")
                            $('#commonfees_previous_pending').val("")
                }
                else{
                    console.log("nope")
                }
            }
            });
        }
        else{
            alert("All Fields Are Mandatory")
            console.log("none")
        }
        
        
    }

    function ExtraFees(id){
        console.log("extra fees",id);
        if(id){
            $('#extrafees_student_id').val(id)
        }
        $('#ExtraFeesModal').modal('show');
    }
    function saveextrafees(id){
        var feesfor = $('#extrafees_payment_for').val();
        var amount = $('#extrafees_amount').val();
        var feestype = $('#extrafees_payment_type').val();
        var semyear = $('#extrafees_semyear').val();
        var transactiondate = $('#extrafees_transactiondate').val();
        var paymentmode = $('#extrafees_payment_mode').val();
        var chequeno = $('#extrafees_chequeno').val();
        var bankname = $('#extrafees_bank_name').val();
        var remarks = $('#extrafees_remark').val();
        if(feesfor == "Other Fee (Type Manually Option)"){
            var otherfeesfor = $('#extrafees_others_payment').val();
        }
        else{
            var otherfeesfor = feesfor;
        }
        if(bankname == "Others"){
            var otherbankname = $('#extrafees_other_bank').val();
        }
        else{
            var otherbankname = bankname;
        }
        console.log(otherfeesfor,amount,feestype,semyear,transactiondate,paymentmode,chequeno,otherbankname,remarks)
        $.ajax
        ({
            data: {
                'extrafees_student_id':id,
                'extrafees_feesfor': otherfeesfor,
                'extrafees_amount':amount,
                'extrafees_feestype':feestype,
                'extrafees_semyear':semyear,
                'extrafees_transactiondate':transactiondate,
                'extrafees_paymentmode':paymentmode,
                'extrafees_chequeno':chequeno,
                'extrafees_bankname':otherbankname,
                'extrafees_remarks':remarks
            },
            type: 'POST',
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            url: "{% url 'registered_save_extra_fees' %}",
        success: function (response) {  
            console.log("sent data");
            if(response.success == "yes"){
                console.log("yup");
                $('#ExtraFeesModal').modal('hide');
                var fees = response.fees
                $('#table_body').empty();
                fees.forEach(myFunction);
                var count = 0;
                function myFunction(item, count) {
                    console.log(item)
                    count = count + 1;
                    var transaction_date = item.transaction_date;
                    var datePart = transaction_date.match(/\d+/g),
                    year = datePart[0].substring(0), // get only two digits
                    month = datePart[1], day = datePart[2];
                    var changedate =  day+'/'+month+'/'+year;
                    if (item.paymentmode == "Cheque") {
                        
                        $('#table_body').append(`
                        <tr>
                            <th scope="row">${count}</th>
                            <td class="font-14 text-extralightgray px-2 text-center ">  ${item.semyear}  </td>
                            <td class="font-14 text-extralightgray px-2 text-center ">  ${item.payment_for}  </td>
                            <td class="font-14 text-extralightgray px-2 text-center ">  ${item.payment_type}  </td>
                            <td class="font-14 text-extralightgray px-2 text-center "> ${item.session} </td>
                            <td class="font-14 text-extralightgray px-2 text-center ">  ${changedate}  </td>
                            <td class="font-14 text-extralightgray px-2 text-center ">  ${item.paymentmode}  </td>
                            <td class="font-14 text-extralightgray px-2 text-center ">  ${item.cheque_no}  </td>
                            <td class="font-14 text-extralightgray px-2 text-center ">  ${item.paidamount}  </td>
                            <td class="font-14 text-extralightgray px-2 text-center ">  ${item.pendingamount}  </td>
                            <td class="font-14 text-extralightgray px-2 text-center ">  <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="viewPaymentReciept(${item.id})" >View</button>  </td> 
                            <td class="font-14 text-extralightgray px-2 text-center ">  <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="editPaymentReciept(${item.id})" >Edit</button>  </td>                                 
                        </tr>`)
                    }
                    else {
                        $('#table_body').append(`
                        <tr>
                            <th scope="row">${count}</th>
                            <td class="font-14 text-extralightgray px-2 text-center ">  ${item.semyear}  </td>
                            <td class="font-14 text-extralightgray px-2 text-center ">  ${item.payment_for}  </td>
                            <td class="font-14 text-extralightgray px-2 text-center ">  ${item.payment_type}  </td>
                            <td class="font-14 text-extralightgray px-2 text-center "> ${item.session} </td>
                            <td class="font-14 text-extralightgray px-2 text-center ">  ${changedate}  </td>
                            <td class="font-14 text-extralightgray px-2 text-center ">  ${item.paymentmode}  </td>
                            <td class="font-14 text-extralightgray px-2 text-center ">  NA </td>
                            <td class="font-14 text-extralightgray px-2 text-center ">  ${item.paidamount}  </td>
                            <td class="font-14 text-extralightgray px-2 text-center ">  ${item.pendingamount}  </td>
                            <td class="font-14 text-extralightgray px-2 text-center ">  <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="viewPaymentReciept(${item.id})" >View</button>  </td> 
                            <td class="font-14 text-extralightgray px-2 text-center ">  <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="editPaymentReciept(${item.id})" >Edit</button>  </td> 
                        </tr>`)
                    }

                        }
                        $('#extrafees_amount').val("");
                        $('#extrafees_transactiondate').val("");
                        $('#extrafees_chequeno').val("");
                        $('#extrafees_remark').val("");
                        $('#extrafees_payment_for').val("")
                        $('#extrafees_payment_type').val("")
                        $('#extrafees_semyear').val("")
                        $('#extrafees_payment_mode').val("")
                        $('#extrafees_bank_name').val("")
                        $('#extrafees_others_payment').val("")
                        $('#extrafees_other_bank').val("")
                        
                        
                        
                        
                        
                        
            }
        }
        });
    }

    function IDCard(id) {
        if (id) {
            $.ajax({ // create an AJAX call...
                data: {
                    'idcard': id
                }, // get the form data
                type: 'POST', // GET or POST
                headers: { 'X-CSRFToken': '{{ csrf_token }}' },
                url: "{% url 'registered_get_idcard' %}", // the file to call
                success: function (response) {
                    var idcard = response.idcard
                    if (idcard){
                        $('#idcardmodaldata').html(`
                        <div class="id-card-tag"></div>
                        <div class="id-card-tag-strip"></div>
                        <div class="id-card-hook"></div>
                        <div class="id-card-holder">
                            <div class="id-card">
                                <div class="header">
                                    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAABL1BMVEX///9jsLoVFRVYrLbS5+jFJxzd4BUAAADo6Orj4+Xg4OLq6uzs7O7f3+HDFQDFKBrAAADNUkbEIRXkoJz66OT/+/n4+Pj09PSTzyLT09PY2NoODg6Wlpbd4ADNzc329avw7n7286D1+Lv5+Mavr6/y8o6bm5u8vLzt7W4fHx+NjY38+dWlpaVNTU2Dg4P7++Do6lv6/exvb29bW1s1NTU/Pz8qKiqy19lmZmZ2dnazs7NFRUVfX1+OzAAlJSWr2VvG45bh8cae1EDj40DS7Kzf4jDo89Kt22Db7re13HPN55y84Ino7tvn51/u7ubt6vS+2pTj4e3d6NjO2sOt126l10qz0YjD2aa54YOnzG7D1LLv8rCy03/w8cbl46vk45n01tbVZ17vyMTbhX/77OjI+jqfAAAOsklEQVR4nO2dDVvayBbHZ2llEpJ0vbdLYkCiVgTBgAXRovhStVKtVla73fbWtdvbu9//M9wzk/eAGMIQiE/+z9MXwmQyv5wz58xLjOiXpy407QZMXAlh/JUQxl8W4bOnJy/hszfPn5rePPMSPkdPTc8TwtgrIYy/EsL4KyGMvxLC+CshjL8SwvgrIYy/EsL4KyGMvxLC+CshjL8SwvgrIYy/EsL4KyGMvxLC+CshjL+iJ1RzCOVU2f7MqaKvhKBy9I9bsuuM0RQ9IcYi/BHsz7u46CtRwlX6xy0e50JeL3rC9q6Cmm3F/lxsa74SJbyIyu09zzFZm6oNOdJGjUdI0Yy/oTWSavxNvjFwpKJOPhEvVYnPqbpOzuPBS3lN4fQ9Ukwu65wOhNRLlbJelBxCTcmVyiODMiHUsIJE3Ia7X9vtgFUwtPxwMQ9W6GAZHIwnhUoYVHe8tEk+bxleWsXk046IlG34twaExEuFHVLE8GEeSwhv7TRxZ1RENl6Ky6iMWzLa1jVAagOIiMVmG4kprCK9Q4qouKJmDoEdV0SUx6JE7sh+S0J1SphXxRbegw81UctTwkU4uoj2cI1egQPCVI2Q+n06GsJmEzVLOCODtaAFqdI2Km4DM9I6zUXAJkXquIRQBnzOJOQw3tc5+gUhhLhShRIVElCqJiH4ZmYRd2xCDBXJcDOnQVg+RIfSVrG8g9BWVUrJWNkqIQVL9cXilmw4aRObocMgFFApRRxSNAmh8YtAiEnhkkkogOtuu2xIHHZahHBdjBZ3m2CJvU5pF7WK0CDUKXU0DhcrtAi1oVrmbUIISNUW2M5DWCHnWTbcx7qSmRFCtNVpolyKuJiCK2VUTR3CwWKlIqOdQ3A3mUSjQ15pQfsMQqVMokzJT1iH3imlTMJt0okJoTwDhDpcXUlh8t8OBFaN5msB75NQKUHzdPIfUNuJpTWMK7jCmbG0ZJhOIeFzy8z4VYxTO7iiINx0Ee490pQJEYo6DL3KNMyp0ARZp32vCPkvR5pFs1q5Wif3v7gno2JRpp91SIGaLkFqJEmS/KWU6poAeTNHcudeXYf8KKKiBjUqiNZS5KdDOMNKCOOvhDD+mhZhIxvRhaZGuL4c0YWmRbhZKNxHc6VpES4XCqcR+el0CBuFdLqwFsmlpkS4AoTpwmYk15oOIQFMF15Hcq2pEK5SwnRhNYqLRUboXuBdNwjTp4MKZt+xvXBkhJqzaN1ImxpkxO7JZ7YXjopQ1jTNWgU2nXRgT7w8ODhie+UoCTVzg8JyUkD0pf3G0cHCQkwJFU0FUcTGWdomXPcU6i4A4MJ7tleOllAlGzIbtgkBseEqc074Fg4ukEy6rPJATaMqKkJRNSSa6d4idA1sPhiAlzKRoEqMrhwpYQ4koo8uwnTaLnFJAReOCR+nqho3pLZRFAkhtYkBmMspbr50YcMsQwEPTq5kRRFydp9loMkTNkzCnCnpu9uGlpu+pYBHCkjKEcLQ+4V+TZ6wmyV+J5p4IN7dEdNntNA7CnghKiJn3giV1fUjIGzYhJIhzt0T6QzjmAJeiqKYkSTzXrC6fgRe2pWhb4k2H+i64CAWXkERGkTf9kTO+J4QCo/XHEwRRJp3MuldFDAjZYhuVh3CM5jqnxDA33sCD19biKy6YRSEHyghBbTUW7aHphBLvx5QQI43vqSIHifNNhoPVf64IiA87gIg6WA2YEa6tgCXjU4IgLzzLemr9NTs5v3K8sfXp2Y8CqUICLOXPYWEEJuA5/kbK55mURZ89OCvGzjoZlRQdnXl9VmBKl24C3/5KDL+12sIkryLDyTS4XdhiQ7WDi5ueFMmYeb+lKJ5Uko4RUF4fgyEnJsPjPiqYIQZiKMH7+3DFqHw2jMsGMOEkRA2LnomIe+IGLGwQkdrJzn3F5Sw6xm7jmNCxoSrq3d3SysrK0t3d6sbTvy7uBUEzgvI80sA0UBZ8NFP3i9IOln2mHCsFSu2hKcFj86WV+4JZ/drj+N4nyDtL5Px6MGXG993EGo9gOOtOrIl3PQ4FzQO9HEtiz5f9xP21gv3KAudMMdxvm9v1jyE460cM+6HSz5ESrmCjv/o+fgAarVAc+En8n8PY+bac/7KeE1iHWk+9iOS7vb5kw8PiK7WyHDmzxuB47yMPbcJCwMXVadImD3rBwQrdI/4jIcPJG6SEWmOc2QW2GTooxPIFhsDjFhooIsvJqILCKErMCHH+Rh7nsnV0rgNYp8P7wZ0xXVI7DD19QJyMkx8VUHwIXKv3IAfx27PBDL+2gDEVXT++UZy8wGZgr7+B/4lciFeezrh+NuokxjTLA9w1AZ6/+dNxsUHUtDRN1GwZH7T84zXGGwxTmTU1h9QibctfMvxLj5BENHnWxixehBFTxzdePxaj2oy49IBiCtoc+GTJLgABTH7Hgasog1JLOjuxWz2Fyc08l7vR7xD3QWVFyxAApb9S7RkIPbu3YM+Nhuok5pbLHtHqAVqkeMF1Q0oNr6IXsT79Pra0sbGJtEGCxdFE5w9rZyu/f339/v7++/f/15bPyND1FcEsWfzgQ2/iR7E7CSelJoIoaxwdFnm5oZm+RsQJ17dL22i7skn0eITe9lbDyE5Nds9//D14v3R0fuLt++OWRAzJ5QVPqcai6PuOS8HYbSnyKjx/osZXa5WX63eXzuECmqcfyXriidECweGPl+ej7HONgFCUTJ3YKy1Q99gVJTRh7/AiL3rtfW1laVXqxsWo3z89vLtt1vJWKbJXN9++nJ5ZFK+7c4IoSJpmuoQSn2EtAvKm5e3vavX68sG4SZFVBTxWhB7PSvx0zN6vevjtycHB2DPk3ehLcmSEAAtQskk9JqQEkKi73Y/OoQNxRNP3bMMYuze1e+fKeRFSEMy9VLFQ9jvpFYYlZfOXIRZTzz1ThU5Yt9e95Js8B/8EYqRbT+UJW0IoZ0Ie2enbkLlQUJSAXiwIl+/OyF2/DB1QoRuPwUgvC4EJgRxQCjL6Pxk4TxMi9gSNr4u/M4/Ttj1EsrDCSWJo4goXHJkSvjh6FyBbJdxskUgGz5CSDZNufCbbQwJjy+OyTYaaSn/SD9Mj+KlxrZw6MdrGBJmZdkiFAU+MziWUn5l5TRYLLV323I5NRPSjOwIyW69Qwgt5QcQiiInqdeoEdBLeceGOVUNZ8ZJEvI2o7Uyw+c04ANtnDqEkEcfyPjmNo1FqIZ6iIihl5qEJqJJaD+dQNqoaXZ32lg3x6XGaEwRPCYc0A/pMzZhEJnGUrcRORvRekBGzfHurnS/tHS3umlnAAWGc4MJzdujhnw8g3HGpw+WeNxUshD5x7qRLIInP9QNJWGG3oshK7YNzfbBsCRQ++BMcprbhDTtBDx9sCa1ikEdVqRjytFaRyhtE0KMUsZ9znRWfzpPlke8Mw9qVgnZiS2hYid3ey5IPdWQ7JLrJPdh2S7sZEgn+oQKpmwJRWsQ44xhvJSDEPvplMEDgMy0M/6MKiGMvxLC+GtChEJZr7f395vVsv957ewP0D+eQ//Akd8GLMLw5Wp7q1bbr++N81j7JAi5RfoKK1P5uqt9P+bmX4Dm537Yh16+oJr/r7cSpWRUks/Tf5qjvh7KFnvCXBualXIELazZzXs5Pzf369zc3IuX1pHsv/5NDsz9Ov+buxbdW0kK407IV9IxJySvzfEL2y/Qe/lijspDONdHqNQGVTLtVQwqYbu/abR55psDgxHKrUG1jPz+pEkQSvnBgCnyUqjghAMsSOoY9f1JEyAU8p6+k3c+5jsjEOo2YN6MVjND6HJR0rbWNgmHlDK/HZxQrlg3BrdKWkbS9H1aywwQ1h1AnDLehYUyeou0bhTCPasa5wWfin6I89Pvh6oL0P3y0TKYdhQvbZr14F137cUdHO5nLhkSbtmE/rtdoi9qIwpCaPVe7B0OKZlwzWJH6Jiw76WyKLdrtjYIoVlPvsLmp0jZEbbt7tN+uFAAQtm+UzNGqDgmHNJfRiHEbH6MlBlh2W7Y7pBSI3hpynzr5bhiRtgMdOuDEKbsdDjE3YOLGWHLbFe+NWwld5RsQTJ+6DmTI1aEfLAbH4Sw7B4Z7Y/dGVkR2rkC68OKBRqXtlyjW5hchhvK2GJF6ASaoY4ViLDsmVrAdEUfZwuDFWEpWIwPNnva9c6e8jg/BiMrwqpNOHRwFXCOv+WbIObHiDmsCO15xfDxcUBCiKd5P+NiyJbNKCEqV/zzfNwM1zL2hEPfZByYEMlV/4qI7/dBBBV7wqGLfsEJERKq/hXFUH2RFeEiw2xhS9YrbsZwA1VWhEWbcGiCHo0Q0QWC/HhGZEWo2YT1YcVGJkRId1bshtf9gFgRShZhfqgrhSBE/GE+UN0PiBWhsmM3Y1i6CEOIBPvuVUIMbZjNnux16v5VGpdCEboGTNMktAem1tLoQIUjLM8EYc6Ztw5Zmw5HaIWx6Xqpa1Y3YOCWMw8FWtXvO9vayJhqpHFlxFS+5UMUd61kHYCwnKr6Nwo71hrxNLOFe0MlhQ/daV8upXB+x2h1AMItjHe8wUoPNpp4QAxX9ffc6ys165draXWYwNoL2AEIt6E0PizZbiDbkTS/E2YezHLvad81GciDJWr7Wy1r8y8VmJD2Zzh9u6qXy2V919k1H74EFAWheOjbIMX2gGsEG9rLku7dUQo4LA1FQ4h4/8zcoTVXUQMQdh6oIz985hkNIcocPrSPby71ByCsD64Ch5sdMn8WQ2kPMiMEHiUwobIz8EGM1sz8hsdyy/9ADcaHdojoJ5T7M75/bk+6ZDX0cuIEnvrS2sbTWkT0dxy6stjPeVM/7UP/Ix9fzM/POU+2KfqOp4rU4hhbiZN5ck/Tm7VtUK2p+3pP9sdP0A/3c3r//KSHvOW4cn1ru7XTatV2i2H909BsP33J4gcSZpuQhRLC+CshjL8SwvgrIYy/EsL4KyGMvxLC+CshjL8SwvgrIYy/EsL4KyGMvxLC+CshjL8SwvgrIYy/EsL4KyGMv/yEb54/Nb3xEv7y7OnpFy/h01VCGH8lhPHX0yf8P9aqMQF7zOJ5AAAAAElFTkSuQmCC">
                                </div>
                                
                                <h2 class="text-uppercase">`+idcard.name+`</h2>        
                                <h3>Enrollment ID   : `+idcard.enrollment_id+`</h3>
                        
                                <hr>
                                <p class="text-start">University Name    : `+idcard.university_name+`</p>
                                <p class="text-start">University Address : `+idcard.university_address+ ', ' + idcard.city + ', ' + idcard.state + ', ' + idcard.pincode + ', ' + idcard.country + `</p>
                                
                                
                                <hr>
                                <p><strong>Address :</strong>`+idcard.address+`<p>
                                <p>`+ idcard.city + ', ' + idcard.state + ', ' + idcard.country  +`, <strong>`+ idcard.pincode +`</strong></p>
                                <p>Ph: `+idcard.mobile+` | Email: `+idcard.email+`</p>

                            </div>
                        </div>
                        `);
                        $('#idcardmodal').modal('show');
                    }

                }
            });
        }

    }

    // remaining to performance optimization

    function RefundFees(id){
        console.log("Refund fees",id);
        if(id){
            $('#refund_fees_student_id').val(id)
        }
        $('#RefundFeesModal').modal('show');
    }
    function save_refund_fees(id){
        var amount = $('#refund_fees_amount').val();
        var feestype = $('#refund_fees_payment_type').val();
        var semyear = $('#refund_fees_semyear').val();
        var transactiondate = $('#refund_fees_transactiondate').val();
        var paymentmode = $('#refund_fees_payment_mode').val();
        var chequeno = $('#refund_fees_chequeno').val();
        var bankname = $('#refund_fees_bank_name').val();
        var remarks = $('#refund_fees_remark').val();
        if(bankname == "Others"){
            var otherbankname = $('#refund_fees_other_bank').val();
        }
        else{
            var otherbankname = bankname;
        }
        console.log(id,amount,feestype,semyear,transactiondate,paymentmode,chequeno,otherbankname,remarks);
        if(amount && feestype && semyear && transactiondate && paymentmode && remarks){
            console.log("all given")
            $.ajax
                ({
                    data: {
                        'refund_fees_student_id':id,
                        'refund_fees_amount':amount,
                        'refund_fees_feestype':feestype,
                        'refund_fees_semyear':semyear,
                        'refund_fees_transactiondate':transactiondate,
                        'refund_fees_paymentmode':paymentmode,
                        'refund_fees_chequeno':chequeno,
                        'refund_fees_bankname':otherbankname,
                        'refund_fees_remarks':remarks
                    },
                    type: 'POST',
                    headers: { 'X-CSRFToken': '{{ csrf_token }}' },
                    url: "{% url 'registered' %}",
                success: function (response) {  
                }
            });
        }
        else{
            console.log("not given")
            alert("All Fields are mandatory")
        }
    }


    function UpdatePayment(id){
        $.ajax({ // create an AJAX call...
            data: {
                'update_payment': id
            }, // get the form data
            type: 'POST', // GET or POST
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            url: "{% url 'registered_update_payment_status' %}", // the file to call
        success: function (response) { 
            console.log(response)
            if(response.data){
                $('#payment_update_modal_head').empty();
                $('#payment_update_table_body').empty();
                $('#payment_update_modal_head').append(`
                
                    <tr>
                        <th scope="col">Sr.No</th>
                        <th scope="col">Year/Sem</th>
                        <th scope="col">Transaction Date</th>
                        <th scope="col">Mode</th>
                        <th scope="col">No</th>
                        <th scope="col">Total Fees</th>
                        <th scope="col">Paid Amount</th>
                        <th scope="col">Advance Amount</th>
                        <th scope="col">Pending Amount</th>
                        <th scope="col">Payment Status</th>
                        <th scopt="col">Change Payment Status</th>
                        <th scopt="col"></th>
                        <th scopt="col">Action</th>
                        
                    </tr>

                `);
                var data = response.data;
                var count = 0;
                data.forEach(myfunction3);
                function myfunction3(item,count){
                    count = count + 1;
                    if(item.status == "Not Realised"){
                        var bg_color = "style='background-color: red;color:white;'"
                    }
                    else if (item.status == "Realised"){
                        var bg_color = "style='background-color: green;color:white;'"
                    }
                    $('#payment_update_table_body').append(`
                    <tr>
                        <th scope="row">${count}</th>
                        <td class="font-14 text-extralightgray px-2 text-center ">  ${item.semyear}  </td>
                        <td class="font-14 text-extralightgray px-2 text-center ">  ${item.transaction_date}  </td>
                        <td class="font-14 text-extralightgray px-2 text-center ">  ${item.paymentmode}  </td>
                        <td class="font-14 text-extralightgray px-2 text-center ">  ${item.cheque_no}  </td>
                        <td class="font-14 text-extralightgray px-2 text-center ">  ${item.semyearfees}  </td>
                        <td class="font-14 text-extralightgray px-2 text-center ">  ${item.paidamount}  </td>
                        <td class="font-14 text-extralightgray px-2 text-center ">  ${item.advanceamount}  </td>
                        <td class="font-14 text-extralightgray px-2 text-center ">  ${item.pendingamount}  </td>
                        <td class="font-14 text-extralightgray px-2 text-center " ${bg_color}>  ${item.status}  </td>
                        <td class="font-14 text-extralightgray px-2 text-center ">  
                            <select class="" id="payment_update_select${item.id}" aria-label="Default select example">
                                <option selected>Select</option>
                                <option value="Realised">Realised</option>
                                <option value="Not Realised">Not Realised</option>
                            </select>  
                        </td> 
                        <td class="font-14 text-extralightgray px-2 text-center ">   
                            <input id="payment_update_student_id" value="${item.id}" style="width:50px;display:none;">
                        </td>
                        <td class="font-14 text-extralightgray px-2 text-center ">  <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="Update_Payment(${item.id})" >Update</button>  </td>                                  
                    </tr>`)
                }
            }
            $('#PaymentUpdatemodal').modal('show')
        }
        });
    }

    function Update_Payment(id){
        var payment_reciept_id = id;
        var payment_reciept_status = $('#payment_update_select'+id).val();
        console.log(payment_reciept_id , payment_reciept_status);
        if (payment_reciept_status != "Select"){
            $.ajax({ // create an AJAX call...
                data: {
                    'update_reciept_id': payment_reciept_id,
                    'update_reciept_status':payment_reciept_status
                }, // get the form data
                type: 'POST', // GET or POST
                headers: { 'X-CSRFToken': '{{ csrf_token }}' },
                url: "{% url 'registered_update_payment_status' %}", // the file to call
                success: function (response) {
                    if(response.data){
                        $('#payment_update_table_body').empty();
                        
                        var data = response.data;
                        var count = 0;
                        data.forEach(myfunction3);
                        function myfunction3(item,count){
                            count = count + 1;
                            if(item.status == "Not Realised"){
                                var bg_color = "style='background-color: red;color:white;'"
                            }
                            else if (item.status == "Realised"){
                                var bg_color = "style='background-color: green;color:white;'"
                            }
                            $('#payment_update_table_body').append(`
                            <tr>
                                <th scope="row">${count}</th>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.semyear}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.transaction_date}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.paymentmode}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.cheque_no}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.semyearfees}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.paidamount}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.advanceamount}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  ${item.pendingamount}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center " ${bg_color}>  ${item.status}  </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  
                                    <select class="" id="payment_update_select${item.id}" aria-label="Default select example">
                                        <option selected>Select</option>
                                        <option value="Realised">Realised</option>
                                        <option value="Not Realised">Not Realised</option>
                                    </select>  
                                </td> 
                                <td class="font-14 text-extralightgray px-2 text-center ">   
                                    <input id="payment_update_student_id" value="${item.id}" style="width:50px;display:none;">
                                </td>
                                <td class="font-14 text-extralightgray px-2 text-center ">  <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="Update_Payment(${item.id})" >Update</button>  </td>                                  
                            </tr>`)
                        }
                    }
                }
            });
        }
    }

    
    // remaining to performance optimization
    function RequestFees(id){
        $.ajax({ // create an AJAX call...
                data: {
                    'requestFees': id
                }, // get the form data
                type: 'POST', // GET or POST
                headers: { 'X-CSRFToken': '{{ csrf_token }}' },
                url: "{% url 'registered_request_fees' %}", // the file to call
                success: function (response) {
                    console.log(response)
                    if (response.email){
                        $('#emailID').val(response.email);
                        $('#request_fees_student_id').val(response.data.student_id);
                        $('#request_amount').val(response.data.pendingamount);
                    }
                }
            });
            $('#RequestFeesModal').modal('show');
    }

    function fetch_message(){
        $.ajax({ // create an AJAX call...
                data: {
                    'fetch_message': "yes",
                    'request_amount' : $('#request_amount').val()
                }, // get the form data
                type: 'POST', // GET or POST
                headers: { 'X-CSRFToken': '{{ csrf_token }}' },
                url: "{% url 'registered_fetch_message_request_fees' %}", // the file to call
                success: function (response) {
                    console.log(response);
                    if(response.message){
                        $('#MessageArea').val(response.message);
                    }
                }
            });
    }
    function sendEmail(){
        var email = $('#emailID').val();
        var amount = $('#request_amount').val();
        var payment_categories = $('#request_payment_categories').val();
        var payment_type = $('#request_payment_type').val();
        var subject = $('#subject').val();
        var message = $('#MessageArea').val();
        if (payment_categories == "OTHER"){
            var real_payment_categories = $('#other_payment_categories').val();
        }
        else{
            var real_payment_categories = payment_categories;
        }
        if(subject.length != 0 & email.length !=0 & message.length !=0){
            $.ajax({ // create an AJAX call...
                data: {
                    'subject':subject,
                    'email_ID': email,
                    'request_amount': amount,
                    'request_payment_categories': real_payment_categories,
                    'request_payment_type': payment_type,
                    'email_message': message
                    
                }, // get the form data
                type: 'POST', // GET or POST
                headers: { 'X-CSRFToken': '{{ csrf_token }}' },
                url: "{% url 'registered' %}", // the file to call
                success: function (response) {
                    console.log(response);
                    console.log("email dta sent")
                    $('#RequestFeesModal').modal('hide');
                    $('#request_amount').val("");
                    $('#request_payment_categories').val("");
                    $('#request_payment_type').val("");
                    $('#subject').val("");
                    $('#MessageArea').val("");             
                }
            });
        }
        
    }
    function get_request_fees(id){
        $.ajax({ // create an AJAX call...
                data: {
                    'get_request_fees_history': id
                }, // get the form data
                type: 'POST', // GET or POST
                headers: { 'X-CSRFToken': '{{ csrf_token }}' },
                url: "{% url 'registered' %}", // the file to call
                success: function (response) {
                    $('#request_fees_history_modal_table_body').empty();
                    console.log(response)
                    if(response.data){
                        $('#RequestFeesHistoryModal').modal('show');
                        var data = response.data;
                        data.forEach(myfunction);
                        var count = 0;
                        function myfunction(item,count){
                            count = count + 1;
                            console.log(item);
                            $('#request_fees_history_modal_table_body').append(`
                            <tr>
                                <th scope="row">${count}</th>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.amount}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.payment_categories}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.payment_type}</td>                               
                            </tr>
                            `);
                        }
                    }
                }
            });
    }

    $(function() {
    $("#request_payment_categories").change(function() {
        var selected_option = $('option:selected', this).text()
        if(selected_option == "OTHER"){
            $('#request_other_container').css('visibility','visible');
        }
        else{
            $('#request_other_container').css('visibility','hidden');
        }
        });
    });

    function UniversityExamFees(id){
        $.ajax({ // create an AJAX call...
                data: {
                    'universityExamFees': id
                }, // get the form data
                type: 'POST', // GET or POST
                headers: { 'X-CSRFToken': '{{ csrf_token }}' },
                url: "{% url 'registered_university_exam_fee' %}", // the file to call
                success: function (response) {
                    console.log(response)
                    if(response.student_id){
                        $('#university_examination_student_id').val(response.student_id)
                    }
                    if(response.data){
                        $('#university_exam_table_body').empty()
                        var data = response.data;
                        data.forEach(myfunction);
                        var count = 0
                        function myfunction(item,count){
                            console.log(item);
                            count = count +1;
                            var transaction_date = item.date;
                            console.log("transaction date : ",transaction_date)
                            var datePart = transaction_date.match(/\d+/g),
                            year = datePart[0].substring(0), // get only two digits
                            month = datePart[1], day = datePart[2];
                            console.log("datePart : ",datePart)
                            console.log("year : ",year)
                            console.log("month : ",month)
                            var changedate =  day+'/'+month+'/'+year;
                            
                            $('#university_exam_table_body').append(`
                            <tr>
                                <th scope="row">${count}</th>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.amount}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${changedate}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.examination}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.semyear}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.paymentmode}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.remarks}</td>
                                
                            </tr>
                            `);
                        }
                    }
                }
            });
        $('#UniversityExamFeesModal').modal('show');
    }
    function AddUniversityExamination(id){
        console.log(id);
        $('#add_university_examination_student_id').val(id)
        $('#AddNewUniversityExamFeesModal').modal('show');
    }
    function add_university_examination(id){
        console.log("saved")
        var add_university_examination_amount = $('#add_university_examination_amount').val()
        var add_university_examination_date = $('#add_university_examination_date').val()
        var add_university_examination_examination = $('#add_university_examination_examination').val()
        var add_university_examination_semyear = $('#add_university_examination_semyear').val()
        var add_university_examination_paymentmode = $('#add_university_examination_paymentmode').val()
        var add_university_examination_remarks = $('#add_university_examination_remarks').val()
        console.log(add_university_examination_amount,add_university_examination_date,add_university_examination_examination,add_university_examination_semyear,add_university_examination_paymentmode)
        if(add_university_examination_amount != "" && add_university_examination_date != "" && add_university_examination_examination != "" && add_university_examination_semyear != "" && add_university_examination_paymentmode != "" && add_university_examination_remarks != ""){
            
            $.ajax({ // create an AJAX call...
            data: {
                "adduniversity_studentid":id,
                "adduniversity_amount":add_university_examination_amount,
                "adduniversity_date":add_university_examination_date,
                "adduniversity_examination":add_university_examination_examination,
                "adduniversity_semyear":add_university_examination_semyear,
                "adduniversity_paymentmode":add_university_examination_paymentmode,
                "adduniversity_remarks":add_university_examination_remarks,
                "adduniversity_type":"University_Exam"
            }, // get the form data
            type: 'POST', // GET or POST
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            url: "{% url 'registered_university_exam_fee' %}", // the file to call
            success: function (response) {
                console.log(response)
                
                console.log("sent")
                if(response.data){
                    $('#university_exam_table_body').empty();

                    $('#AddNewUniversityExamFeesModal').modal('hide');
                    $('#add_university_examination_amount').val('')
                    $('#add_university_examination_date').val('')
                    $('#add_university_examination_examination').val('')
                    $('#add_university_examination_semyear').val('')
                    $('#add_university_examination_paymentmode').val('')
                    $('#add_university_examination_remarks').val('')
                        var data = response.data;
                        data.forEach(myfunction);
                        var count = 0
                        
                        function myfunction(item,count){
                            console.log(item);
                            count = count +1;
                            $('#university_exam_table_body').append(`
                            <tr>
                                <th scope="row">${count}</th>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.amount}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.date}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.examination}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.semyear}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.paymentmode}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.remarks}</td>
                                
                            </tr>
                            `);
                        }
                    }
            }
        });
        }
        else{
            console.log("something is missing")
        }
        
    }
    
    function ResultUploaded(id){
        $.ajax({ // create an AJAX call...
            data: {
                'is_result_uploaded': id
            }, // get the form data
            type: 'POST', // GET or POST
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            url: "{% url 'registered_result_uploaded' %}", // the file to call
            success: function (response) {
                console.log(response)
                console.log("sent")
                if(response.student_id){
                    $('#get_resultuploaded_student_id').val(response.student_id)
                }
                if(response.data){
                    $('#get_resultuploaded_table_body').empty()
                    var data = response.data;
                        data.forEach(myfunction);
                        var count = 0
                        function myfunction(item,count){
                            console.log(item);
                            count = count +1;
                            var transaction_date = item.date;
                            console.log("transaction date : ",transaction_date)
                            var datePart = transaction_date.match(/\d+/g),
                            year = datePart[0].substring(0), // get only two digits
                            month = datePart[1], day = datePart[2];
                            console.log("datePart : ",datePart)
                            console.log("year : ",year)
                            console.log("month : ",month)
                            var changedate =  day+'/'+month+'/'+year;

                            $('#get_resultuploaded_table_body').append(`
                            <tr>
                                <th scope="row">${count}</th>
                                <td class="font-14 text-extralightgray px-2 text-center ">${changedate}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.examination}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.semyear}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.uploaded}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.remarks}</td>
                                <td class="font-14 text-extralightgray px-2 text-center "> <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="EditResultUploaded(${item.id})">Edit</button> </td>
                                
                                
                            </tr>
                            `);
                        }
                    $('#GetResultUploadedModal').modal('show')
                }
            }
        });
    }
    function AddResultUploaded(id){
        console.log(id);
        $('#add_result_uploaded_student_id').val(id)
        $('#AddResultUploadedModal').modal('show');
    }
    function add_result_uploaded(id){
        var add_result_uploaded_date = $('#add_result_uploaded_date').val()
        var add_result_uploaded_examination = $('#add_result_uploaded_examination').val()
        var add_result_uploaded_semyear = $('#add_result_uploaded_semyear').val()
        var add_result_uploaded_yn = $('#add_result_uploaded_yn').val()
        var add_result_uploaded_remarks = $('#add_result_uploaded_remarks').val()
        console.log(id,add_result_uploaded_date,add_result_uploaded_examination,add_result_uploaded_semyear,add_result_uploaded_yn,add_result_uploaded_remarks)
        if (add_result_uploaded_date != "" && add_result_uploaded_examination != "" && add_result_uploaded_semyear != "" && add_result_uploaded_yn != "" && add_result_uploaded_remarks != "")
        {
            $.ajax({ // create an AJAX call...
            data: {
                "addresultuploaded_studentid":id,
                "addresultuploaded_date":add_result_uploaded_date,
                "addresultuploaded_examination":add_result_uploaded_examination,
                "addresultuploaded_semyear":add_result_uploaded_semyear,
                "addresultuploaded_yn":add_result_uploaded_yn,
                "addresultuploaded_remarks":add_result_uploaded_remarks
            }, // get the form data
            type: 'POST', // GET or POST
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            url: "{% url 'registered_result_uploaded' %}", // the file to call
            success: function (response) {
                console.log(response)
                
                console.log("sent")
                if(response.data){
                    $('#get_resultuploaded_table_body').empty();
                    $('#AddResultUploadedModal').modal('hide');

                    $('#add_result_uploaded_date').val('')
                    $('#add_result_uploaded_examination').val('')
                    $('#add_result_uploaded_semyear').val('')
                    $('#add_result_uploaded_yn').val('')
                    $('#add_result_uploaded_remarks').val('')
                        var data = response.data;
                        data.forEach(myfunction);
                        var count = 0
                        
                        function myfunction(item,count){
                            console.log(item);
                            count = count +1;
                            $('#get_resultuploaded_table_body').append(`
                            <tr>
                                <th scope="row">${count}</th>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.date}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.examination}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.semyear}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.uploaded}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.remarks}</td>
                                <td class="font-14 text-extralightgray px-2 text-center "> <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="EditResultUploaded(${item.id})">Edit</button> </td>
                            </tr>
                            `);
                        }
                    }
            }
        });
        }
        else{
            console.log("something missing")
        }
    }
    function EditResultUploaded(id){
        console.log(id)
        $('#edit_result_uploaded').val(id)
        // $('#EditResultUploadedModal').modal('show');
        $.ajax({ // create an AJAX call...
                data: {
                    'edit_result_uploaded': id
                }, // get the form data
                type: 'POST', // GET or POST
                headers: { 'X-CSRFToken': '{{ csrf_token }}' },
                url: "{% url 'registered_result_uploaded' %}", // the file to call
                success: function (response) {
                    $('#EditResultUploadedModal').modal('show');
                    console.log(response);
                    $('#edit_result_uploaded_date').val(response.data.date)
                    $('#edit_result_uploaded_examination').val(response.data.examination)
                    $('#edit_result_uploaded_semyear').val(response.data.semyear)
                    $('#edit_result_uploaded_yn').val(response.data.uploaded)
                    $('#edit_result_uploaded_remarks').val(response.data.remarks)
                }
            });
    }
    function edit_result_uploaded(id){
        var edit_result_uploaded_date = $('#edit_result_uploaded_date').val()
        var edit_result_uploaded_examination = $('#edit_result_uploaded_examination').val()
        var edit_result_uploaded_semyear = $('#edit_result_uploaded_semyear').val()
        var edit_result_uploaded_yn = $('#edit_result_uploaded_yn').val()
        var edit_result_uploaded_remarks = $('#edit_result_uploaded_remarks').val()
        console.log(id,edit_result_uploaded_date,edit_result_uploaded_examination,edit_result_uploaded_semyear,edit_result_uploaded_yn,edit_result_uploaded_remarks)
        if (edit_result_uploaded_date != "" && edit_result_uploaded_examination != "" && edit_result_uploaded_semyear != "" && edit_result_uploaded_yn != "" && edit_result_uploaded_remarks != "")
        {
            $.ajax({ // create an AJAX call...
            data: {
                "editresultuploaded_studentid":id,
                "editresultuploaded_date":edit_result_uploaded_date,
                "editresultuploaded_examination":edit_result_uploaded_examination,
                "editresultuploaded_semyear":edit_result_uploaded_semyear,
                "editresultuploaded_yn":edit_result_uploaded_yn,
                "editresultuploaded_remarks":edit_result_uploaded_remarks
            }, // get the form data
            type: 'POST', // GET or POST
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            url: "{% url 'registered_result_uploaded' %}", // the file to call
            success: function (response) {
                console.log(response)
                
                console.log("sent")
                if(response.data){
                    $('#get_resultuploaded_table_body').empty();
                    $('#EditResultUploadedModal').modal('hide');

                    $('#edit_result_uploaded_date').val('')
                    $('#edit_result_uploaded_examination').val('')
                    $('#edit_result_uploaded_semyear').val('')
                    $('#edit_result_uploaded_yn').val('')
                    $('#edit_result_uploaded_remarks').val('')
                        var data = response.data;
                        data.forEach(myfunction);
                        var count = 0
                        
                        function myfunction(item,count){
                            console.log(item);
                            count = count +1;
                            $('#get_resultuploaded_table_body').append(`
                            <tr>
                                <th scope="row">${count}</th>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.date}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.examination}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.semyear}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.uploaded}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.remarks}</td>
                                <td class="font-14 text-extralightgray px-2 text-center "> <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="EditResultUploaded(${item.id})">Edit</button> </td>
                            </tr>
                            `);
                        }
                    }
            }
        });
        }
    }




    function UniversityReRegistration(id){
        $.ajax({ // create an AJAX call...
                data: {
                    'universityReRegistration': id
                }, // get the form data
                type: 'POST', // GET or POST
                headers: { 'X-CSRFToken': '{{ csrf_token }}' },
                url: "{% url 'registered_university_re_registration' %}", // the file to call
                success: function (response) {
                    console.log(response)
                    if(response.student_id){
                        $('#university_re_registration_student_id').val(response.student_id)
                    }
                    if(response.data){
                        $('#university_re_registration_table_body').empty()
                        var data = response.data;
                        data.forEach(myfunction);
                        var count = 0
                        function myfunction(item,count){
                            console.log(item);
                            count = count +1;
                            var transaction_date = item.date;
                            console.log("transaction date : ",transaction_date)
                            var datePart = transaction_date.match(/\d+/g),
                            year = datePart[0].substring(0), // get only two digits
                            month = datePart[1], day = datePart[2];
                            console.log("datePart : ",datePart)
                            console.log("year : ",year)
                            console.log("month : ",month)
                            var changedate =  day+'/'+month+'/'+year;
                            
                            $('#university_re_registration_table_body').append(`
                            <tr>
                                <th scope="row">${count}</th>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.amount}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${changedate}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.examination}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.semyear}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.paymentmode}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.remarks}</td>
                                
                            </tr>
                            `);
                        }
                    }
                }
            });
        $('#UniversityReRegistrationModal').modal('show');
    }
    function AddUniversityRe_Registration(id){
        console.log(id);
        $('#add_university_re_registration_student_id').val(id)
        $('#AddNewUniversityReRegistrationModal').modal('show');
    }
    function add_university_re_registration(id){
        console.log("saved")
        var add_university_re_registration_amount = $('#add_university_re_registration_amount').val()
        var add_university_re_registration_date = $('#add_university_re_registration_date').val()
        var add_university_re_registration_examination = $('#add_university_re_registration_examination').val()
        var add_university_re_registration_semyear = $('#add_university_re_registration_semyear').val()
        var add_university_re_registration_paymentmode = $('#add_university_re_registration_paymentmode').val()
        var add_university_re_registration_remarks = $('#add_university_re_registration_remarks').val()
        console.log(add_university_re_registration_amount,add_university_re_registration_date,add_university_re_registration_examination,add_university_re_registration_semyear,add_university_re_registration_paymentmode,add_university_re_registration_remarks)
        if(add_university_re_registration_amount != "" && add_university_re_registration_date != "" && add_university_re_registration_examination != "" && add_university_re_registration_semyear != "" && add_university_re_registration_paymentmode != "" && add_university_re_registration_remarks != ""){
            
            $.ajax({ // create an AJAX call...
            data: {
                "adduniversity_re_registration_studentid":id,
                "adduniversity_re_registration_amount":add_university_re_registration_amount,
                "adduniversity_re_registration_date":add_university_re_registration_date,
                "adduniversity_re_registration_examination":add_university_re_registration_examination,
                "adduniversity_re_registration_semyear":add_university_re_registration_semyear,
                "adduniversity_re_registration_paymentmode":add_university_re_registration_paymentmode,
                "adduniversity_re_registration_remarks":add_university_re_registration_remarks,
                "adduniversity_re_registration_type":"University_Re_Registration"
            }, // get the form data
            type: 'POST', // GET or POST
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            url: "{% url 'registered_university_re_registration' %}", // the file to call
            success: function (response) {
                console.log(response)
                
                console.log("sent")
                if(response.data){
                    $('#university_re_registration_table_body').empty();

                    $('#AddNewUniversityReRegistrationModal').modal('hide');
                    $('#add_university_re_registration_amount').val('')
                    $('#add_university_re_registration_date').val('')
                    $('#add_university_re_registration_examination').val('')
                    $('#add_university_re_registration_semyear').val('')
                    $('#add_university_re_registration_paymentmode').val('')
                    $('#add_university_re_registration_remarks').val('')
                        var data = response.data;
                        data.forEach(myfunction);
                        var count = 0
                        
                        function myfunction(item,count){
                            console.log(item);
                            count = count +1;
                            $('#university_re_registration_table_body').append(`
                            <tr>
                                <th scope="row">${count}</th>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.amount}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.date}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.examination}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.semyear}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.paymentmode}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.remarks}</td>
                                
                            </tr>
                            `);
                        }
                    }
            }
        });
        }
        else{
            console.log("something is missing")
        }
        
    }



    function ShowBasicDocuments(id){
        console.log("Basic Documents Clicked",id)
        var enroll_id = $('#upload_result_student_enroll_id').val()
        PersonalDocuments(enroll_id)
        $('#basic_documents_container').empty();
    
        $('#basic_documents_container').append(`
         

            <table class="table format-table">
                <thead>
                    <tr>
                        <th scope="col">Document Type</th>
                        <th scope="col">Name on Document</th>
                        <th scope="col">ID Number</th>
                        <th scope="col">Upload Front (only PDF/JPG)</th>
                        <th scope="col">Upload Back (only PDF/JPG)</th>                      
                    </tr>
                </thead>
                <tbody id="uploadResult">
                    <tr>
                        <td class="font-14 text-extralightgray px-2 text-center ">
                            <select class="" id="upload_document"
                                aria-label="Default select example">
                                <option value="Aadhar Card">Aadhar Card</option>
                                <option value="Pan Card">Pan Card</option>
                                <option value="Passport">Passport</option>
                                <option value="Voter ID">Voter ID</option>
                                <option value="Driving License">Driving License</option>
                            </select>
                        </td>

                        <td class="font-14 text-extralightgray px-2 text-center "><input type="text" name="update_DocumentName" class="" id="update_DocumentName"></td>
                        <td class="font-14 text-extralightgray px-2 text-center "><input type="text" name="upload_DocumentID" class="" id="upload_DocumentID"></td>
                        <td class="font-14 text-extralightgray px-2 text-center "><input type="file" name="upload_DocumentFront" class="" id="upload_DocumentFront"></td>
                        <td class="font-14 text-extralightgray px-2 text-center "><input type="file" name="upload_DocumentBack" class="" id="upload_DocumentBack"></td>
                        <td class="font-14 text-extralightgray px-2 text-center "><button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="savenewdocument()">Save</button></td>
                    </tr>
                </tbody>
            </table>


            <table class="table format-table">
                <thead>
                    <tr>
                        <th scope="col">Sr. No</th>
                        <th scope="col">Document Type</th>
                        <th scope="col">Name on Document</th>
                        <th scope="col">ID Number</th>
                        <th scope="col">Document1</th>
                        <th scope="col">Download</th>
                        
                    </tr>
                </thead>
                <tbody id="ResultUploadedTableBody">

                </tbody>
            </table>
        `);
    }

    function ShowPersonalDocuments(id){
        // console.log("Personal Documents Clicked",id)
        $('#basic_documents_container').empty();
        
        $('#basic_documents_container').append(`
            <table class="table format-table">
                <thead>
                    <tr>
                        <th scope="col">Document Type</th>
                        <th scope="col">Name on Document</th>
                        <th scope="col">ID Number</th>
                        <th scope="col">Images(only PDF/JPG)</th>
                        <th scope="col">
                    </tr>
                </thead>
                <tbody id="uploadResult">
                    <tr>
                        <td class="font-14 text-extralightgray px-2 text-center "><input type="text" name="personal_update_document" class="" id="personal_update_document"></td>

                        <td class="font-14 text-extralightgray px-2 text-center "><input type="text" name="personal_update_DocumentName" class="" id="personal_update_DocumentName"></td>
                        <td class="font-14 text-extralightgray px-2 text-center "><input type="text" name="personal_upload_DocumentID" class="" id="personal_upload_DocumentID"></td>
                        <td class="font-14 text-extralightgray px-2 text-center "><input type="file" name="personal_upload_Documents" multiple class="" id="personal_upload_Documents"></td>
                        <td class="font-14 text-extralightgray px-2 text-center "><button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="savenewpersonaldocument()">Save</button></td>
                    </tr>
                </tbody>
            </table>


            <table class="table format-table">
                <thead>
                    <tr>
                        <th scope="col">Sr. No</th>
                        <th scope="col">Document Type</th>
                        <th scope="col">Name on Document</th>
                        <th scope="col">ID Number</th>
                        <th scope="col">Document</th>
                       
                        
                    </tr>
                </thead>
                <tbody id="ResultUploadedTableBody">

                </tbody>
            </table>
        `);

        if(id){
            $.ajax({ // create an AJAX call...
            data: {
                'show_personal_documents': id
            }, // get the form data
            type: 'POST', // GET or POST
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            url: "{% url 'registered_show_personal_documents' %}", // the file to call
            success: function (response) {
                console.log("response :",response)
                if(response.result){
                    var data = response.result
                    if(data.length > 0){
                        data.forEach(myfunction);
                        var count = 0;
                    
                        function myfunction(item,count){
                            count = count + 1
                            console.log(item.images)
                            $('#show_personal_document_images').empty();
                            // console.log(item)
                            var images = item.images;
                            images.forEach(myfunction2);

                            function myfunction2(image_item){
                                var iframe = $("<iframe>", {
                                    src: image_item.document_image,
                                    width: "600",
                                    height: "400",
                                    frameborder: "0"
                                });

                                $("#show_personal_document_images").append(iframe);
                            }
                            
                            
                            $('#ResultUploadedTableBody').append(`
                            <tr>
                                <th scope="row">${count}</th>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.document}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.document_name}</td>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.document_ID_no}</td>
                                <td class="font-14 text-extralightgray px-2 text-center "><button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="viewPersonalDocuments('${item.images}')">View</button></td>
                                
                            </tr>
                            `);
                        }
                    }
                }
            }
            });
        }
    }
    function savenewpersonaldocument(){
        console.log("saved")
        var personal_update_document = $('#personal_update_document').val();
        var personal_update_DocumentName = $('#personal_update_DocumentName').val();
        var personal_upload_DocumentID = $('#personal_upload_DocumentID').val();
        var personal_upload_Documents = $('#personal_upload_Documents')[0].files;
        console.log(personal_update_document , personal_update_DocumentName , personal_upload_DocumentID , personal_upload_Documents)
        var data = new FormData();
        data.append('personal_update_document',personal_update_document);
        data.append('personal_update_DocumentName',personal_update_DocumentName);
        data.append('personal_upload_DocumentID',personal_upload_DocumentID);
        $.each($("#personal_upload_Documents")[0].files, function(i, file) {
            data.append("personal_uploaded_file", file);
        });
        
        data.append('personal_student_enrollment_id',$('#upload_result_student_enroll_id').val());
        data.append("csrfmiddlewaretoken", "{{ csrf_token }}");
        $.ajax({
            method: "POST",
            url: "{% url 'registered_show_personal_documents' %}",
            processData: false,
            contentType: false,
            mimeType: "multipart/form-data",
            data: data,
            success: function (response) {
                console.log(response)
            }
        });
    }

    function PersonalDocuments(id) {
        $.ajax({ // create an AJAX call...
            data: {
                'resultuploaded': id
            }, // get the form data
            type: 'POST', // GET or POST
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            url: "{% url 'registered_show_personal_documents' %}", // the file to call
            success: function (response) {
                $('#upload_result_student_enroll_id').val("")
                if(response.student){
                    $('#upload_result_student_enroll_id').val(id)
                    console.log(id)
                    $('#basic_documents_container').empty();
                    
                    $('#upload_result_student_id').val(response.student)
                    $('#basic_documents_container').append(`
                    <div id="uploadResult">
    <div class="row py-3">
        <div class="col-4">
            <div class="col-label">
                <h5 class="text-darkgray font-14 font-bold">Document Type</h5>
            </div>
            <div class="display-block pb-2">
                <select class="text-xgray font-14" id="upload_document"
                aria-label="Default select example">
                <option value="Aadhar Card">Aadhar Card</option>
                <option value="Pan Card">Pan Card</option>
                <option value="Passport">Passport</option>
                <option value="Voter ID">Voter ID</option>
                <option value="Driving License">Driving License</option>
            </select>
            </div>
        </div>
        <div class="col-4">
            <div class="col-label">
                <h5 class="text-darkgray font-14 font-bold">Name on Document</h5>
            </div>
            <div class="display-block pb-2">
                <input type="text" name="update_DocumentName" class="text-xgray font-14" id="update_DocumentName"></td>
            </div>
        </div>
        <div class="col-4">
            <div class="col-label">
                <h5 class="text-darkgray font-14 font-bold">ID Number</h5>
            </div>
            <div class="display-block pb-2">
                <input type="text" name="upload_DocumentID" class="text-xgray font-14" id="upload_DocumentID">
            </div>
        </div>
    </div>
    <div class="row py-3">
        <div class="col-4">
            <div class="col-label">
                <h5 class="text-darkgray font-14 font-bold">Upload Front (only PDF/JPG)</h5>
            </div>
            <div class="display-block pb-2">
                <input type="file" name="upload_DocumentFront" class="text-xgray font-14" id="upload_DocumentFront">
            </div>
        </div>
        <div class="col-4">
            <div class="col-label">
                <h5 class="text-darkgray font-14 font-bold">Upload Back (only PDF/JPG)</h5>
            </div>
            <div class="display-block pb-2">
                <input type="file" name="upload_DocumentBack" class="text-xgray font-14" id="upload_DocumentBack">
            </div>
        </div>
        <div class="col-4">
            <div class="display-block pb-2 pt-4">
                <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border width-40 " onclick="savenewdocument()">Save</button>
            </div>
        </div>
    </div>
 </div>   

                        <table class="table format-table mt-2">
                            <thead>
                                <tr>
                                    <th scope="col">Sr. No</th>
                                    <th scope="col">Document Type</th>
                                    <th scope="col">Name on Document</th>
                                    <th scope="col">ID Number</th>
                                    <th scope="col">Document</th>
                                    <th scope="col">Download</th>
                                    
                                </tr>
                            </thead>
                            <tbody id="ResultUploadedTableBody">

                            </tbody>
                        </table>
                    `);
                }
                $('#ResultUploadedTableBody').empty();
                console.log(response);
                var data = response.result;
                data.forEach(myFunction);
                var count = 0;
                function myFunction(item, count) {
                    count = count + 1
                    console.log(item);
                    $('#ResultUploadedTableBody').append(`
                        
                        <tr>
                            <th scope="row">${count}</th>
                            <td class="font-14 text-extralightgray px-2 text-center ">${item.document}</td>
                            <td class="font-14 text-extralightgray px-2 text-center ">${item.document_name}</td>
                            <td class="font-14 text-extralightgray px-2 text-center ">${item.document_ID_no}</td>
                            <td class="font-14 text-extralightgray px-2 text-center "><button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="viewBasicDocuments('${item.document_image_front}','${item.document_image_back}')">View</button></td>
                            <td class="font-14 text-extralightgray px-2 text-center ">
                                <select class="" id="basic_images_download">
                                    <option value="">Select from dropdown</option>
                                    <option value="front">Front Image</option>
                                    <option value="back">Back Image</option>
                                </select>
                                <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="download_basic_image($('#basic_images_download').val(),'${item.document_image_front}','${item.document_image_back}')">Download</button>
                            </td>
                        </tr>

                        `);
                }



                $('#ResultUploadedModal').modal('show');
            }
        });
    }
    function download_basic_image(image,front,back){
        if(image == "front" ){
            console.log("front : ",front);
            var links = document.createElement("a");
            // If you don't know the name or want to use
            // the webserver default set name = ''
            links.setAttribute('download', name);
            links.href = front;
            document.body.appendChild(links);
            links.click();
            links.remove();
        }
        else if(image == "back"){
            console.log("back : ",back);
            var links = document.createElement("a");
            // If you don't know the name or want to use
            // the webserver default set name = ''
            links.setAttribute('download', name);
            links.href = back;
            document.body.appendChild(links);
            links.click();
            links.remove();
        }
    }


    function viewBasicDocuments(front,back){
        $('#show_basic_documents_modal').empty()
        console.log(front,back);
        $('#ResultUploadedModal').modal('hide');
        $('#ShowBasicDocumentsModal').modal('show');
        if(front.length > 0){
            var iframe = $("<iframe>", {
                src: front,
                width: "600",
                height: "400",
                frameborder: "0"
            });

            $("#show_basic_documents_modal").append(iframe);
        }
        if(back.length > 0){
            var iframe2 = $("<iframe>", {
                src: back,
                width: "600",
                height: "400",
                frameborder: "0"
            });

            $("#show_basic_documents_modal").append(iframe2);
        }
         
        }

    function viewPersonalDocuments(id){
        console.log("yes :",id);
        $('#ShowPersonalDocumentModal').modal('show');
    }

    function viewResult(id) {
        $.ajax({ // create an AJAX call...
            data: {
                'get_personal_images': id
            }, // get the form data
            type: 'POST', // GET or POST
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            url: "{% url 'registered_show_personal_documents' %}", // the file to call
            success: function (response) {
                console.log(response);
                if(response.data){
                    var data = response.data;
                    if(data.length == 1){
                        $('#add_carousel_indicators').append(`
                            <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                        `);
                        $('#add_main_carousel_data').append(`
                            <div class="carousel-item active" data-bs-interval="10000">
                                <img src="${data[0].document_image}" class="d-block w-100" alt="...">
                                <div class="carousel-caption d-none d-md-block">
                                    
                                    <a href="${data[0].document_image}" download class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border ">Download</a>
                                    
                                </div>
                            </div>
                        `);
                    }
                    else if (data.length > 1){
                        $('#add_carousel_indicators').append(`
                            <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                        `);
                        $('#add_main_carousel_data').append(`
                            <div class="carousel-item active">
                                <img src="${data[0].document_image}" class="d-block w-100" alt="...">
                                <div class="carousel-caption d-none d-md-block">
                                    
                                    <a href="${data[0].document_image}" download class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border ">Download</a>
                                    
                                </div>
                            </div>
                        `); 
                        
                        for(var i=1;i<data.length;i++){
                            var count = i+1;
                            console.log(count)
                            $('#add_carousel_indicators').append(`
                            <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="${i}" aria-current="true" aria-label="Slide ${count}"></button>
                        `);
                        $('#add_main_carousel_data').append(`
                            <div class="carousel-item">
                                <img src="${data[i].document_image}" class="d-block w-100" alt="...">
                                <div class="carousel-caption d-none d-md-block">
                                    
                                    <a href="${data[i].document_image}" download class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border ">Download</a>
                                    
                                </div>
                            </div>
                        `); 
                        }
                    }

                    
                    
                    $('#ResultUploadedModal').modal('hide')
                    $('#PersonalDocumentImagesModal').modal('show');
                    // <div class="carousel-indicators" id="add_carousel_indicators">
                            
                    //     </div>
                    //     <div class="carousel-inner" id="add_main_carousel_data">
                }
            }
        });
    }
    function savenewdocument(){
        var student_id = $('#upload_result_student_id').val();
        var document = $('#upload_document option:selected').text();
        var document_name = $('#update_DocumentName').val();
        var document_id = $('#upload_DocumentID').val();
        var document_file_front = $('#upload_DocumentFront')[0].files[0]
        var document_file_back = $('#upload_DocumentBack')[0].files[0]
        console.log(student_id ,document , document_name , document_id , document_file_front, document_file_back)


        var data = new FormData();
        data.append('upload_student_id',student_id);
        data.append('upload_document',document);
        data.append('upload_document_name',document_name);
        data.append('upload_document_id',document_id);
        data.append('document_file_front',document_file_front);
        data.append('document_file_back',document_file_back);


        data.append("csrfmiddlewaretoken", "{{ csrf_token }}");
        
        
        $.ajax({
            method: "POST",
            url: "{% url 'registered_show_personal_documents' %}",
            processData: false,
            contentType: false,
            mimeType: "multipart/form-data",
            data: data,
            success: function (response) {
                $('#ResultUploadedTableBody').empty()
                const obj = JSON.parse(response);
                console.log(obj);
                if(obj.added == "yes"){
                    var data = obj.documents;
                    data.forEach(myfunction);
                    
                    count = 0
                    function myfunction(item,count){  
                        console.log(item)
                        count = count + 1;
                        $('#ResultUploadedTableBody').append(`
                        <tr>
                            <th scope="row">${count}</th>
                            <td class="font-14 text-extralightgray px-2 text-center "> ${item.document} </td>
                            <td class="font-14 text-extralightgray px-2 text-center ">${item.document_name}</td>
                            <td class="font-14 text-extralightgray px-2 text-center ">${item.document_ID_no}</td>
                            <td class="font-14 text-extralightgray px-2 text-center "><button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="viewBasicDocuments('${item.document_image_front}','${item.document_image_back}')">View</button></td>
                        </tr>

                        `);
                        
                    }
                    // 
                    
                }
            }
        });
        
        
    }

    function Syllabus(id) {
        $.ajax({ // create an AJAX call...
            data: {
                'syllabus': id
            }, // get the form data
            type: 'POST', // GET or POST
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            url: "{% url 'registered' %}", // the file to call
            success: function (response) {
                $('#SyllabusModaldata').empty();
                console.log(response)
                if(response.student){
                    $('#studentsyllabus_student_id').val(response.student);
                }
                
                console.log("Syllabus Sent")
                if (response.syllabus == "yes") {
                    $('#syllabusmainhidden').css('visibility','visible')
                    $('#SyllabusModaldata').append(`
                        
                        <table class="table format-table">
                            <thead>
                            <tr>
                                <th scope="col">Course</th>
                                <th scope="col">Stream</th>
                                <th scope="col">Semester</th>
                                <th scope="col">Syllabus</th>

                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <th scope="row">${response.study.coursename}</th>
                                <th scope="row">${response.study.streamname}</th>
                                <td class="font-14 text-extralightgray px-2 text-center ">${response.data.semester}</td>
                                <td class="font-14 text-extralightgray px-2 text-center "><a href="${response.data.pdf}" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " target="_blank">View</a></td>
                            </tr>
                            </tbody>
                        </table>
                        
                        `);

                }
                if(response.studentsyllabus){
                    var studentsyllabus = response.studentsyllabus;
                    studentsyllabus.forEach(myFunction2);
                    if(studentsyllabus != ''){
                        $('#studentsyllabushidden').css('visibility','visible')
                    }
                    function myFunction2(item){
                        $('#StudentSyllabusModaldata').append(`
                            <tr>
                                <td class="font-14 text-extralightgray px-2 text-center ">${item.semester}</td>
                                <td class="font-14 text-extralightgray px-2 text-center "><a href="${item.pdf}" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " target="_blank">View</a></td>
                            </tr>
                        
                        `);
                    }
                }
            }
        });
        $('#SyllabusModal').modal('show');
    }
    function savestudentsyllabus(){

        var data = new FormData();
        data.append("studentsyllabus_student_id", $('#studentsyllabus_student_id').val());
        data.append("studentsyllabus_semester", $('#studentsyllabus_semester').val());
        data.append("studentsyllabus_file", $('#studentsyllabus_file')[0].files[0]);
        data.append("csrfmiddlewaretoken", "{{ csrf_token }}");
        $.ajax({
            method: "POST",
            url: "{% url 'registered' %}",
            processData: false,
            contentType: false,
            mimeType: "multipart/form-data",
            data: data,
            success: function (response) {
                const obj = JSON.parse(response);
                console.log(obj.data);
                if(obj.data){
                    $('#studentsyllabushidden').css('visibility','visible')
                    $('#StudentSyllabusModaldata').append(`
                        
                        <tr>
                            <td class="font-14 text-extralightgray px-2 text-center ">${obj.data.semester}</td>
                            <td class="font-14 text-extralightgray px-2 text-center "><a href="${obj.data.pdf}" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " target="_blank">View</a></td>
                        </tr>
                        
                        `);
                }
            }
        });
        
        
    }

    function Documents(id) {
        $.ajax({ // create an AJAX call...
            data: {
                'documents': id
            }, // get the form data
            type: 'POST', // GET or POST
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            url: "{% url 'registered_get_qualification_documents' %}", // the file to call
            success: function (response) {
                console.log(response)
                $('#DocumentsModalTableBody').empty();

               
                var data = response.qualification;
                if(data.id){
                    $('#upload_document_student_id').val(data.id);
                }
                console.log(response)
                if (data.secondary_document == "/media/False") {
                    var secondary_document = '<i class="fas fa-times"></i>'
                    var secondary_document_file = ''
                }
                else {
                    var secondary_document = '<i class="fas fa-check"></i>'
                    var secondary_document_file = data.secondary_document
                }

                if (data.sr_document == "/media/False") {
                    var sr_document = '<i class="fas fa-times"></i>'
                    var sr_document_file = ''
                }
                else {
                    var sr_document = '<i class="fas fa-check"></i>'
                    var sr_document_file = data.sr_document
                }

                if (data.under_document == "/media/False") {
                    var under_document = '<i class="fas fa-times"></i>'
                    var under_document_file = ''
                }
                else {
                    var under_document = '<i class="fas fa-check"></i>'
                    var under_document_file = data.under_document
                }

                if (data.post_document == "/media/False") {
                    var post_document = '<i class="fas fa-times"></i>'
                    var post_document_file = ''
                }
                else {
                    var post_document = '<i class="fas fa-check"></i>'
                    var post_document_file = data.post_document
                }

                if (data.mphil_document == "/media/False") {
                    var mphil_document = '<i class="fas fa-times"></i>'
                    var mphil_document_file = ''
                }
                else {
                    var mphil_document = '<i class="fas fa-check"></i>'
                    var mphil_document_file = data.mphil_document
                }

                if (data.others_document == "/media/False") {
                    var others_document = '<i class="fas fa-times"></i>'
                    var others_document_file = ''
                }
                else {
                    var others_document = '<i class="fas fa-check"></i>'
                    var others_document_file = data.others_document
                }




                $('#DocumentsModalTableBody').append(`
                    
                    <tr>
                        <th scope="row">Secondary/High School</th>
                        <td class="font-14 text-extralightgray px-2 text-center ">${data.secondary_year}</td>
                        <td class="font-14 text-extralightgray px-2 text-center ">${data.secondary_board}</td>
                        <td class="font-14 text-extralightgray px-2 text-center ">${data.secondary_percentage}</td>
                        <td class="font-14 text-extralightgray px-2 text-center ">${secondary_document} <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="ShowDocument('${secondary_document_file}')">View</button> </td>
                        <td class="font-14 text-extralightgray px-2 text-center "><button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="DownloadDocument('${secondary_document_file}')">Download</button> </td>
                        
                    </tr>

                    <tr>
                        <th scope="row">Sr. Secondary</th>
                        <td>${data.sr_year}</td>
                        <td>${data.sr_board}</td>
                        <td>${data.sr_percentage}</td>
                        <td>${sr_document} <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="ShowDocument('${sr_document_file}')">View</button> </td>
                        <td><button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="DownloadDocument('${sr_document_file}')">Download</button> </td>
                    </tr>

                    <tr>
                        <th scope="row">Under Graduation</th>
                        <td>${data.under_year}</td>
                        <td>${data.under_board}</td>
                        <td>${data.under_percentage}</td>
                        <td>${under_document} <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="ShowDocument('${under_document_file}')">View</button> </td>
                        <td><button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="DownloadDocument('${under_document_file}')">Download</button> </td>
                    </tr>

                    <tr>
                        <th scope="row">Post Graduation</th>
                        <td>${data.post_year}</td>
                        <td>${data.post_board}</td>
                        <td>${data.post_percentage}</td>
                        <td>${post_document} <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="ShowDocument('${post_document_file}')">View</button> </td>
                        <td><button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="DownloadDocument('${post_document_file}')">Download</button> </td>
                    </tr>

                    <tr>
                        <th scope="row">M.Phil</th>
                        <td>${data.mphil_year}</td>
                        <td>${data.mphil_board}</td>
                        <td>${data.mphil_percentage}</td>
                        <td>${mphil_document} <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="ShowDocument('${mphil_document_file}')">View</button> </td>
                        <td><button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="DownloadDocument('${mphil_document_file}')">Download</button> </td>
                    </tr>

                    <tr>
                        <th scope="row">Others</th>
                        <td>${data.others_year}</td>
                        <td>${data.others_board}</td>
                        <td>${data.others_percentage}</td>
                        <td>${others_document} <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="ShowDocument('${others_document_file}')">View</button> </td>
                        <td><button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="DownloadDocument('${others_document_file}')">Download</button> </td>
                    </tr>

                    

                    `);
            }
        });
        $('#DocumentsModal').modal('show');
    }
    function ShowDocument(link) {
        $('#documentUploaded').modal('show');
        if (link) {
            $('#document_data').attr("src", link)
        }
        else {
            $('#document_data').html('<h6 class="font-18 text-darkblue">No Document Present</h6>')
        }

    }
    function DownloadDocument(link){
        
        if(link == "null"){
            console.log("null")
        }
        else{
            var links = document.createElement("a");
            // If you don't know the name or want to use
            // the webserver default set name = ''
            links.setAttribute('download', name);
            links.href = link;
            document.body.appendChild(links);
            links.click();
            links.remove();
        }
    }
    function addDocuments(){
        var data = new FormData();
        data.append('upload_qualification_name',$('#upload_qualification_name option:selected').text());
        data.append('upload_qualification_year',$('#upload_qualification_year option:selected').text());
        data.append("upload_qualification_board", $('#upload_qualification_board').val());
        data.append("upload_document_student_id", $('#upload_document_student_id').val());
        data.append("upload_qualification_percentage", $('#upload_qualification_percentage').val());
        data.append("upload_qualification_document", $('#upload_qualification_document')[0].files[0]);
        data.append("csrfmiddlewaretoken", "{{ csrf_token }}");
        $.ajax({
            method: "POST",
            url: "{% url 'registered_get_qualification_documents' %}",
            processData: false,
            contentType: false,
            mimeType: "multipart/form-data",
            data: data,
        success: function (response) {
            console.log(response)
            const obj = JSON.parse(response);
                console.log(obj.qualification);
                $('#DocumentsModalTableBody').empty();

               
                var data = obj.qualification;
                
                if (data.secondary_document == "/media/False") {
                    var secondary_document = '<i class="fas fa-times"></i>'
                    var secondary_document_file = ''
                }
                else {
                    var secondary_document = '<i class="fas fa-check"></i>'
                    var secondary_document_file = data.secondary_document
                }

                if (data.sr_document == "/media/False") {
                    var sr_document = '<i class="fas fa-times"></i>'
                    var sr_document_file = ''
                }
                else {
                    var sr_document = '<i class="fas fa-check"></i>'
                    var sr_document_file = data.sr_document
                }

                if (data.under_document == "/media/False") {
                    var under_document = '<i class="fas fa-times"></i>'
                    var under_document_file = ''
                }
                else {
                    var under_document = '<i class="fas fa-check"></i>'
                    var under_document_file = data.under_document
                }

                if (data.post_document == "/media/False") {
                    var post_document = '<i class="fas fa-times"></i>'
                    var post_document_file = ''
                }
                else {
                    var post_document = '<i class="fas fa-check"></i>'
                    var post_document_file = data.post_document
                }

                if (data.mphil_document == "/media/False") {
                    var mphil_document = '<i class="fas fa-times"></i>'
                    var mphil_document_file = ''
                }
                else {
                    var mphil_document = '<i class="fas fa-check"></i>'
                    var mphil_document_file = data.mphil_document
                }

                if (data.others_document == "/media/False") {
                    var others_document = '<i class="fas fa-times"></i>'
                    var others_document_file = ''
                }
                else {
                    var others_document = '<i class="fas fa-check"></i>'
                    var others_document_file = data.others_document
                }




                $('#DocumentsModalTableBody').append(`
                    
                    <tr>
                        <th scope="row">Secondary/High School</th>
                        <td>${data.secondary_year}</td>
                        <td>${data.secondary_board}</td>
                        <td>${data.secondary_percentage}</td>
                        <td>${secondary_document} <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="ShowDocument('${secondary_document_file}')">View</button> </td>
                        <td><button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="DownloadDocument('${secondary_document_file}')">Download</button> </td>
                    </tr>

                    <tr>
                        <th scope="row">Sr. Secondary</th>
                        <td>${data.sr_year}</td>
                        <td>${data.sr_board}</td>
                        <td>${data.sr_percentage}</td>
                        <td>${sr_document} <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="ShowDocument('${sr_document_file}')">View</button> </td>
                        <td><button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="DownloadDocument('${sr_document_file}')">Download</button> </td>
                    </tr>

                    <tr>
                        <th scope="row">Under Graduation</th>
                        <td>${data.under_year}</td>
                        <td>${data.under_board}</td>
                        <td>${data.under_percentage}</td>
                        <td>${under_document} <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="ShowDocument('${under_document_file}')">View</button> </td>
                        <td><button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="DownloadDocument('${under_document_file}')">Download</button> </td>
                    </tr>

                    <tr>
                        <th scope="row">Post Graduation</th>
                        <td>${data.post_year}</td>
                        <td>${data.post_board}</td>
                        <td>${data.post_percentage}</td>
                        <td>${post_document} <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="ShowDocument('${post_document_file}')">View</button> </td>
                        <td><button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="DownloadDocument('${post_document_file}')">Download</button> </td>
                    </tr>

                    <tr>
                        <th scope="row">M.Phil</th>
                        <td>${data.mphil_year}</td>
                        <td>${data.mphil_board}</td>
                        <td>${data.mphil_percentage}</td>
                        <td>${mphil_document} <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="ShowDocument('${mphil_document_file}')">View</button> </td>
                        <td><button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="DownloadDocument('${mphil_document_file}')">Download</button> </td>
                    </tr>

                    <tr>
                        <th scope="row">Others</th>
                        <td>${data.others_year}</td>
                        <td>${data.others_board}</td>
                        <td>${data.others_percentage}</td>
                        <td>${others_document} <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="ShowDocument('${others_document_file}')">View</button> </td>
                        <td><button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="DownloadDocument('${others_document_file}')">Download</button> </td>
                    </tr>

                    

                    `);
            

        }
        });
    }

    function NewUniversityEnrollmentNumber(id){
        $.ajax({ // create an AJAX call...
                data: {
                    'newuniversityenrollment_id': id
                }, // get the form data
                type: 'POST', // GET or POST
                headers: { 'X-CSRFToken': '{{ csrf_token }}' },
                url: "{% url 'registered_new_university_enrollment_number' %}", // the file to call
                success: function (response) {
                    $('#new_university_enrollment_no_table_body').empty();
                    console.log(response)
                    if(response.student_id){
                        $('#new_university_enrollment_student_id').val(response.student_id);
                    }
                    if(response.data){
                        var data = response.data;
                        data.forEach(myfunction);
                        var count = 0;
                        function myfunction(item,count){
                            count = count + 1;
                            $('#new_university_enrollment_no_table_body').append(`
                            <tr>
                                <th scope="row">${count}</th>
                                <td>${item.course_name}</td>
                                <td>${item.enrollment_id}</td>
                            </tr>
                            `);
                        }
                    }
                }
            });
        $('#NewUniversityEnrollmentIDModal').modal('show');
    }
    function AddNewUniversityEnrollment(id){
        console.log(id)
        
        $.ajax({ // create an AJAX call...
                data: {
                    'getnewuniversity_enrollment_details': id
                }, // get the form data
                type: 'POST', // GET or POST
                headers: { 'X-CSRFToken': '{{ csrf_token }}' },
                url: "{% url 'registered_new_university_enrollment_number' %}", // the file to call
                success: function (response) {
                    console.log(response);
                    $('#select_new_university_enrollment_university').empty();
                    $('#select_new_university_enrollment_university').append(`
                            <option value="">Select University</option>
                            `);
                    if(response.student_id){
                        $('#add_new_university_enrollment_student_id').val(response.student_id)
                    }
                    if(response.university){
                        var university = response.university;

                        university.forEach(myfunction);
                        
                        function myfunction(item){
                            console.log(item);
                            $('#select_new_university_enrollment_university').append(`
                            <option value="${item.registrationID}">${item.university_name}</option>
                            `);
                        }
                    }
                    $('#AddNewUniversityEnrollmentIDModal').modal('show')
                }
            });
    }
   
    document.getElementById("select_new_university_enrollment_university").onchange = function () {
    var university = this.value;
    console.log(university)
    if(university == "Select University"){

    }
    else{
      $.ajax({ // create an AJAX call...
            type: "GET",
            url: "{% url 'addstudent' %}",
            headers: {'X-CSRFToken': '{{ csrf_token }}'},
            data: {
              'get_course':university
            },
            success: function(response) {
              console.log(response)
              if(response.course){
                $('#select_new_university_enrollment_course').empty();
                $('#select_new_university_enrollment_course').append(`
                    <option>Select Course</option>
                  `);
                var data = response.course
                data.forEach(myFunction);

                function myFunction(item){
                  $('#select_new_university_enrollment_course').append(`
                    <option value="${item.id}">${item.name}</option>
                  `);
                }

              }
            }
          });
          
    }
}
    function save_new_enrollment_id(id){
        var student_id = id;
        var university = $('#select_new_university_enrollment_university').val();
        var course = $('#select_new_university_enrollment_course').val();
        var new_enrollment_id = $('#select_new_university_enrollment_id').val();
        if(student_id != "" && course != "" && new_enrollment_id != ""){
            console.log(student_id,university,course,new_enrollment_id,'new')
            console.log("all given");
            $.ajax({ // create an AJAX call...
                data: {
                    'new_university_enrollment_student_id':student_id,
                    'new_university_enrollment_course': course,
                    'new_university_enrollment_id':new_enrollment_id,
                    'new_university_enrollment_type':'new'
                }, // get the form data
                type: 'POST', // GET or POST
                headers: { 'X-CSRFToken': '{{ csrf_token }}' },
                url: "{% url 'registered_new_university_enrollment_number' %}", // the file to call
                success: function (response) {
                    $('#new_university_enrollment_no_table_body').empty();
                    console.log(response)
                    console.log("sent")
                    if(response.data){
                        $('#AddNewUniversityEnrollmentIDModal').modal('hide')
                        var data = response.data;
                        data.forEach(myfunction);
                        var count = 0;
                        function myfunction(item,count){
                            count = count + 1;
                            $('#new_university_enrollment_no_table_body').append(`
                            <tr>
                                <th scope="row">${count}</th>
                                <td>${item.course_name}</td>
                                <td>${item.enrollment_id}</td>
                            </tr>
                            `);
                        }
                    }
                }
            });
        }
        else{
            console.log("something missing")
        }
    }

    // --------------------

    function OldUniversityEnrollmentNumber(id){
        $.ajax({ // create an AJAX call...
                data: {
                    'olduniversityenrollment_id': id
                }, // get the form data
                type: 'POST', // GET or POST
                headers: { 'X-CSRFToken': '{{ csrf_token }}' },
                url: "{% url 'registered_old_university_enrollment_number' %}", // the file to call
                success: function (response) {
                    $('#old_university_enrollment_no_table_body').empty();
                    console.log(response)
                    if(response.student_id){
                        $('#old_university_enrollment_student_id').val(response.student_id);
                    }
                    if(response.data){
                        var data = response.data;
                        data.forEach(myfunction);
                        var count = 0;
                        function myfunction(item,count){
                            count = count + 1;
                            $('#old_university_enrollment_no_table_body').append(`
                            <tr>
                                <th scope="row">${count}</th>
                                <td>${item.course_name}</td>
                                <td>${item.enrollment_id}</td>
                            </tr>
                            `);
                        }
                    }
                }
            });
        $('#OldUniversityEnrollmentIDModal').modal('show');
    }
    function AddOldUniversityEnrollment(id){
        console.log(id)
        
        $.ajax({ // create an AJAX call...
                data: {
                    'getolduniversity_enrollment_details': id
                }, // get the form data
                type: 'POST', // GET or POST
                headers: { 'X-CSRFToken': '{{ csrf_token }}' },
                url: "{% url 'registered_old_university_enrollment_number' %}", // the file to call
                success: function (response) {
                    console.log(response);
                    $('#select_old_university_enrollment_university').empty();
                    $('#select_old_university_enrollment_university').append(`
                            <option value="">Select University</option>
                            `);
                    if(response.student_id){
                        $('#add_old_university_enrollment_student_id').val(response.student_id)
                    }
                    if(response.university){
                        var university = response.university;

                        university.forEach(myfunction);
                        
                        function myfunction(item){
                            console.log(item);
                            $('#select_old_university_enrollment_university').append(`
                            <option value="${item.registrationID}">${item.university_name}</option>
                            `);
                        }
                    }
                    $('#AddOldUniversityEnrollmentIDModal').modal('show')
                }
            });
    }
   
    document.getElementById("select_old_university_enrollment_university").onchange = function () {
    var university = this.value;
    console.log(university)
    if(university == "Select University"){

    }
    else{
      $.ajax({ // create an AJAX call...
            type: "GET",
            url: "{% url 'addstudent' %}",
            headers: {'X-CSRFToken': '{{ csrf_token }}'},
            data: {
              'get_course':university
            },
            success: function(response) {
              console.log(response)
              if(response.course){
                $('#select_old_university_enrollment_course').empty();
                $('#select_old_university_enrollment_course').append(`
                    <option>Select Course</option>
                  `);
                var data = response.course
                data.forEach(myFunction);

                function myFunction(item){
                  $('#select_old_university_enrollment_course').append(`
                    <option value="${item.id}">${item.name}</option>
                  `);
                }

              }
            }
          });
          
    }
}
    function save_old_enrollment_id(id){
        var student_id = id;
        var university = $('#select_old_university_enrollment_university').val();
        var course = $('#select_old_university_enrollment_course').val();
        var old_enrollment_id = $('#select_old_university_enrollment_id').val();
        if(student_id != "" && course != "" && old_enrollment_id != ""){
            console.log(student_id,university,course,old_enrollment_id,'old')
            console.log("all given");
            $.ajax({ // create an AJAX call...
                data: {
                    'old_university_enrollment_student_id':student_id,
                    'old_university_enrollment_course': course,
                    'old_university_enrollment_id':old_enrollment_id,
                    'old_university_enrollment_type':'old'
                }, // get the form data
                type: 'POST', // GET or POST
                headers: { 'X-CSRFToken': '{{ csrf_token }}' },
                url: "{% url 'registered_old_university_enrollment_number' %}", // the file to call
                success: function (response) {
                    $('#old_university_enrollment_no_table_body').empty();
                    console.log(response)
                    console.log("sent")
                    if(response.data){
                        $('#AddOldUniversityEnrollmentIDModal').modal('hide')
                        var data = response.data;
                        data.forEach(myfunction);
                        var count = 0;
                        function myfunction(item,count){
                            count = count + 1;
                            $('#old_university_enrollment_no_table_body').append(`
                            <tr>
                                <th scope="row">${count}</th>
                                <td>${item.course_name}</td>
                                <td>${item.enrollment_id}</td>
                            </tr>
                            `);
                        }
                    }
                }
            });
        }
        else{
            console.log("something missing")
        }
    }
    
   
    
    
    function CourierData(id) {
        $.ajax({ // create an AJAX call...
            data: {
                'courier': id
            }, // get the form data
            type: 'POST', // GET or POST
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            url: "{% url 'registered_courier_details' %}", // the file to call
            success: function (response) {
                $('#courier_modal_table_body').empty();
                console.log(response)
                $('#new_courier_student_id').val(response.student);
                if(response.data){
                    var data = response.data;
                    data.forEach(myfunction);
                    var count = 0;
                    function myfunction(item,count){
                        count = count + 1;
                        console.log(item);
                        $('#courier_modal_table_body').append(`
                        <tr>
                            <th scope="row">${count}</th>
                            <td>${item.article_name}</td>
                            <td>${item.courier_from}</td>
                            <td>${item.courier_to}</td>
                            <td>${item.booking_date}</td>
                            <td>${item.courier_company}</td>
                            <td>${item.tracking_id}</td>
                            <td>${item.remarks}</td>

                            
                        </tr>


                        `);
                    }
                }
            }
        });
        $('#CourierModal').modal('show');
    }
    
    function AddNewCourier(id){
        console.log(id)
        $('#add_new_courier_student_id').val(id);
        $('#AddCourierModal').modal('show');
    }
    

    function SaveCourier(id){
        console.log(id);
        var courier_student_id = id;
        var article_name = $('#courier_article_name').val();
        var courier_from = $('#courier_from').val();
        var courier_to = $('#courier_to_whom').val();
        var booking_date = $('#courier_booking_date').val();
        var courier_company = $('#courier_company_name').val();
        var tracking_id = $('#courier_tracking_id').val();
        var remarks = $('#courier_remarks').val();
        $.ajax({ // create an AJAX call...
            data: {
                'courier_student_id': courier_student_id,
                'courier_article_name': article_name,
                'courier_from': courier_from,
                'courier_to': courier_to,
                'courier_booking_date': booking_date,
                'courier_company': courier_company,
                'courier_tracking_id': tracking_id,
                'courier_remarks': remarks
            }, // get the form data
            type: 'POST', // GET or POST
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            url: "{% url 'registered_courier_details' %}", // the file to call
            success: function (response) {
                console.log(response);
                if(response.data){
                    $('#courier_modal_table_body').empty()
                    $('#AddCourierModal').modal('hide');
                    var data = response.data;
                    data.forEach(myfunction);
                    var count = 0;
                    function myfunction(item,count){
                        count = count + 1;
                        console.log(item);
                        $('#courier_modal_table_body').append(`
                        <tr>
                            <th scope="row">${count}</th>
                            <td>${item.article_name}</td>
                            <td>${item.courier_from}</td>
                            <td>${item.courier_to}</td>
                            <td>${item.booking_date}</td>
                            <td>${item.courier_company}</td>
                            <td>${item.tracking_id}</td>
                            <td>${item.remarks}</td>

                            
                        </tr>


                        `);
                    }
                }
                
            }
        });
    }
    
    
    // function saveCourier() {
    //     var courier_company_name = $('#courier_company_name').val();
    //     var courier_tracking_id = $('#courier_tracking_id').val();
    //     var courier_date = $('#courier_date').val();
    //     var courier_return_date = $('#courier_return_date').val();
    //     var courier_return_reason = $('#courier_return_reason').val();
    //     var courier_goods_type = $('#courier_goods_type').val();
    //     var courier_remarks = $('#courier_remarks').val();
    //     var courier_student_id = $('#student_id').val();
    //     console.log(courier_company_name, courier_tracking_id, courier_date, courier_return_date, courier_return_reason, courier_goods_type, courier_remarks, student_id)
    //     $.ajax({ // create an AJAX call...
    //         data: {
    //             'courier_company_name': courier_company_name,
    //             'courier_tracking_id': courier_tracking_id,
    //             'courier_date': courier_date,
    //             'courier_return_date': courier_return_date,
    //             'courier_return_reason': courier_return_reason,
    //             'courier_goods_type': courier_goods_type,
    //             'courier_remarks': courier_remarks,
    //             'courier_student_id': courier_student_id
    //         }, // get the form data
    //         type: 'POST', // GET or POST
    //         headers: { 'X-CSRFToken': '{{ csrf_token }}' },
    //         url: "{% url 'registered' %}", // the file to call
    //         success: function (response) {
    //             console.log(response);
    //             $('#CourierModal').modal('hide');
    //         }
    //     });
    // }


    function PaymentGateway(id) {
        $.ajax({ // create an AJAX call...
            data: {
                'payment_gateway': id
            }, // get the form data
            type: 'POST', // GET or POST
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            url: "{% url 'registered_payment_gateway' %}", // the file to call
            success: function (response) {
                if(response.pending == "yes"){
                    console.log(response)
                    $('#hiddenform').css('visibility','visible');
                    $('#pending_amount_label').html(`Rs. ${response.amount} is Pending.`);
                    $('#pending_key').val(response.transactionData.key);
                    $('#pending_txnid').val(response.transactionData.txnid);
                    $('#pending_productinfo').val(response.transactionData.productinfo);
                    $('#pending_amount').val(response.transactionData.amount);
                    $('#pending_email').val(response.transactionData.email);
                    $('#pending_firstname').val(response.transactionData.firstname);
                    $('#pending_lastname').val(response.transactionData.lastname);
                    $('#pending_surl').val(response.transactionData.surl);
                    $('#pending_furl').val(response.transactionData.furl);
                    $('#pending_phone').val(response.transactionData.phone);
                    $('#pending_hash').val(response.transactionData.hashh);
                    $('#PendingPaymentGatewayModal').modal('show');
                }
                else if(response.pending == "no"){
                    $('#pending_amount_label').html(`No Pending Amount Remaining. You can Enroll Student to next Semester/Year`);
                    $('#hiddenform').css('visibility','hidden');
                    $('#PendingPaymentGatewayModal').modal('show');
                }
                else{
                console.log(response)
                $('#key').val(response.transactionData.key);
                $('#txnid').val(response.transactionData.txnid);
                $('#productinfo').val(response.transactionData.productinfo);
                $('#amount').val(response.transactionData.amount);
                $('#email').val(response.transactionData.email);
                $('#firstname').val(response.transactionData.firstname);
                $('#lastname').val(response.transactionData.lastname);
                $('#surl').val(response.transactionData.surl);
                $('#furl').val(response.transactionData.furl);
                $('#phone').val(response.transactionData.phone);
                $('#hash').val(response.transactionData.hashh);

                // $('#PaymentGatewayModal').modal('show');
                }
            }
        });
    }
    
    function viewprintcourier(courier_id) {
        
        $.ajax({ // create an AJAX call...
            data: {
                'courier_id': courier_id
            }, // get the form data
            type: 'POST', // GET or POST
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            url: "{% url 'registered' %}", // the file to call
            success: function (response) {
                $('#CourierPrintModalBody').empty();
                console.log(response);
                if(response.courier != 0){
                    $('#CourierPrintModal').modal('show');
                    $('#CourierPrintModalBody').append(`
                    <div class="page-header print_form text-blue-d2">
                            <div class="page-tools">
                                <div class="action-buttons">
                                    <button class="btn bg-white btn-light mx-1px text-95 print_button" data-title="Print" id="print_button" onclick="print_screen()">
                                        <i class="mr-1 fa fa-print text-primary-m1 text-120 w-2 print_button"></i>
                                        Print
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="row print_form">
                            <!-- BEGIN INVOICE -->
                            <div class="col-xs-12">
                                <div class="grid invoice">
                                    <div class="grid-body">
                                        <div class="invoice-title">
                                            <div class="row">
                                                <div class="col-xs-12">
                                                    <img src="{% static 'dict/images/ciis.png' %}"  alt=""
                                                        height="45" width="45">
                                                </div>
                                            </div>
                                            <br>
                                            
                                        </div>
                                        <hr>
                                        <div class="row">
                                            <div class="col-xs-6">
                                                <address>
                                                    <strong>Sent To:</strong><br>
                                                    ${response.student.first_name} ${response.student.middle_name} ${response.student.last_name}<br>
                                                    ${response.student.address}<br>
                                                    ${response.student.city}, ${response.student.state}, ${response.student.country} , ${response.student.pincode} <br>
                                                    <div class="my-1"><i class="fa fa-phone fa-flip-horizontal text-secondary"></i> <b class="text-600">${response.student.mobile}</b></div>
                                                <div class="my-1"><i class="fas fa-envelope  text-secondary"></i> <b class="text-600">${response.student.email}</b></div>
                                                </address>
                                            </div>
                                            
                                        </div>
                                        
                                        <div class="row">
                                            <div class="col-md-12">
                                                <h3>Courier SUMMARY</h3>
                                                <table class="table  format-table table-striped">
                                                    <thead>
                                                        <tr class="line">
                                                            <td class="text-center"><strong>Courier Company Name</strong></td>
                                                            <td class="text-center"><strong>Tracking ID</strong></td>
                                                            <td class="text-right"><strong>Courier Date</strong></td>
                                                            <td class="text-right"><strong>Courier Goods Type</strong></td>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            <td class="text-center"> <strong>ABC Transportation</strong>
                                                            </td>
                                                            <td class="text-center">123456789D</td>
                                                            <td class="text-center">2022-04-25</td>
                                                            <td class="text-right">Marksheet</td>
                                                        </tr>
                                                        
                                                    
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                        
                                    </div>
                                </div>
                            </div>
                            <!-- END INVOICE -->
                        </div>

                    `);
                }
            }
        });

    }
    function print_screen() {
        console.log("print button clicked")
        window.print();
    } 

    function GetRemarks(id){
        $.ajax({ // create an AJAX call...
            data: {
                'remarks': id
            }, // get the form data
            type: 'POST', // GET or POST
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            url: "{% url 'registered_get_remarks' %}", // the file to call
            success: function (response) {
                $('#remarks_popover').empty();
                console.log(response)
                var data = response.payment_reciept;
                $('#remarks_modal_head').empty();
                $('#remarks_modal_head').append(`
                
                    <tr>
                        <th scope="col">Sr.No</th>
                        <th scope="col">Year/Sem</th>
                        <th scope="col">Session</th>
                        <th scope="col">Transaction Date</th>
                        <th scope="col">Transaction ID</th>
                        <th scope="col">Mode</th>
                        <th scope="col">No</th>
                        <th scope="col">Paid Amount</th>
                        <th scope="col">Pending Amount</th>
                        <th scopt="col">View Reciept</th>
                    </tr>

                `);

                $('#remarks_table_body').empty();
                data.forEach(myFunction);
                var count = 0;
                function myFunction(item, count) {
                    console.log(item)
                    count = count + 1;
                    var transaction_date = item.transaction_date;
                    var datePart = transaction_date.match(/\d+/g),
                    year = datePart[0].substring(0), // get only two digits
                    month = datePart[1], day = datePart[2];
                    var changedate =  day+'/'+month+'/'+year;
                    if (item.paymentmode == "Cheque") {
                        
                        $('#remarks_table_body').append(`
                        <tr>
                            <th scope="row">${count}</th>
                            <td>  ${item.semyear}  </td>
                            <td> ${item.session} </td>
                            <td>  ${changedate}  </td>
                            <td>  ${item.transactionID}  </td>
                            <td>  ${item.paymentmode}  </td>
                            <td>  ${item.cheque_no}  </td>
                            <td>  ${item.paidamount}  </td>
                            <td>  ${item.pendingamount}  </td>
                            <td> <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="ShowRemarks('${item.remarks}')"> Remarks </button>   </td>                                   
                        </tr>`)
                    }
                    else {
                        $('#remarks_table_body').append(`
                        <tr>
                            <th scope="row">${count}</th>
                            <td>  ${item.semyear}  </td>
                            <td> ${item.session} </td>
                            <td>  ${changedate}  </td>
                            <td>  ${item.transactionID}  </td>
                            <td>  ${item.paymentmode}  </td>
                            <td>  NA </td>
                            <td>  ${item.paidamount}  </td>
                            <td>  ${item.pendingamount}  </td>
                            <td>  <button class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " onclick="ShowRemarks('${item.remarks}')"> Remarks </button>   </td> 
                        </tr>`)
                    }

                }
                $('#RemarksModal').modal('show');
            }
        });
    }
    
    function ShowRemarks(remarks){
        console.log(remarks , console.log(typeof(remarks)))
        var remarks_upper = remarks.toUpperCase();
        $('#remarks_popover').empty();
        $('#remarks_popover').append(`
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            <strong>${remarks_upper}</strong> 
            <button type="button" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        `);
    }
    
    function SendRemainder(id){
        $.ajax({ // create an AJAX call...
            data: {
                'sendremainder': id
            }, // get the form data
            type: 'POST', // GET or POST
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            url: "{% url 'registered' %}", // the file to call
            success: function (response) {
                if(response.pending == "no"){
                    $('#sendremainder_amount_label').html(`No Pending Amount Remaining. You can Enroll Student to next Semester/Year`);
                    // $('#hiddenform').css('visibility','hidden');
                    $('#sendremainderModal').modal('show');
                }
                else{
                    console.log(response)
                    $('#sendremainder_amount_label').html(`Fees Payment Link Sent SuccessFully ..!`);
                    // $('#hiddenform').css('visibility','hidden');
                    $('#sendremainderModal').modal('show');
                }
            }
        });
    }
    
    function EnrollNextSemester(enroll_id){
        console.log("Enrolled to next semester")
        $.ajax({ // create an AJAX call...
            data: {
                'enroll_to_next_semester': enroll_id
            }, // get the form data
            type: 'POST', // GET or POST
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            url: "{% url 'registered_enroll_to_next_semyear' %}", // the file to call
            success: function (response) {
                $('#enroll_next_semester_student_id').val('');
                $('#nextsemyear_body').empty();
                console.log(response);
                if (response.clear == "yes"){
                    if(response.enroll.total_semyear > response.enroll.current_semyear){
                        $('#enroll_next_semester_student_id').val(response.student)
                        $('#nextsemyear_body').append(`
                            <h1 class="text-center font-26 text-blue font-bold">Enroll To Next Semester / Year</h1>
                            <div class="row">
                            <div class="col-4">
                                <div class="mb-3">
                                    <label for="ENSM_course" class="">Course</label>
                                    <input type="text" name="ENSM_course" disabled class="" id="ENSM_course">
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="mb-3">
                                    <label for="ENSM_stream" class="">Stream</label>
                                    <input type="text" name="ENSM_stream" disabled class="" id="ENSM_stream">
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="mb-3">
                                    <label for="ENSM_total_semyear" class="">Total Semester / Year</label>
                                    <input type="text" name="ENSM_total_semyear" disabled class="" id="ENSM_total_semyear">
                                </div>
                            </div>
                            
                        </div>
                        <div class="row">
                            <div class="col-4">
                                <div class="mb-3">
                                    <label for="ENSM_semyear" class="">Current Semester / Year</label>
                                    <input type="text" name="ENSM_semyear" disabled class="" id="ENSM_semyear">
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="mb-3">
                                    <label for="ENSM_next_semyear" class="">Next Semester / Year</label>
                                    <input type="text" name="ENSM_next_semyear" disabled class="" id="ENSM_next_semyear">
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="mb-3">
                                    <button style="margin-top:30px;" onclick="EnrollNextSemYear()" class="blue-bg text-blueblue-bg text-blue font-bold font-12 no-border font-bold font-12 no-border " >Enroll</button>
                                </div>
                            </div>
                        </div>
                            

                            
                        `);
                        
                        $('#ENSM_course').val(response.enroll.course);
                        $('#ENSM_stream').val(response.enroll.stream);
                        $('#ENSM_total_semyear').val(response.enroll.total_semyear);
                        $('#ENSM_semyear').val(response.enroll.current_semyear);
                        $('#ENSM_next_semyear').val(response.enroll.can_enroll);
                        
                        
                        
                        $('#NextSemYearmodal').modal('show');
                    }
                    else{
                        $('#nextsemyear_body').append(`
                        <h1 class="text-center text-darkblue font-20 font-bold">Student is in Final Semester / Year</h1>
                        <h2 class="text-center text-darkblue font-20 font-bold" >Cannot Enroll to Next Semester / Year</h2>
                        `);
                        $('#NextSemYearmodal').modal('show');
                    }
                }
                else{
                    $('#enroll_next_semester_student_id').val(response.student)
                    $('#nextsemyear_body').append(`
                        <h1 class="text-center text-darkblue font-20 font-bold" >Full Semester / Year Fees Not Paid</h1>
                        <h2 class="text-center text-darkblue font-20 font-bold" >Please Pay The Full Fees</h2>

                        
                    `);
                    $('#NextSemYearmodal').modal('show');
                }
            }
        });
    }
    
    function EnrollNextSemYear(){
        let confirmAction = confirm("Enroll to Next Semester / Year ?");
        if(confirmAction){
            console.log("Enrolled successfully")
            var student_id = $('#enroll_next_semester_student_id').val()
            var course = $('#ENSM_course').val();
            var stream = $('#ENSM_stream').val();
            var total_semyear = parseInt ($('#ENSM_total_semyear').val());
            var current_semyear = parseInt ($('#ENSM_semyear').val());
            var next_semyear = parseInt ($('#ENSM_next_semyear').val());
            console.log(student_id, course , stream , total_semyear , current_semyear , next_semyear);
            if(student_id && total_semyear && current_semyear && next_semyear){
                if(total_semyear > current_semyear){
                    console.log("can enroll")
                    $.ajax({ // create an AJAX call...
                        data: {
                            'ens_student_id': student_id,
                            'ens_total_semyear': total_semyear,
                            'ens_current_semyear': current_semyear,
                            'ens_next_semyear': next_semyear
                            
                        }, // get the form data
                        type: 'POST', // GET or POST
                        headers: { 'X-CSRFToken': '{{ csrf_token }}' },
                        url: "{% url 'registered_save_enrollment_to_next_semyear' %}", // the file to call  
                    success: function (response) {
                        $('#EnrolledSuccess_body').empty();
                        console.log(response)
                        if (response.enrolled == "yes"){
                            $('#NextSemYearmodal').modal('hide');
                            $('#EnrolledSuccess_body').append(`
                            <h1 class="text-center font-26 font-bold text-blue" >Student Enrolled Successfully.. !!</h1>
                            `);
                            $('#EnrolledSuccessmodal').modal('show');
                        }
                    }
                    });
                }
                else{
                    console.log("cannot enroll")
                }
            }
    }
        
    }
    $("#EnrolledSuccessmodal").on("hidden.bs.modal", function () {
        window.location = "{% url 'registered' %}"
    });
    
    $(document).ready(function(){
          $("#myTab button").click(function(e){
              e.preventDefault();
              $(this).tab("show");
          });
      });

    function CancelEnrollment(id){
        console.log("student cancelled :",id);
        $.ajax({
            data: {
                'cancel_student': id
            }, // get the form data
            type: 'POST', // GET or POST
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            url: "{% url 'registered_cancel_student' %}", // the file to call
            success: function (response) {
                console.log(response);
                $('#cancel_student_id').val(response.data.id)
                $('#CancelStudentEnrollment_table_body').empty()
                if (response.data.is_enrolled == true){
                    set_enrolled = "<i class='fas fa-check'></i>"
                }
                else{
                    set_enrolled = "<i class='fas fa-times'></i>"
                }
                if(response.data.is_cancelled == false){
                    set_active = "<i class='fas fa-check'></i>"
                }
                else{
                    set_active = "<i class='fas fa-times'></i>"
                }
                $('#CancelStudentEnrollment_table_body').append(`
                <tr>
                    <td>${response.data.name}</td>
                    <td>${response.data.mobile}</td>
                    <td>${response.data.email}</td>
                    <td>${set_enrolled}</td>
                    <td>${set_active}</td>
                </tr>
                `);

            }
        });

        $('#CancelStudentEnrollmentModal').modal('show')
      }

        
    function save_cancel_student(id){
        var student_id = id;
        var cancel_status = $('#cancel_student_status').val()
        console.log("student :",id," Status :",cancel_status);
        if(cancel_status == "Active" | cancel_status == "In-Active"){
            $.ajax({
            data: {
                'cancel_student_id': student_id,
                "cancel_student_status":cancel_status
            }, // get the form data
            type: 'POST', // GET or POST
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            url: "{% url 'registered_cancel_student' %}", // the file to call
            success: function (response) {
                console.log(response)
                if(response.success == "yes"){
                    window.location = "{% url 'registered' %}"
                }
            }
        });
        }
      }

    function dataURItoBlob(dataURI) {
    // convert base64/URLEncoded data component to raw binary data held in a string
        var byteString;
        if (dataURI.split(',')[0].indexOf('base64') >= 0)
            byteString = atob(dataURI.split(',')[1]);
        else
            byteString = unescape(dataURI.split(',')[1]);

        // separate out the mime component
        var mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];

        // write the bytes of the string to a typed array
        var ia = new Uint8Array(byteString.length);
        for (var i = 0; i < byteString.length; i++) {
            ia[i] = byteString.charCodeAt(i);
        }

        return new Blob([ia], {type:mimeString});
    }
    
    const downloadFile = (blob, fileName) => {
    const link = document.createElement('a');
    // create a blobURI pointing to our Blob
    link.href = URL.createObjectURL(blob);
    link.download = fileName;
    // some browser needs the anchor to be in the doc
    document.body.append(link);
    link.click();
    link.remove();
    // in case the Blob uses a lot of memory
    setTimeout(() => URL.revokeObjectURL(link.href), 7000);
    };
    
    function SendReciept(id){
        $.ajax({
            data: {
                'send_reciept': id
            }, // get the form data
            type: 'POST', // GET or POST
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            url: "{% url 'registered' %}", // the file to call
            success: function (response) {
                console.log(response);
                if(response.sent == "yes"){
                    $('#send_reciept_student_id').val(response.student.id)
                    $('#download_payment_reciept').append(`
                    <div class="outer-rectangle py-3  ">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="receipt-header p-3">
                    <h1 class="font-20 text-purewhite font-bold">
                        Reciept
                        <small class="font-18 text-black">
                            <i class="fa fa-angle-double-right text-80"></i>
                            ID: ${response.payment_reciept.transactionID}
                        </small>
                    </h1>
                </div>
               <div class="receipt-body px-3">
                <div class="row">
                    <div class="col-6 px-2">
                        <div>
                            <span class="text-purewhite font-16 align-middle">To:</span>
                            <span class="text-purewhite font-16">${response.student.name}</span>
                        </div>
                        <div class="">
                            <div class="text-purewhite font-16">
                                ${response.student.address } ,   ${response.student.city }
                            </div>
                            <div class="text-purewhite font-16">
                                ${response.student.state}  ,   ${response.student.country }
                            </div>
                            <div class="text-purewhite font-16"><i class=""></i> <b class="text-purewhite font-16">${response.student.mobile}</b></div>
                            <div class="text-purewhite font-16"><i class=""></i> <b class="text-purewhite font-16">${response.student.email}</b></div>
                        </div>
                    </div>
                    <div class="col-6 px-2">
                        <div class="">
                            <div class="text-purewhite font-18">
                                Invoice
                            </div>
    
                            <div class="text-purewhite font-16"><i class="fa fa-circle text-blue-m2 text-xs mr-1"></i> <span class="text-purewhite font-16">ID:</span> #${response.payment_reciept.transactionID}</div>
    
                            <div class="text-purewhite font-16"><i class="fa fa-circle text-blue-m2 text-xs mr-1"></i> <span class="text-purewhite font-16">Issue Date:</span> ${response.payment_reciept.transaction_date}</div>
    
                            <div class="text-purewhite font-16"><i class="fa fa-circle text-blue-m2 text-xs mr-1"></i> <span class="text-purewhite font-16">Status:</span> Paid </div>
                    </div>
                    </div>
                </div>
                <div class="row pt-4">
                    <div class="col-2 offset-1">
                        <div class="receipt-header">
                            <h6 class="font-16 text-purewhite font-bold">Semester</h6>
                        </div>
                        <div class="receipt-content">
                            <p class="font-16 text-purewhite">${response.payment_reciept.semyear}</p>
                        </div>
                    </div>
                    <div class="col-2">
                        <div class="receipt-header">
                            <h6 class="font-16 text-purewhite font-bold">Paid Amount</h6>
                        </div>
                        <div class="receipt-content">
                            <p class="font-16 text-purewhite">${response.payment_reciept.paidamount}</p>
                        </div>
                    </div>
                    <div class="col-2">
                        <div class="receipt-header">
                            <h6 class="font-16 text-purewhite font-bold">Pending Amount</h6>
                        </div>
                        <div class="receipt-content">
                            <p class="font-16 text-purewhite">${response.payment_reciept.pendingamount}</p>
                        </div>
                    </div>
                    <div class="col-2">
                        <div class="receipt-header">
                            <h6 class="font-16 text-purewhite font-bold">Transaction Date</h6>
                        </div>
                        <div class="receipt-content">
                            <p class="font-16 text-purewhite">${response.payment_reciept.transaction_date}</p>
                        </div>
                    </div>
                    <div class="col-2">
                        <div class="receipt-header">
                            <h6 class="font-16 text-purewhite font-bold">Mode</h6>
                        </div>
                        <div class="receipt-content">
                            <p class="font-16 text-purewhite">${response.payment_reciept.paymentmode}</p>
                        </div>
                    </div>
                </div>
                <div class="row pt-4">
                    <div class="col-12">
                        <div>
                            <span class="font-26 font-bold text-purewhite">Thank you for your Payment</span>  
                        </div>
                    </div>
                </div>
               </div>
    
            </div>
        </div>
    </div>
</div>
                    `);
                    kendo.drawing.drawDOM($("#download_payment_reciept"))
                    .then(function(group) {
                        // Render the result as a PDF file
                        return kendo.drawing.exportPDF(group, {
                            paperSize: "auto",
                            margin: { left: "1cm", top: "1cm", right: "1cm", bottom: "1cm" }
                        });
                    })
                    .done(function(data) {

                        var file=dataURItoBlob(data)
                        downloadFile(file,"Invoice3.pdf")
                        console.log(file)
                        // Save the PDF file
                        var pdfFile= new FormData()
                        pdfFile.append("send_reciept_file",file)
                        pdfFile.append("send_reciept_student_id",$('#send_reciept_student_id').val())
                        pdfFile.append("send_reciept_paidamount",response.payment_reciept.paidamount)
                        
                        pdfFile.append("csrfmiddlewaretoken", "{{ csrf_token }}");
                        console.log(pdfFile)
                        
                        $.ajax({
                            method: "POST",
                            url: `{% url 'registered' %}`,
                            processData: false,
                            contentType: false,
                            mimeType: "multipart/form-data",
                            data: pdfFile,
                            success: function (res) {
                                $('#download_payment_reciept').empty();
                            }
                        });
                    //     kendo.saveAs({
                    //     dataURI: data,
                    //     fileName: "HR-Dashboard.pdf",
                    //     proxyURL: "https://demos.telerik.com/kendo-ui/service/export"
                        // });
                    });
                }
            }
        });
      }
      function ShowProfilePic(id){
        $.ajax({
            data: {
                'show_profile_pic': id
            }, // get the form data
            type: 'POST', // GET or POST
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            url: "{% url 'registered_show_profile_pic' %}", // the file to call
            success: function (response) {
                // console.log(response)
                if(response.image == "no"){
                    console.log("no image given")
                }
                else{
                    $('#show_profile_pic').modal('show');
                    $('#profile_pic_data').attr("src", response.image.image)
                    console.log(response.image)
                }
            }
        });
      }
</script>

{% endblock script %}


>>>>>>> 0afb1a7cdc5b133066f85bb3be6fd7c58409a049
